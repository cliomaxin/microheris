import{g as global,r as reactExports,j as jsxRuntimeExports,p,c as createRoot,i as install_1}from"./vendor.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();window.Cypress;const scriptRel="modulepreload",assetsURL=function(t){return"https://sdk.fastbundle.co/1.3.0/"+t},seen={},__vitePreload=function(n,r,o){let i=Promise.resolve();if(r&&r.length>0){const s=document.getElementsByTagName("link");i=Promise.all(r.map(a=>{if(a=assetsURL(a),a in seen)return;seen[a]=!0;const l=a.endsWith(".css"),d=l?'[rel="stylesheet"]':"";if(!!o)for(let m=s.length-1;m>=0;m--){const h=s[m];if(h.href===a&&(!l||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${d}`))return;const f=document.createElement("link");if(f.rel=l?"stylesheet":scriptRel,l||(f.as="script",f.crossOrigin=""),f.href=a,document.head.appendChild(f),l)return new Promise((m,h)=>{f.addEventListener("load",m),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${a}`)))})}))}return i.then(()=>n()).catch(s=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s})};(function(){try{var t=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},n=new Error().stack;n&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[n]="7e880ade-30aa-471f-a888-9cd6afc69d28",t._sentryDebugIdIdentifier="sentry-dbid-7e880ade-30aa-471f-a888-9cd6afc69d28")}catch{}})();function convertStringToNode(t){let n=document.createElement("div");for(n.innerHTML=t;n.children.length>0;)return n.children[0]}function appendHtml(t,n){t.appendChild(convertStringToNode(n))}let styles_added=[];function addStyle(t){t&&!styles_added.includes(t)&&(appendHtml(document.getElementsByTagName("head")[0],'<style type="text/css"> '+t+" </style>"),styles_added.push(t))}function addLeftZero(t){let n=String(t),r=n.length;for(let o=0;o<3-r;o++)n="0"+n;return n}function addSeparator(t,n){let r="";for(;parseInt(n/1e3)>0;)r=t+addLeftZero(parseInt(n%1e3))+r,n=parseInt(n/1e3);return r=n+r,r}function getFloatParts(t){let n=t.toFixed(2);return n.substring(n.indexOf(".")+1)}function formatPrice(t){var n,r,o,i;switch(t=Number(t),parseFloat((r=(n=window.Shopify)==null?void 0:n.currency)==null?void 0:r.rate)!==1?"amount":(i=(o=window.FastBundleConf)==null?void 0:o.bundleBox)==null?void 0:i.money_format){case"amount":return addSeparator(",",parseInt(t))+"."+getFloatParts(t);case"amount_no_decimals":return addSeparator(",",Math.round(t));case"amount_with_comma_separator":return addSeparator(".",parseInt(t))+","+getFloatParts(t);case"amount_no_decimals_with_comma_separator":return addSeparator(".",Math.round(t));case"amount_with_apostrophe_separator":return addSeparator("'",parseInt(t))+"."+getFloatParts(t);default:return t}}function applyMoneyFormat(t){return t=formatPrice(t),getCurrencyFormat().replace("%s",t)}const IS_LOCAL_HOST=window.location.href.includes("localhost"),baseUrl="https://api.fastbundle.co/",v3Url=baseUrl+"v3/",v2Url=baseUrl+"v2/",url=IS_LOCAL_HOST?"/products/acb-top-in-chipped-brick":window.location.pathname,bundlesUrl=v3Url+"product-bundles/",fbtBundlesUrl=v3Url+"fbt-bundle/",bapUrl=v3Url+"baps/",allBundleUrl=v3Url+"all-bundles/",bapListUrl=v2Url+"bundle-as-product-list/",IS_DEV=window.location.href.includes("localhost"),NO_DISCOUNT="noDiscount",PERCENTAGE_DISCOUNT="PER",FIX_DISCOUNT="FIX",FREE_SHIPPING="FREE-SHIPPING",SET_PRICE="SET",CURRENCY_MAP={AED:"د.إ",AFN:"؋",ALL:"L",AMD:"֏",ANG:"ƒ",AOA:"Kz",ARS:"$",AUD:"$",AWG:"ƒ",AZN:"₼",BAM:"KM",BBD:"$",BDT:"৳",BGN:"лв",BHD:".د.ب",BIF:"FBu",BMD:"$",BND:"$",BOB:"$b",BRL:"R$",BSD:"$",BTC:"฿",BTN:"Nu.",BWP:"P",BYR:"Br",BYN:"Br",BZD:"BZ$",CAD:"$",CDF:"FC",CHF:"CHF",CLP:"$",CNY:"¥",COP:"$",CRC:"₡",CUC:"$",CUP:"₱",CVE:"$",CZK:"Kč",DJF:"Fdj",DKK:"kr",DOP:"RD$",DZD:"دج",EEK:"kr",EGP:"£",ERN:"Nfk",ETB:"Br",ETH:"Ξ",EUR:"€",FJD:"$",FKP:"£",GBP:"£",GEL:"₾",GGP:"£",GHC:"₵",GHS:"GH₵",GIP:"£",GMD:"D",GNF:"FG",GTQ:"Q",GYD:"$",HKD:"$",HNL:"L",HRK:"kn",HTG:"G",HUF:"Ft",IDR:"Rp",ILS:"₪",IMP:"£",INR:"₹",IQD:"ع.د",IRR:"﷼",ISK:"kr",JEP:"£",JMD:"J$",JOD:"JD",JPY:"¥",KES:"KSh",KGS:"лв",KHR:"៛",KMF:"CF",KPW:"₩",KRW:"₩",KWD:"KD",KYD:"$",KZT:"лв",LAK:"₭",LBP:"£",LKR:"₨",LRD:"$",LSL:"M",LTC:"Ł",LTL:"Lt",LVL:"Ls",LYD:"LD",MAD:"MAD",MDL:"lei",MGA:"Ar",MKD:"ден",MMK:"K",MNT:"₮",MOP:"MOP$",MRO:"UM",MRU:"UM",MUR:"₨",MVR:"Rf",MWK:"MK",MXN:"$",MYR:"RM",MZN:"MT",NAD:"$",NGN:"₦",NIO:"C$",NOK:"kr",NPR:"₨",NZD:"$",OMR:"﷼",PAB:"B/.",PEN:"S/.",PGK:"K",PHP:"₱",PKR:"₨",PLN:"zł",PYG:"Gs",QAR:"﷼",RMB:"￥",RON:"lei",RSD:"Дин.",RUB:"₽",RWF:"R₣",SAR:"﷼",SBD:"$",SCR:"₨",SDG:"ج.س.",SEK:"kr",SGD:"$",SHP:"£",SLL:"Le",SOS:"S",SRD:"$",SSP:"£",STD:"Db",STN:"Db",SVC:"$",SYP:"£",SZL:"E",THB:"฿",TJS:"SM",TMT:"T",TND:"د.ت",TOP:"T$",TRL:"₤",TRY:"₺",TTD:"TT$",TVD:"$",TWD:"NT$",TZS:"TSh",UAH:"₴",UGX:"USh",USD:"$",UYU:"$U",UZS:"лв",VEF:"Bs",VND:"₫",VUV:"VT",WST:"WS$",XAF:"FCFA",XBT:"Ƀ",XCD:"$",XOF:"CFA",XPF:"₣",YER:"﷼",ZAR:"R",ZWD:"Z$"},defaultTranslations={add:"Add",bundleBuilder_added:"added",added_:"Added",add_all_products_to_cart:"Add all products to cart",add_bundle:"Add Bundle",added_items:"Added items",no_item:"No items added!",see_all:"See all",add_to_cart:"ADD TO CART",added:"Added!",added_product_issue:"There's an issue with the added products",added_to_product_list:"Added to the product list",apply_discount:"Discount will be applied at checkout",badge_price_description:"Save {discount}!",bap_modal_sub_title_with_variant:"Review the below boxes, select the proper variant for each included products and click on the button to fix the cart.",bap_modal_sub_title_without_variant:"Review the below boxes and click on the button to fix the cart.",bap_modal_title:"{product_name} is a bundle product that includes {num_of_products} products. This product will be replaced by its included products.",builder_added_count:"{num_added} / {num_must_add} added",builder_count_error:"You must add {quantity} other items from the above collections.",bundle_not_available:"The bundle is not available anymore",buy_all:"Buy all",buy_item:"Buy {quantity} items",buy_from_collections:"Buy from these collections",bxgy_btn_title:"Add to cart",cancel:"Cancel",bundle_title:"Bundle title",choose_items_to_buy:"Choose items to buy together.",collection:"collection",collection_btn_title:"Add selected to cart",collection_item:"Add {quantity} items from {collection}",color:"Color",copied:"Copied!",copy_code:"Copy code",days:"Days",delete_bap_product:"here",discount_applied:"{discount} discount applied",discount_card_desc:"Enter the discount code below if it isn't included at checkout.",discount_card_discount:"Discount code:",dropdown:"dropdown",error_loading_bundles:"There is a problem loading bundles, please try again in a bit!",fix_cart:"Fix your Cart",free:"Free",free_gift:"Free gift",free_gift_applied:"Free gift applied",free_shipping:"Free shipping",funnel_alert:"This item is already in your cart.",funnel_button_description:"Buy this bundle | Save {discount}",funnel_discount_description:"save {discount}",funnel_popup_title:"Complete your cart with this bundle and save",go_to_bundle_builder:"Go to Bundle builder",go_to_offer_page:"Go to Offer Page",get_off_collections:"Get {discount}% Off on these collections",get_free_gift:"Get these free gifts",hours:"Hours",includes_free_shipping:"Includes free shipping",items:"items",items_not_found:"No matching items found",items_selected:"items selected",material:"Material",mix_btn_title:"Add selected to cart",multiple_items_funnel_alert:"Some of the items are already in the cart",no_item_selected:"No items selected!",not_enough:"insufficient inventory",off:"OFF",offer_ends:"This offer ends in",one_time_purchase:"One time purchase",option:"option",out_of:"out of",per_one:"per one",Please_add_product_from_collections:"Please add product from the list",powered_by:"Powered by",price_description:"Add bundle to cart | Save {discount}",price_description_setPrice:"Add to cart for {final_price}",product:"product",products:"products",quantity:"Quantity",min:"Min",remove_from_cart:"Remove from Cart",required_tooltip:"This product is required and can not be deselected",currently_soldout:"This product is currently sold out",save:"Save",search_product:"Search product",sec:"Sec",see_less:"See Less",see_more_details:"See More Details",select_all:"All products",select_all_variants:"Please select all variants",select_all_variants_correctly:"Please select all variants correctly",select_at_least:"You must select at least {minQty} items",select_variant:"Select Variant",select_variant_minimal:"Size / Color / Type",select_variants:"Select variants",select_variants_for:"Select variants for {product}",selected:"selected",selected_products:"Selected products",shipping_cost:"shipping cost",size:"Size",sold_out:"Sold out",style:"Style",add_items:"Please add items",tap_to_check:"Tap to check",this_item:"This item",total:"Total",variant:"Variant",variants:"Variants",view_products_and_select_variants:"See all Products and select their variants",view_offer_details:"View offer details",volume_btn_title:"Add {quantity} | save {discount}",you_must_select_variant:"You must select variant for all items.",zero_discount_btn_title:"Add to cart",no:"No",you_have:"You have",have_not_selected:"You have not selected any items yet",have_selected:"You have selected {quantity} items",not_selected_any:"not selected any items yet.",item:"item",select_at_least_min_qty:"Select at least {min_qty} items to apply the discount.",discount_is_applied:"discount is applied on the selected products.",select_variants_to_show_subscription:`You have not selected the variants
or there are no subscription plans with the selected variants.`,save_more:"Add {range} to save more",select_selling_plan:"Select a selling plan",x_bundle_discount:"Buy from these lists",y_bundle_discount:"Get {discount} on these lists",hide:"Hide",show:"Show",buy:"Buy"},SMALL_MOBILE_SIZE="small rbr-mobile",MOBILE_SIZE="rbr-mobile",DESKTOP_SIZE="rbr-desktop",HR_DESKTOP_SIZE="rbr-hrDesktop",HR_TABLET_SIZE="rbr-hrTablet",SCREEN_SIZE="screenSize",HR_SCREEN_SIZE="hrScreenSize",STANDARD_BUNDLE="standard",MIX_AND_MATCH_BUNDLE="mix_and_match",VOLUME_DISCOUNT_BUNDLE="bogo",ADD_ON_BUNDLE="add_on",FBT_BUNDLE="frequently_bought_together",COLLECTION_BUNDLE="collection",PRODUCT_BUNDLE="product",GENERAL_BUNDLE="general",BXGY_BUNDLE="bxgyf",PMM_WIDGET_TYPE="pmm_widget_type",PMM_WIDGET_MODAL="modal",BXGY_DEFAULT_HR_COUNT=2,BUNDLE_VIEW="bundleView",HORIZONTAL="horizontal",VERTICAL="vertical",BUNDLE_ALIGNMENT="bundleAlignment",ALIGN_TOP="top",ALIGN_CENTER="center",ALIGN_BOTTOM="bottom",VERSION="version",MODERN="modern",CLASSIC="classic",MINIMAL="minimal",COLOR="color",DEFAULT_TITLE="default title",DEFAULT_PAGE_SIZE=6,INVENTORY_POLICY_CONTINUE="continue",CUSTOM_SINGLE_BAP_CHANGE_VARIANT_EVENT="fb:single-bap-variant-changed",bxgyYProductBG="#FFFBFB",colorSwatchBoxContainerSize="400px",MOBILE_MAX_WIDTH="950px";var Ke;const NEW_VOLUME_BUNDLE_METHOD$1=(Ke=window.FastBundleConf)==null?void 0:Ke.volume_discount_add_on_override_fetch,checkSelectedVariants=({properObj:t,selectedVariants:n})=>{let r=!1;return Object.keys(t).filter(o=>t[o].isSelected).forEach(o=>{r||Object.values(n[o]).forEach(i=>{r||i||(r=!0)})}),r},checkCollectionSelectedVariants=({collectionItems:t,selectedVariants:n})=>{for(let r of Object.keys(n)){r=Number(r);let o=t.find(i=>i.id===r);if(n[r].length<o.quantity)return tr_("select_all_variants_correctly")}return null},checkForBundleErrors=t=>{const{type:n,item_type:r,volume_single_variant_selector:o}=t.initialBundle;if(r===COLLECTION_BUNDLE){const i=checkCollectionSelectedVariants({collectionItems:t.initialBundle.collection_items,selectedVariants:t.selectedVariants});if(i)throw i}else switch(n){case VOLUME_DISCOUNT_BUNDLE:{if(!(NEW_VOLUME_BUNDLE_METHOD$1&&o)&&checkSelectedVariants({properObj:t.discounts,selectedVariants:t.selectedVariants}))throw tr_("select_all_variants_correctly");break}case FBT_BUNDLE:case ADD_ON_BUNDLE:case MIX_AND_MATCH_BUNDLE:{if(checkSelectedVariants({properObj:t.items,selectedVariants:t.selectedVariants}))throw tr_("select_all_variants_correctly");break}case BXGY_BUNDLE:case STANDARD_BUNDLE:{if(checkSelectedVariants({properObj:t.items,selectedVariants:t.selectedVariants}))throw tr_("select_all_variants_correctly");break}}return!1},getBundles=async(t,n)=>{var r,o;let i={shop:(r=window.Shopify)==null?void 0:r.shop,url,product_id:t,is_preview:n,lang:(o=window.Shopify)==null?void 0:o.locale};return get({endpoint:`${bundlesUrl}?${new URLSearchParams(i).toString()}`})},getFBT=async(t,n)=>{var r,o;let i={shop:(r=window.Shopify)==null?void 0:r.shop,url,product_id:t,is_preview:n,lang:(o=window.Shopify)==null?void 0:o.locale};return get({endpoint:`${fbtBundlesUrl}?${new URLSearchParams(i).toString()}`})},getBundleAsProduct=async(t,n)=>{var r,o;let i={shop:(r=window.Shopify)==null?void 0:r.shop,url,is_preview:n,lang:(o=window.Shopify)==null?void 0:o.locale};return get({endpoint:`${bapUrl}${t}/?${new URLSearchParams(i).toString()}`})},addToCartAjax=t=>post({endpoint:"/cart/add.js",data:t}),getCartSections=t=>post({endpoint:"/cart/update.js",data:{attributes:{},sections:t.join(",")}}),getCartData=()=>get({endpoint:"/cart.js"}),getCollectionProducts=({collection_id:t,page:n=1,abortController:r})=>{var o;const i={shop_domain:(o=window.Shopify)==null?void 0:o.shop,collection_id:t,page:n};return get({endpoint:`${baseUrl}v3/collection-products/?${new URLSearchParams(i).toString()}`,abortController:r})},postCartBundle=t=>{let n=`${baseUrl}v1/carts/bundles/`;return post({endpoint:n,data:t})},postCartUpdate=t=>post({endpoint:"/cart/update.js",data:t});let productDetails={};const getProductDetail=t=>{var n,r;const o=((r=(n=window.Shopify)==null?void 0:n.routes)==null?void 0:r.root)??"/";return productDetails[t]?Promise.resolve(productDetails[t]):get({endpoint:`${o}products/${t}.js`}).then(i=>(productDetails[t]=i,i))};let collectionDetails={};const getCollectionDetails=t=>{var n,r;const o=((r=(n=window.Shopify)==null?void 0:n.routes)==null?void 0:r.root)??"/";return collectionDetails[t]?Promise.resolve(collectionDetails[t]):get({endpoint:`${o}collections/${t}.json`}).then(i=>(collectionDetails[t]=i,i))},getAllBundles=async({bundleIDs:t="",isPreview:n,page:r,abortController:o={}})=>{var i,s;let a={shop:(i=window.Shopify)==null?void 0:i.shop,ids:t,page:r,url,page_type:getPageType(),is_preview:n,lang:(s=window.Shopify)==null?void 0:s.locale};return get({endpoint:`${allBundleUrl}?${new URLSearchParams(a).toString()}`,abortController:o})},getBundleBuilder=async(t,n,r)=>{var o;const i={shop:n,ids:t,page:1,url,page_type:getPageType(),lang:(o=window.Shopify)==null?void 0:o.locale,is_preview:r};return(await get({endpoint:`${allBundleUrl}?${new URLSearchParams(i).toString()}`})).results[0]},getBAPList=()=>{var t;return get({endpoint:bapListUrl+"?"+new URLSearchParams({shop:(t=window.Shopify)==null?void 0:t.shop})})};var We;const useSellingPlans$1=(We=window.FastBundleConf)==null?void 0:We.enable_subscriptions,syncItems=(t,n)=>{var r,o;if(!isMultiCurrencyLingual||t.initialBundle.item_type===COLLECTION_BUNDLE)return;let i=t.initialBundle.items;const s=(o=Object.keys(((r=t.initialBundle)==null?void 0:r.variants)??{}))==null?void 0:o.length,a=[];for(const l of i)a.push(getProductDetail(l.handle));Promise.allSettled(a).then(l=>{conditionalLog("syncItems",l);for(let d=0;d<i.length;d++)l[d].status==="fulfilled"&&(processBundleItems(d,l[d].value,t),n(_=>({..._,...t})));if(!s)n(d=>findIdenticalSellingPlans(d));else if(useSellingPlans$1){const d=window.location.pathname.split("/");getProductDetail(d[d.length-1]).then(_=>{const f=getSellingPlan(_.variants[0],_.selling_plan_groups);n(m=>({...m,identicalSellingPlans:f}))})}}).catch(l=>{console.error(l)}).finally(()=>n(l=>({...l,loading:!1})))};function getCartVariants(t){let n=localStorage.getItem("rbr-funnelVariants");if(!n||!t.items)return t;let r=JSON.parse(n),o=[];return t.items.forEach(i=>o.push(i.variants.map(s=>s.id).join("-"))),o.forEach((i,s)=>{Object.keys(r).forEach(a=>{i.indexOf(a)!==-1&&(t.items[s].cartVariants={[Number(a)]:r[a],...t.items[s].cartVariants??{}})})}),t}var Xe,Ze;const showSoldOut=(Ze=(Xe=window.FastBundleConf)==null?void 0:Xe.bundleBox)==null?void 0:Ze.show_sold_out,INFINITE_QUANTITY$1=1e4,standardBundleProcess=(t,n,r)=>{t.quantity>r&&(n.soldOut=!0)},mixAndMatchProcess=(t,n,r)=>{t.quantity>r&&(t.is_required&&(n.soldOut=!0),n.items[t.item_id].soldOut=!0,n.items[t.item_id].isSelected=!1)},addOnProcess=(t,n,r)=>{t.quantity>r&&((t.is_required||!t.is_add_on)&&(n.soldOut=!0),n.items[t.item_id].soldOut=!0,n.items[t.item_id].isSelected=!1)},bogoProcess=(t,n,r,o)=>{o.discounts.forEach(i=>{+i.quantity>r&&(n.discounts[i.id].soldOut=!0)}),n.soldOut=o.discounts.every(i=>n.discounts[i.id].soldOut)},bxgyProcess=(t,n,r)=>{t.quantity>r&&(n.soldOut=!0,n.items[t.item_id].soldOut=!0,n.items[t.item_id].isSelected=!1)};function soldOutProcess(t,n,r,o){const i=[];t.variants.forEach((a,l)=>{a.inventory_policy==="continue"||!a.inventory_management?(t.variants[l].quantity=INFINITE_QUANTITY$1,i.push(a)):+(a.quantity>0)&&i.push(a)});const s=i.reduce((a,l)=>l.quantity+a,0);switch(r.type){case STANDARD_BUNDLE:standardBundleProcess(t,o,s);break;case ADD_ON_BUNDLE:addOnProcess(t,o,s),o.soldOut=o.soldOut||Object.values(o.items).filter(a=>a.isAddOn).every(a=>a.soldOut);break;case MIX_AND_MATCH_BUNDLE:mixAndMatchProcess(t,o,s);break;case VOLUME_DISCOUNT_BUNDLE:bogoProcess(t,o,s,r);break;case BXGY_BUNDLE:bxgyProcess(t,o,s);break}t.isSelected=t.isSelected&&!t.soldOut,!o.soldOut&&!showSoldOut&&(o.initialBundle.items[n].variants=i)}function getFirstAvailableVariantId(t){var n;const r=((n=t.variants)==null?void 0:n.filter(o=>o.quantity>0||o.inventory_management!=="shopify"||o.inventory_policy!=="deny"))||[];return r.length===0?null:r?r[0].id:t.variants[0].id}var Je,Qe;const trackInventory=(Qe=(Je=window.FastBundleConf)==null?void 0:Je.bundleBox)==null?void 0:Qe.track_inventory;var et;const PID=+((et=window.FastBundleConf)==null?void 0:et.pid);var tt,nt;const USE_FIRST_VARIANT=(nt=(tt=window.FastBundleConf)==null?void 0:tt.bundleBox)==null?void 0:nt.use_first_variant,INFINITE_QUANTITY=1e4;var rt;const PMM_NEW_DESIGN=(rt=window.FastBundleConf)==null?void 0:rt.pmm_new_design;function applyPreProcess(t,n){t.discounts.sort((r,o)=>r.quantity-o.quantity),t.discount={...t.discounts[0]},t.originalItemType=t.originalItemType||t.item_type,(t.type===VOLUME_DISCOUNT_BUNDLE||t.type===FBT_BUNDLE||t.type===ADD_ON_BUNDLE)&&(t.item_type=PRODUCT_BUNDLE),t.items&&(t.items.forEach(r=>{r.item_id||(r.item_id=r.id),r.quantity||(r.quantity=1)}),t.items.forEach((r,o)=>{r.position=r.position||o}),t.items.sort((r,o)=>r.position-o.position)),n&&(t=getCartVariants(t)),t.type===FBT_BUNDLE&&t.items.sort(r=>r.is_required?-1:1)}const initBundleData=t=>({initialBundle:t,bundleErrorText:"",variants:{},items:{},discounts:{},selectedVariants:{},selectedSellingPlan:void 0,identicalSellingPlans:[],sellingPlans:{},loading:isMultiCurrencyLingual,items_checked:t.items_checked});function processItems(t,n){const r=t.use_compare_at_price?"compare_at_price":"price";t.items.forEach((o,i)=>{t.items[i].item_id=o.item_id||o.id,o.cartIndex=0,n.items[o.item_id]={soldOut:!1,isSelected:!0,hasOneVariant:!1,lastSelectedIndex:-1,quantity:+o.quantity,item_id:o.item_id,collection_id:null,isAddOn:o.is_add_on},o.variants.forEach(s=>{const a=s[r]||s.price,l=s["raw_"+r]||s.raw_price,d=s.inventory_policy==="continue"||!s.inventory_management;n.variants.hasOwnProperty(s.id)||(n.variants[s.id]={image:s.image,price:a,raw_price:Number(l),quantity:d?INFINITE_QUANTITY:Number(s.quantity),title:s.title,item_id:o.item_id})})})}function processVolumeBundle(t,n){const r=t.items[0].variants.length===1,o=t.items[0];t.discounts.forEach((i,s)=>{n.selectedVariants[i.id]={},n.discounts[i.id]={isSelected:i.is_default??s===0,quantity:i.quantity};for(let a=0;a<i.quantity;a++)trackInventory&&(r||USE_FIRST_VARIANT)&&getFirstAvailableVariantId(o)&&(n.variants[getFirstAvailableVariantId(o)].quantity-=1),n.selectedVariants[i.id][a]=r||USE_FIRST_VARIANT?getFirstAvailableVariantId(o):null;n.discounts[i.id].lastSelectedIndex=r?0:-1})}function processAddOnBundle(t,n){t.items.forEach(r=>{n.items[r.item_id].isSelected=r.add_on_preselect})}function mixAndMatchSelectStatusHandler(t,n){switch(t.items_selection_type){case"all":return!0;case"main":return PID===n;case"none":return!1;default:return!0}}function processPMMBundle(t,n){const r=t[PMM_WIDGET_TYPE]===PMM_WIDGET_MODAL,o=t.item_type===COLLECTION_BUNDLE;t.items.forEach(i=>{const s=!r&&!PMM_NEW_DESIGN&&!o&&(i.is_required||mixAndMatchSelectStatusHandler(t,i.id));n.items[i.item_id].isSelected=s;let a;if(s?a=+i.quantity:a=0,n.items[i.item_id].quantity=a,r)n.selectedVariants={...n.selectedVariants,[i.item_id]:[]};else if(PMM_NEW_DESIGN)n.selectedVariants[i.item_id]={},i.cartIndex=0;else{const l=i.variants.length===1,d=l||USE_FIRST_VARIANT&&i.variants.length>0;n.selectedVariants[i.item_id]={},i.cartIndex=0;for(let _=0;_<i.quantity;_++)trackInventory&&d&&getFirstAvailableVariantId(i)&&(n.variants[getFirstAvailableVariantId(i)].quantity-=1),n.selectedVariants[i.item_id][_]=d?getFirstAvailableVariantId(i):null;n.items[i.item_id].lastSelectedIndex=l?0:-1}})}function processCollectionsBundle(t,n){let r={},o={};t.collection_items.forEach(i=>{r[i.id]=i.collection,o[i.id]=[]}),n.selectedVariants=o,n.collections=r}function processDefaultBehaviour(t,n){t.items.forEach(r=>{let o=0;const i=r.variants.length===1;n.selectedVariants[r.item_id]={},r.cartVariants&&Object.keys(r.cartVariants).forEach(s=>{let a=Number(s);for(let l=0;l<r.cartVariants[s];l++){if(o>=r.quantity)return;n.selectedVariants[r.item_id][o]=a,trackInventory&&(n.variants[a].quantity-=1),o++}}),r.cartIndex=o;for(let s=o;s<r.quantity;s++)trackInventory&&(i||USE_FIRST_VARIANT)&&getFirstAvailableVariantId(r)&&(n.variants[getFirstAvailableVariantId(r)].quantity-=1),n.selectedVariants[r.item_id][s]=i||USE_FIRST_VARIANT?getFirstAvailableVariantId(r):null;n.items[r.item_id].lastSelectedIndex=i?0:-1}),t.items.sort((r,o)=>r.cartIndex>o.cartIndex?-1:0)}function processBundle(t,n=!1){var r;applyPreProcess(t,n);const{type:o,item_type:i}=t,s={...initBundleData(t)};return i===PRODUCT_BUNDLE||i===GENERAL_BUNDLE?(processItems(t,s),o===ADD_ON_BUNDLE&&processAddOnBundle(t,s),o===VOLUME_DISCOUNT_BUNDLE?processVolumeBundle(t,s):o===MIX_AND_MATCH_BUNDLE?processPMMBundle(t,s):processDefaultBehaviour(t,s),(r=t==null?void 0:t.items)==null||r.forEach((a,l)=>{trackInventory&&soldOutProcess(a,l,t,s)})):i===COLLECTION_BUNDLE&&processCollectionsBundle(t,s),s}var st,ot,it,at,ct,lt;const isMultiCurrencyLingual=window.location.hostname!=="localhost"&&window.location.hostname!=="127.0.0.0"&&window.location.host.indexOf("app.fastbundle")===-1&&(Number((ot=(st=window.Shopify)==null?void 0:st.currency)==null?void 0:ot.rate)!==1||((it=window.Shopify)==null?void 0:it.locale)!==((ct=(at=window.FastBundleConf)==null?void 0:at.bundleBox)==null?void 0:ct.primary_locale)||!!window.FastBundleConf.use_shopify_prices||!!((lt=window.FastBundleConf)!=null&&lt.enable_subscriptions));function getPrecisionNumber(t){t=Number(t);let n=String(t).indexOf(".");return n===-1?t:(n+=2,t.toPrecision(n))}function discountTypeHandler(t,n,r,o=!1){var i,s,a,l,d,_;if(n){let f=n.type,m=!0,h=n.quantity;const v=t.variants;let S=t.selectedVariants[n.id]?Object.values(t.selectedVariants[n.id]).reduce((D,R)=>{var G;return D||((G=v[R])==null?void 0:G.excluded)},!1):!1;t.initialBundle.item_type===COLLECTION_BUNDLE?h=Object.values(t.selectedVariants).reduce((D,R)=>[...D,...R],[]).length:(i=t.initialBundle)!=null&&i.items&&t.initialBundle.type!=="bogo"&&((s=t.initialBundle)==null||s.items.filter(D=>D.is_required).forEach(D=>m=m&&t.items[D.item_id].isSelected),h=0,(a=t.initialBundle)==null||a.items.filter(D=>t.items[D.item_id].isSelected).forEach(D=>h+=Object.keys(t.selectedVariants[D.item_id]).length)),(S||!m||!o&&h<n.quantity&&!t.soldOut||f!==FREE_SHIPPING&&f!==SET_PRICE&&n.value===0)&&(f=NO_DISCOUNT);let b,C;switch(f){case FREE_SHIPPING:return{discountType:FREE_SHIPPING,discountValue:tr_("shipping_cost"),discount:0,afterDiscountPrice:Number(r)};case NO_DISCOUNT:return{discountType:NO_DISCOUNT,discountValue:"",discount:0,afterDiscountPrice:Number(r),includesExcludedVariants:S};case PERCENTAGE_DISCOUNT:return b=Number(r)*(1-+n.value/100),{discountType:PERCENTAGE_DISCOUNT,discountValue:((_=(d=(l=getFastBundleConfig())==null?void 0:l.bundleBox)==null?void 0:d.percentage_format)==null?void 0:_.replace("%s",n.value))??0,discount:n.value,afterDiscountPrice:getPrecisionNumber(b)};case FIX_DISCOUNT:return C=convertPrice(+n.value),b=Number(r)-C,{discountType:FIX_DISCOUNT,discountValue:applyMoneyFormat(C),discount:C,afterDiscountPrice:getPrecisionNumber(b)};case SET_PRICE:{C=convertPrice(+n.value),b=Math.min(C??0,Number(r));let D=Number(r)>C?Number(r)-C:0;return{discountType:SET_PRICE,discountValue:applyMoneyFormat(getPrecisionNumber(D)),discount:D,afterDiscountPrice:getPrecisionNumber(b)}}default:return{}}}}const dispatchBundleValue=(t,n,r,o,i)=>{t(i!==void 0?s=>({...s,[n]:{...s[n],[r]:{...s[n][r],[i]:o}}}):s=>({...s,[n]:{...s[n],[r]:{...o}}}))},errorHandler=async t=>{const n=await t.json();return n.status=t.status,Promise.reject(n)},get=({endpoint:t,abortController:n})=>window.fetch(`${t}`,{signal:n?n.signal:void 0}).then(async r=>r.ok?Promise.resolve(await r.json()):errorHandler(r)),post=({endpoint:t,data:n,abortController:r})=>window.fetch(`${t}`,{method:"POST",signal:r?r.signal:void 0,headers:{"Content-Type":"application/json","X-Fastbundle-Request":"yes"},body:JSON.stringify(n)}).then(async o=>o.ok?Promise.resolve(await o.json()):errorHandler(o));function findProperElement(){var t;if(IS_DEV)return document.getElementById("root");const n=window.FastBundleConf;let r=n.pid&&n.bap_ids.includes(Number(n.pid)),o=document.querySelector(productPageSelector);if(o&&!r)return o;let i=document.querySelectorAll(bundlePageSelector);if(i.length&&!n.pid)return i[0];let s=(t=window.FastBundleConf)==null?void 0:t.bundleBox;const a=s.nth_child-1;let l=r?s.bap_inject_selector:s.inject_selector;if(l)return getQuerySelectorsAll(`${l}`)[a];{let d=["add","Add"],_=["/cart/add"],f=document.querySelectorAll("product-form");if(f.length>0)return f[a];for(let m=0;m<_.length;m++)if(f=document.querySelectorAll(`form[action="${_[m]}"]`),f.length>0)return f[a];for(let m=0;m<d.length;m++)if(f=document.querySelectorAll(`button[name="${d[m]}"]`),f.length>0)return f[0].parentNode;return document.getElementById("root")}}const bundlePageSelector=".rbrFastBundlePage, #rbrFastBundlePage",productPageSelector=".rbrProductBundlePosition",path=url;function isProductPage(){return path.indexOf("/products/")!==-1}function isCartPage(){return path.indexOf("/cart")!==-1&&path.indexOf("/products/")===-1}function isBundlePage(){return document.querySelectorAll(bundlePageSelector).length>0}function getPageType(){return isBundlePage()?"bundle":isProductPage()?"product":isCartPage()?"cart":"main"}function getUrlParams(t,n){if(!n)return"";t=t.replace(/[[\]]/g,"\\$&");const r=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)"),o=r.exec(n);return o?o[2]?decodeURIComponent(o[2].replace(/\+/g," ")):"":null}function getViewWidth(t){var n,r,o;if(t)return"100%";const i=findProperElement();let s=(r=(n=window.FastBundleConf)==null?void 0:n.bundleBox)==null?void 0:r.style_object,a=(o=s.box)!=null&&o.width?s.box.width:"100%";if(!i||i.offsetWidth>700&&a==="100%")return"432px";if(a==="100%")return"100%";{const l=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0);return Math.min(a,l)}}const imageSourceHandler=({bundle:t,index:n,id:r,itemImage:o})=>{var i;const s=t[n][r].lastSelectedIndex,a=(i=t.selectedVariants[r])==null?void 0:i[s];return a&&t.variants[a].image||o};function getCurrencyFormat(){var t,n,r,o,i;let s=(t=window.Shopify)==null?void 0:t.currency,a=(r=(n=window.FastBundleConf)==null?void 0:n.bundleBox)==null?void 0:r.currency_format,l=(i=(o=window.FastBundleConf)==null?void 0:o.bundleBox)==null?void 0:i.currency;return Number(s==null?void 0:s.rate)===1&&(s==null?void 0:s.active)===l||(a=(CURRENCY_MAP[s==null?void 0:s.active]?CURRENCY_MAP[s==null?void 0:s.active]:(s==null?void 0:s.active)+" ")+"%s"),a}function processBundleItems(t,n,r){const o=r.initialBundle.use_compare_at_price?"compare_at_price":"price";let i=getCurrencyFormat();const s=r.initialBundle.items[t];r.initialBundle.items[t].title=n.title,r.initialBundle.items[t].options=n.options,n.variants.filter(a=>s.variants.filter(l=>l.id===a.id).length>0).forEach(a=>{const l=r.initialBundle.items[t].variants.findIndex(h=>+h.id==+a.id),d=a[o]?a[o]/100:a.price/100,_=getSellingPlan(a,n.selling_plan_groups);r.sellingPlans[a.id]=_,r.has_selling_plan=!!_.length,r.initialBundle.items[t].variants.length===1?r.requiresSellingPlan=n.requires_selling_plan:r.initialBundle.items[t].requiresSellingPlan=n.requires_selling_plan;const f=a.available?r.initialBundle.items[t].variants[l].quantity:0,m={image:a.featured_image&&!a.image?a.featured_image.src:a.image,price:i.replace("%s",d.toFixed(2)),raw_price:d,title:a.title,option1:a.option1,option2:a.option2,option3:a.option3,quantity:f};r.variants[a.id]={...r.variants[a.id],...m},r.initialBundle.items[t].variants[l]={...r.initialBundle.items[t].variants[l],...m}}),r.loading=!1}const currencyFormat=getCurrencyFormat(),priceCurrencyHandler=t=>currencyFormat.replace("%s",(+t||0).toFixed(2)),findSelectedItems=({array:t,index:n})=>{Object.keys(n).forEach(r=>{n[r].isSelected&&t.push(r)})},rawPriceHandler=({initialBundle:t,discounts:n,items:r,selectedVariants:o,variants:i})=>{let s=0;if(t.item_type===PRODUCT_BUNDLE){const a=[];findSelectedItems({array:a,index:t.type===VOLUME_DISCOUNT_BUNDLE?n:r}),a.forEach(l=>{Object.values(o[l]).forEach(d=>{var _,f,m,h;d?s+=i[d].raw_price:t.type===VOLUME_DISCOUNT_BUNDLE?s+=t.items[0].variants[0].raw_price:s+=((h=(m=(f=(_=t.items.filter(v=>+v.item_id==+l))==null?void 0:_[0])==null?void 0:f.variants)==null?void 0:m[0])==null?void 0:h.raw_price)??0})})}else t.item_type===COLLECTION_BUNDLE&&(s=Object.values(o).reduce((a,l)=>[...l,...a],[]).reduce((a,l)=>a+i[l].raw_price,0));return s};function tr_(t){var n,r,o;const i=(n=window.Shopify)==null?void 0:n.locale;let s={};return(o=(r=window.FastBundleConf)==null?void 0:r.translations)==null||o.filter(a=>a.language_code===i).forEach(function(a){s[a.translation_type]=a.translation_text}),t in s&&s[t]?s[t]:t in defaultTranslations?defaultTranslations[t]:""}function waitForElement(t,n){return new Promise((r,o)=>{let i=null;if(document.querySelectorAll(t).length)return r();const s=new MutationObserver(()=>{if(document.querySelectorAll(t).length)return s.disconnect(),i&&clearTimeout(i),r()});s.observe((document==null?void 0:document.body)??document,{childList:!0,subtree:!0}),n&&(i=setTimeout(()=>{s.disconnect(),o(`Element(s) with "${t}" identifiers not found!`)},n))})}function returnElement(t,n){return new Promise((r,o)=>{let i=null,s=t();if(s)return r(s);const a=new MutationObserver(()=>{if(s=t(),s)return a.disconnect(),i&&clearTimeout(i),r(s)});a.observe((document==null?void 0:document.body)??document,{attributes:!0,childList:!0,subtree:!0}),n&&(i=setTimeout(()=>{a.disconnect(),o("The proper element was not found")},n))})}function convertPrice(t){var n;let r=(n=window.Shopify)==null?void 0:n.currency;if(!r)return t;let o=parseFloat(r.rate);return o===1?t:t*o}function getStyleKey(t){return t.item_type===COLLECTION_BUNDLE&&t.type===STANDARD_BUNDLE?"col_mix_and_match":t.type===FBT_BUNDLE||t.type===BXGY_BUNDLE&&t.item_type===COLLECTION_BUNDLE?STANDARD_BUNDLE:t.type===BXGY_BUNDLE?BXGY_BUNDLE:(t==null?void 0:t.type)??"standard"}function styleObject(t={},n=!1){var r,o,i,s,a,l;if(n)return(i=(o=(r=window.FastBundleConf)==null?void 0:r.cartInfo)==null?void 0:o.style_object)==null?void 0:i.standard;let d=getStyleKey(t);return((l=(a=(s=window.FastBundleConf)==null?void 0:s.bundleBox)==null?void 0:a.style_object)==null?void 0:l[d])??{}}function findNotNullKeys({obj:t,keyName:n}){return Object.keys(t).filter(r=>r.includes(n)&&t[r]!==null)}function getIdenticalPlans(t){let n=[];return t.forEach((r,o)=>{if(!r){n=[];return}if(o===0){n=[...r];return}if(!n.length){n=[];return}n=n.filter(i=>r.find(s=>s.id===i.id&&s.group_id===i.group_id))}),n}function findIdenticalSellingPlans(t){var n,r,o;const i=(r=Object.keys(((n=t.initialBundle)==null?void 0:n.variants)??{}))==null?void 0:r.length;if(!((o=window.FastBundleConf)!=null&&o.enable_subscriptions)||i)return t;try{const s=[];Object.keys(t.selectedVariants).filter(d=>t.items[d]?t.items[d].isSelected:t.discounts[d].isSelected).forEach(d=>{Object.values(t.selectedVariants[d]).forEach(_=>{s.push(_?t.sellingPlans[_]:[])})});const a=getIdenticalPlans(s),l=t.selectedSellingPlan?t.selectedSellingPlan:a.length&&t.requiresSellingPlan?a[0].id:void 0;return{...t,identicalSellingPlans:a,selectedSellingPlan:l}}catch(s){return sendExceptionToSentry(s),t}}function getSellingPlan(t,n){var r;const o=[];return(r=t.selling_plan_allocations)==null||r.forEach(i=>{const s=n.find(d=>d.id===i.selling_plan_group_id),a=s.selling_plans.find(d=>d.id===i.selling_plan_id),l={id:a.id,title:a.name,group_id:s.id};o.push(l)}),o}const searchParam=window.location.search.length?`${window.location.search}&openSlider=true`:"?openSlider=true";var dt;const{cart_drawer_function}=((dt=window.FastBundleConf)==null?void 0:dt.bundleBox)||{};var ut,_t;const shopifyRoot=((_t=(ut=window.Shopify)==null?void 0:ut.routes)==null?void 0:_t.root)??"/";function redirectToCartPage(){window.open(`${shopifyRoot}cart`,"_self")}function redirectToCartDrawer(data,bundle){cart_drawer_function?eval(cart_drawer_function)(data,bundle.initialBundle):window.open(window.location.pathname+searchParam,"_self")}function redirectToCheckout(t){const n=t?`?discount=${t}`:"";window.open(`${shopifyRoot}checkout${n}`,"_self")}function getCartBundleData(t,n,r,o=[]){var i,s;let a;return((i=t.initialBundle)==null?void 0:i.type)===FBT_BUNDLE&&(a={},r.forEach(l=>{a[l.id]=l.quantity})),{token:n,bundle:t.initialBundle.id,show_uuid:t.initialBundle.uuid,shop:(s=window.Shopify)==null?void 0:s.shop,user_ip:"",click_from_url:window.location.pathname,click_from_page_type:getPageType(),fbt_variants:a,bundle_variants:o,selling_plan_id:t.selectedSellingPlan}}var ft;const{add_bundle_action,pre_add_script:preAddScript}=((ft=window.FastBundleConf)==null?void 0:ft.bundleBox)||{};var pt;const useCartHiddenAttributes=(pt=window.FastBundleConf)==null?void 0:pt.use_cart_hidden_attributes,actionCallBack=(t,n)=>{if(add_bundle_action==="checkout")return redirectToCheckout(window.rbrCurrentDiscountCode);if(add_bundle_action==="cart-drawer")return redirectToCartDrawer(t,n);if(add_bundle_action==="cart-page")return redirectToCartPage()};async function addToShopifyCart(processedVariants,bundle,collectionVariants=[]){const preAddProcess=new Promise((resolve,reject)=>{if(preAddScript)try{processedVariants=eval(preAddScript)(processedVariants,bundle.initialBundle)}catch(t){reject(t)}resolve(processedVariants)}),items=await preAddProcess,addToCartResponse=await addToCartAjax({items:items.reverse()});if(addToCartResponse.status==="bad_request"||addToCartResponse.status===422)throw addToCartResponse.description;const cartData=await getCartData(),cartBundlePayload=getCartBundleData(bundle,cartData.token,items,collectionVariants),cartBundleResponse=await postCartBundle(cartBundlePayload),cartUpdateBody={attributes:{"Bundle id":cartBundleResponse.cart_discount_id}};useCartHiddenAttributes||postCartUpdate(cartUpdateBody).catch(t=>console.error(t)),await window.rbrCartHandler(!1,null,!0,!1),await checkDiscountApplication(bundle,items.map(t=>t.id)),actionCallBack(cartData,bundle)}function getBXGYDiscountFix(t){var n,r,o,i,s,a,l;let d=0;return((n=t.initialBundle)==null?void 0:n.type)===BXGY_BUNDLE&&((o=(r=t.initialBundle)==null?void 0:r.discount)==null?void 0:o.type)!==FIX_DISCOUNT&&((s=(i=t.initialBundle)==null?void 0:i.items)==null||s.filter(_=>_.ignores_discount).forEach(_=>{for(let f=0;f<_.quantity;f++){let m=t.selectedVariants[_.item_id][f],h=m?t.variants[m].raw_price:_.variants[0].raw_price;const{afterDiscountPrice:v}=discountTypeHandler(t,t.initialBundle.discounts[0],h);d+=h-v}}),(l=(a=t.initialBundle)==null?void 0:a.collection_items)==null||l.filter(_=>_.ignores_discount).forEach(_=>{var f;(f=t.selectedVariants[_.id])==null||f.forEach(m=>{const h=t.variants[m].raw_price,{afterDiscountPrice:v}=discountTypeHandler(t,t.initialBundle.discounts[0],h);d+=h-v})})),d}const observeIntersection=(t,n,r,o)=>{const i=new IntersectionObserver(s=>{s[0].isIntersecting&&!r&&n(o)},{threshold:1});return t&&i.observe(t),()=>{t&&(o.abort(),i.unobserve(t))}},observeScroll=(t,n,r,o)=>{const i=()=>{if(r)return;const s=t.getBoundingClientRect();s.top>=0&&s.left>=0&&s.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&s.right<=(window.innerWidth||document.documentElement.clientWidth)&&n(o)};return i(),window.addEventListener("scroll",i),()=>{o.abort(),window.removeEventListener("scroll",i)}};function useInfiniteScroll(t){const{callback:n,target:r,isLoading:o}=t;reactExports.useEffect(()=>{const{current:i}=r,s=new AbortController;let a;return"IntersectionObserver"in window?a=observeIntersection(i,n,o,s):a=observeScroll(i,n,o,s),a},[n,o,r])}async function addPreAddScript(processedVariants,initialBundle){return new Promise((resolve,reject)=>{var e;const{pre_add_script:preAddScript}=((e=window.FastBundleConf)==null?void 0:e.bundleBox)||{};if(preAddScript)try{processedVariants=eval(preAddScript)(processedVariants,initialBundle)}catch(t){reject(t)}resolve(processedVariants)})}function findAddToCartButton(){var t;let n=null,r=(t=window.FastBundleConf)==null?void 0:t.bundleBox;return r.bap_button_selector&&(n=document.querySelector(r.bap_button_selector)),n||(n=document.querySelector('form[action*="/cart/add"] button[name="add"]')),n||(n=document.querySelector('button[name="add"]')),n||(n=document.querySelector('form[action="/cart/add"] button')),n||(n=document.querySelector('input[name="add"]')),n}var gt,mt;const BAP_NONE_SELECTOR=(mt=(gt=window.FastBundleConf)==null?void 0:gt.bundleBox)==null?void 0:mt.bap_none_selector;var ht,yt;const VOLUME_VARIANT_SELECTOR=(yt=(ht=window.FastBundleConf)==null?void 0:ht.bundleBox)==null?void 0:yt.volume_variant_selector,EXCLUDED_HIDING_SELECTOR=window.rbrExcludeHidingSelector,VARIANT_INPUT_PARENTS="variant-selects, variant-radios";function hideInputElements(t,n=!1,r=!1){if(!t)return;let o=[...t.parentNode.parentNode.parentNode.querySelectorAll("button, input, select"),...document.querySelectorAll(".product-form__input"),...document.querySelectorAll("shopify-accelerated-checkout")];if(!o.length)return;for(const s of o)if(!(s.matches(".rbr-bap-main-container select")||s.matches(".rbr-sbap_body select")||s.matches(".rbr-mix_bap input")||s.matches(".rbr-mix_bap select")||s.matches('[type="hidden"]')||s.matches(".rbr-bundles-container input")||s.matches(".rbr-bundles-container select")||s.matches('[class*="rbr"] *')||EXCLUDED_HIDING_SELECTOR&&s.matches(EXCLUDED_HIDING_SELECTOR)||s===t&&n||r&&(s.parentNode.matches(VARIANT_INPUT_PARENTS)||VOLUME_VARIANT_SELECTOR&&(s.matches(VOLUME_VARIANT_SELECTOR)||s.parentNode.matches(VOLUME_VARIANT_SELECTOR)))))if(conditionalLog("making invisible:",s),s.parentNode.contains(t)){s.style.setProperty("display","none","important");let a=s.parentNode.querySelectorAll("label");a.length===1&&a[0].style.setProperty("display","none","important")}else s.parentNode.style.setProperty("display","none","important");if(!BAP_NONE_SELECTOR)return;let i=getQuerySelectorsAll(BAP_NONE_SELECTOR);for(let s=0;s<i.length;s++){let a=i[s];a.style.setProperty("display","none","important"),conditionalLog("making invisible:",a)}}function getProductPageSelectedVariant(){const t=document.querySelector('form[action*="/cart/add"] input[name="id"]');let n="";if(n=t==null?void 0:t.value,!n){const r=document.querySelector('form[action*="/cart/add"] select[name="id"]');n=(r==null?void 0:r.value)??0}return n}function fillVolumeBundleSelectedVariantObject({setBundle:t}){const n=getProductPageSelectedVariant();n&&t(r=>{const o=Object.keys(r.discounts),i={};for(const s of o){const a=r.discounts[s];i[s]={};for(let l=0;l<a.quantity;l++)i[s][l]=n}return{...r,selectedVariants:{...r.selectedVariants,...i}}})}function fillAddOnBundleSelectedVariantObject({setBundle:t}){const n=getProductPageSelectedVariant();n&&t(r=>{const o=r.initialBundle.items.filter(i=>!i.is_add_on)[0];return{...r,selectedVariants:{...r.selectedVariants,[o.item_id]:{0:n}}}})}function getBorderRadiusSize(t){return t===1?0:t*4}function createCSSVariables(){var t,n,r;const o=((n=(t=window.FastBundleConf)==null?void 0:t.bundleBox)==null?void 0:n.style_object)??{};if(!(o!=null&&o.general))return;const{borderColor:i,badgeColor:s,buttonColor:a,buttonTextColor:l="white",badgeTextColor:d="white",textColor:_,variantSelectorBorderColor:f,variantSelectorBackgroundColor:m,variantSelectorTextColor:h="black",discountAppliedOptionsTextColor:v,discountUnappliedOptionsTextColor:S,discountAppliedOptionsBackgroundColor:b,discountUnappliedOptionsBackgroundColor:C,borderWidth:D,backgroundColor:R,borderRadius:G,fontSize:j,titleAlignment:B}=o.general,P=getBorderRadiusSize(G),k=`
  :root {
    --rbr__general-border-color: ${i};
    --rbr__border-color-primary: var(--rbr__general-border-color);
    --rbr__border-color-secondary: rgb(from var(--rbr__general-border-color) r g b / 0.4);
    --rbr__general-text-color: ${_};
    --rbr__text-primary: ${_};
    --rbr__text-secondary: rgb(from var(--rbr__text-primary) r g b / 0.7);
    --rbr__text-teritary: rgb(from var(--rbr__text-primary) r g b / 0.5);
    --rbr__button-text-color: ${l};
    --rbr__badge-text-color: ${d};
    --rbr__general-button-color: ${a};
    --rbr__fill-primary: ${a};
    --rbr__fill-interactive: #2c6ecb;
    --rbr__fill-disabled: #e5e5e5;
    --rbr__color: white;
    --rbr__variant-selector-fill-vs: ${m};
    --rbr__fill-pmmdo-inactive: ${C};
    --rbr__text-pmmdo-inactive: ${S};
    --rbr__fill-pmmdo-active: ${b};
    --rbr__text-pmmdo-active: ${v};
    --rbr__fill-on-primary-light: white;
    --rbr__variant-text-color: ${h};
    --rbr__variant-selector-border-vs: ${f};
    --rbr__fill-on-primary-dark: black;
    --rbr__text-critical: #D72C0D;
    --rbr__border-border-width: ${D-1}px;
    --rbr__general-bg-color: ${R};
    --rbr__border-border-radius-lg: ${P}px;
    --rbr__border-border-radius-md: ${P*.75}px;
    --rbr__border-border-radius-sm: ${P*.5}px;
    --rbr__fill-badge: ${s};
    --rbr__body-font-size: ${12+j*2}px;
    --rbr__body-line-height: ${16+j*2}px;
    --rbr__title-font-size: ${14+j*2}px;
    --rbr__title-line-height: ${18+j*2}px;
    --rbr__caption-font-size: ${10+j*2}px;
    --rbr__caption-line-height: ${14+j*2}px;
    --rbr__text_alignment: ${B};
    }
  `;(r=window.document.querySelector("#rbr-css-variables"))==null||r.remove();const L=window.document.createElement("style");L.id="rbr-css-variables",L.innerHTML=k,window.document.head.appendChild(L)}const objectToString=Object.prototype.toString;function isError(t){switch(objectToString.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return isInstanceOf(t,Error)}}function isBuiltin(t,n){return objectToString.call(t)===`[object ${n}]`}function isErrorEvent$1(t){return isBuiltin(t,"ErrorEvent")}function isDOMError(t){return isBuiltin(t,"DOMError")}function isDOMException(t){return isBuiltin(t,"DOMException")}function isString(t){return isBuiltin(t,"String")}function isParameterizedString(t){return typeof t=="object"&&t!==null&&"__sentry_template_string__"in t&&"__sentry_template_values__"in t}function isPrimitive(t){return t===null||isParameterizedString(t)||typeof t!="object"&&typeof t!="function"}function isPlainObject(t){return isBuiltin(t,"Object")}function isEvent(t){return typeof Event<"u"&&isInstanceOf(t,Event)}function isElement(t){return typeof Element<"u"&&isInstanceOf(t,Element)}function isThenable(t){return!!(t&&t.then&&typeof t.then=="function")}function isSyntheticEvent(t){return isPlainObject(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function isInstanceOf(t,n){try{return t instanceof n}catch{return!1}}function isVueViewModel(t){return!!(typeof t=="object"&&t!==null&&(t.__isVue||t._isVue))}function truncate(t,n=0){return typeof t!="string"||n===0||t.length<=n?t:`${t.slice(0,n)}...`}const SDK_VERSION="8.13.0",GLOBAL_OBJ=globalThis;function getGlobalSingleton(t,n,r){const o=r||GLOBAL_OBJ,i=o.__SENTRY__=o.__SENTRY__||{},s=i[SDK_VERSION]=i[SDK_VERSION]||{};return s[t]||(s[t]=n())}const WINDOW$2=GLOBAL_OBJ,DEFAULT_MAX_STRING_LENGTH=80;function htmlTreeAsString(t,n={}){if(!t)return"<unknown>";try{let r=t;const o=5,i=[];let s=0,a=0;const l=" > ",d=l.length;let _;const f=Array.isArray(n)?n:n.keyAttrs,m=!Array.isArray(n)&&n.maxStringLength||DEFAULT_MAX_STRING_LENGTH;for(;r&&s++<o&&(_=_htmlElementAsString(r,f),!(_==="html"||s>1&&a+i.length*d+_.length>=m));)i.push(_),a+=_.length,r=r.parentNode;return i.reverse().join(l)}catch{return"<unknown>"}}function _htmlElementAsString(t,n){const r=t,o=[];if(!r||!r.tagName)return"";if(WINDOW$2.HTMLElement&&r instanceof HTMLElement&&r.dataset){if(r.dataset.sentryComponent)return r.dataset.sentryComponent;if(r.dataset.sentryElement)return r.dataset.sentryElement}o.push(r.tagName.toLowerCase());const i=n&&n.length?n.filter(a=>r.getAttribute(a)).map(a=>[a,r.getAttribute(a)]):null;if(i&&i.length)i.forEach(a=>{o.push(`[${a[0]}="${a[1]}"]`)});else{r.id&&o.push(`#${r.id}`);const a=r.className;if(a&&isString(a)){const l=a.split(/\s+/);for(const d of l)o.push(`.${d}`)}}const s=["aria-label","type","name","title","alt"];for(const a of s){const l=r.getAttribute(a);l&&o.push(`[${a}="${l}"]`)}return o.join("")}const DEBUG_BUILD$3=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,PREFIX="Sentry Logger ",CONSOLE_LEVELS=["debug","info","warn","error","log","assert","trace"],originalConsoleMethods={};function consoleSandbox(t){if(!("console"in GLOBAL_OBJ))return t();const n=GLOBAL_OBJ.console,r={},o=Object.keys(originalConsoleMethods);o.forEach(i=>{const s=originalConsoleMethods[i];r[i]=n[i],n[i]=s});try{return t()}finally{o.forEach(i=>{n[i]=r[i]})}}function makeLogger(){let t=!1;const n={enable:()=>{t=!0},disable:()=>{t=!1},isEnabled:()=>t};return DEBUG_BUILD$3?CONSOLE_LEVELS.forEach(r=>{n[r]=(...o)=>{t&&consoleSandbox(()=>{GLOBAL_OBJ.console[r](`${PREFIX}[${r}]:`,...o)})}}):CONSOLE_LEVELS.forEach(r=>{n[r]=()=>{}}),n}const logger=makeLogger(),DSN_REGEX=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function isValidProtocol(t){return t==="http"||t==="https"}function dsnToString(t,n=!1){const{host:r,path:o,pass:i,port:s,projectId:a,protocol:l,publicKey:d}=t;return`${l}://${d}${n&&i?`:${i}`:""}@${r}${s?`:${s}`:""}/${o&&`${o}/`}${a}`}function dsnFromString(t){const n=DSN_REGEX.exec(t);if(!n){consoleSandbox(()=>{console.error(`Invalid Sentry Dsn: ${t}`)});return}const[r,o,i="",s="",a="",l=""]=n.slice(1);let d="",_=l;const f=_.split("/");if(f.length>1&&(d=f.slice(0,-1).join("/"),_=f.pop()),_){const m=_.match(/^\d+/);m&&(_=m[0])}return dsnFromComponents({host:s,pass:i,path:d,projectId:_,port:a,protocol:r,publicKey:o})}function dsnFromComponents(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function validateDsn(t){if(!DEBUG_BUILD$3)return!0;const{port:n,projectId:r,protocol:o}=t;return["protocol","publicKey","host","projectId"].find(i=>t[i]?!1:(logger.error(`Invalid Sentry Dsn: ${i} missing`),!0))?!1:r.match(/^\d+$/)?isValidProtocol(o)?n&&isNaN(parseInt(n,10))?(logger.error(`Invalid Sentry Dsn: Invalid port ${n}`),!1):!0:(logger.error(`Invalid Sentry Dsn: Invalid protocol ${o}`),!1):(logger.error(`Invalid Sentry Dsn: Invalid projectId ${r}`),!1)}function makeDsn(t){const n=typeof t=="string"?dsnFromString(t):dsnFromComponents(t);if(!(!n||!validateDsn(n)))return n}class SentryError extends Error{constructor(n,r="warn"){super(n),this.message=n,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=r}}function addNonEnumerableProperty(t,n,r){try{Object.defineProperty(t,n,{value:r,writable:!0,configurable:!0})}catch{DEBUG_BUILD$3&&logger.log(`Failed to add non-enumerable property "${n}" to object`,t)}}function urlEncode(t){return Object.keys(t).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(t[n])}`).join("&")}function convertToPlainObject(t){if(isError(t))return{message:t.message,name:t.name,stack:t.stack,...getOwnProperties(t)};if(isEvent(t)){const n={type:t.type,target:serializeEventTarget(t.target),currentTarget:serializeEventTarget(t.currentTarget),...getOwnProperties(t)};return typeof CustomEvent<"u"&&isInstanceOf(t,CustomEvent)&&(n.detail=t.detail),n}else return t}function serializeEventTarget(t){try{return isElement(t)?htmlTreeAsString(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}}function getOwnProperties(t){if(typeof t=="object"&&t!==null){const n={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}else return{}}function extractExceptionKeysForMessage(t,n=40){const r=Object.keys(convertToPlainObject(t));r.sort();const o=r[0];if(!o)return"[object has no keys]";if(o.length>=n)return truncate(o,n);for(let i=r.length;i>0;i--){const s=r.slice(0,i).join(", ");if(!(s.length>n))return i===r.length?s:truncate(s,n)}return""}function dropUndefinedKeys(t){return _dropUndefinedKeys(t,new Map)}function _dropUndefinedKeys(t,n){if(isPojo(t)){const r=n.get(t);if(r!==void 0)return r;const o={};n.set(t,o);for(const i of Object.keys(t))typeof t[i]<"u"&&(o[i]=_dropUndefinedKeys(t[i],n));return o}if(Array.isArray(t)){const r=n.get(t);if(r!==void 0)return r;const o=[];return n.set(t,o),t.forEach(i=>{o.push(_dropUndefinedKeys(i,n))}),o}return t}function isPojo(t){if(!isPlainObject(t))return!1;try{const n=Object.getPrototypeOf(t).constructor.name;return!n||n==="Object"}catch{return!0}}const STACKTRACE_FRAME_LIMIT=50,UNKNOWN_FUNCTION="?",WEBPACK_ERROR_REGEXP=/\(error: (.*)\)/,STRIP_FRAME_REGEXP=/captureMessage|captureException/;function createStackParser(...t){const n=t.sort((r,o)=>r[0]-o[0]).map(r=>r[1]);return(r,o=0,i=0)=>{const s=[],a=r.split(`
`);for(let l=o;l<a.length;l++){const d=a[l];if(d.length>1024)continue;const _=WEBPACK_ERROR_REGEXP.test(d)?d.replace(WEBPACK_ERROR_REGEXP,"$1"):d;if(!_.match(/\S*Error: /)){for(const f of n){const m=f(_);if(m){s.push(m);break}}if(s.length>=STACKTRACE_FRAME_LIMIT+i)break}}return stripSentryFramesAndReverse(s.slice(i))}}function stripSentryFramesAndReverse(t){if(!t.length)return[];const n=Array.from(t);return/sentryWrapped/.test(getLastStackFrame(n).function||"")&&n.pop(),n.reverse(),STRIP_FRAME_REGEXP.test(getLastStackFrame(n).function||"")&&(n.pop(),STRIP_FRAME_REGEXP.test(getLastStackFrame(n).function||"")&&n.pop()),n.slice(0,STACKTRACE_FRAME_LIMIT).map(r=>({...r,filename:r.filename||getLastStackFrame(n).filename,function:r.function||UNKNOWN_FUNCTION}))}function getLastStackFrame(t){return t[t.length-1]||{}}const defaultFunctionName="<anonymous>";function getFunctionName(t){try{return!t||typeof t!="function"?defaultFunctionName:t.name||defaultFunctionName}catch{return defaultFunctionName}}function isNativeFunction(t){return t&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}const ONE_SECOND_IN_MS=1e3;function dateTimestampInSeconds(){return Date.now()/ONE_SECOND_IN_MS}function createUnixTimestampInSecondsFunc(){const{performance:t}=GLOBAL_OBJ;if(!t||!t.now)return dateTimestampInSeconds;const n=Date.now()-t.now(),r=t.timeOrigin==null?n:t.timeOrigin;return()=>(r+t.now())/ONE_SECOND_IN_MS}const timestampInSeconds=createUnixTimestampInSecondsFunc();(()=>{const{performance:t}=GLOBAL_OBJ;if(!t||!t.now)return;const n=3600*1e3,r=t.now(),o=Date.now(),i=t.timeOrigin?Math.abs(t.timeOrigin+r-o):n,s=i<n,a=t.timing&&t.timing.navigationStart,l=typeof a=="number"?Math.abs(a+r-o):n,d=l<n;return s||d?i<=l?t.timeOrigin:a:o})();function getSDKSource(){return"npm"}function memoBuilder(){const t=typeof WeakSet=="function",n=t?new WeakSet:[];function r(i){if(t)return n.has(i)?!0:(n.add(i),!1);for(let s=0;s<n.length;s++)if(n[s]===i)return!0;return n.push(i),!1}function o(i){if(t)n.delete(i);else for(let s=0;s<n.length;s++)if(n[s]===i){n.splice(s,1);break}}return[r,o]}function uuid4(){const t=GLOBAL_OBJ,n=t.crypto||t.msCrypto;let r=()=>Math.random()*16;try{if(n&&n.randomUUID)return n.randomUUID().replace(/-/g,"");n&&n.getRandomValues&&(r=()=>{const o=new Uint8Array(1);return n.getRandomValues(o),o[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,o=>(o^(r()&15)>>o/4).toString(16))}function getFirstException(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}function addExceptionTypeValue(t,n,r){const o=t.exception=t.exception||{},i=o.values=o.values||[],s=i[0]=i[0]||{};s.value||(s.value=n||""),s.type||(s.type=r||"Error")}function addExceptionMechanism(t,n){const r=getFirstException(t);if(!r)return;const o={type:"generic",handled:!0},i=r.mechanism;if(r.mechanism={...o,...i,...n},n&&"data"in n){const s={...i&&i.data,...n.data};r.mechanism.data=s}}function checkOrSetAlreadyCaught(t){if(t&&t.__sentry_captured__)return!0;try{addNonEnumerableProperty(t,"__sentry_captured__",!0)}catch{}return!1}function arrayify(t){return Array.isArray(t)?t:[t]}function normalize(t,n=100,r=1/0){try{return visit("",t,n,r)}catch(o){return{ERROR:`**non-serializable** (${o})`}}}function normalizeToSize(t,n=3,r=100*1024){const o=normalize(t,n);return jsonSize(o)>r?normalizeToSize(t,n-1,r):o}function visit(t,n,r=1/0,o=1/0,i=memoBuilder()){const[s,a]=i;if(n==null||["number","boolean","string"].includes(typeof n)&&!Number.isNaN(n))return n;const l=stringifyValue(t,n);if(!l.startsWith("[object "))return l;if(n.__sentry_skip_normalization__)return n;const d=typeof n.__sentry_override_normalization_depth__=="number"?n.__sentry_override_normalization_depth__:r;if(d===0)return l.replace("object ","");if(s(n))return"[Circular ~]";const _=n;if(_&&typeof _.toJSON=="function")try{const v=_.toJSON();return visit("",v,d-1,o,i)}catch{}const f=Array.isArray(n)?[]:{};let m=0;const h=convertToPlainObject(n);for(const v in h){if(!Object.prototype.hasOwnProperty.call(h,v))continue;if(m>=o){f[v]="[MaxProperties ~]";break}const S=h[v];f[v]=visit(v,S,d-1,o,i),m++}return a(n),f}function stringifyValue(t,n){try{if(t==="domain"&&n&&typeof n=="object"&&n._events)return"[Domain]";if(t==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&n===global)return"[Global]";if(typeof window<"u"&&n===window)return"[Window]";if(typeof document<"u"&&n===document)return"[Document]";if(isVueViewModel(n))return"[VueViewModel]";if(isSyntheticEvent(n))return"[SyntheticEvent]";if(typeof n=="number"&&n!==n)return"[NaN]";if(typeof n=="function")return`[Function: ${getFunctionName(n)}]`;if(typeof n=="symbol")return`[${String(n)}]`;if(typeof n=="bigint")return`[BigInt: ${String(n)}]`;const r=getConstructorName(n);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(r){return`**non-serializable** (${r})`}}function getConstructorName(t){const n=Object.getPrototypeOf(t);return n?n.constructor.name:"null prototype"}function utf8Length(t){return~-encodeURI(t).split(/%..|./).length}function jsonSize(t){return utf8Length(JSON.stringify(t))}var States;(function(t){t[t.PENDING=0]="PENDING";const n=1;t[t.RESOLVED=n]="RESOLVED";const r=2;t[t.REJECTED=r]="REJECTED"})(States||(States={}));function resolvedSyncPromise(t){return new SyncPromise(n=>{n(t)})}function rejectedSyncPromise(t){return new SyncPromise((n,r)=>{r(t)})}class SyncPromise{constructor(n){SyncPromise.prototype.__init.call(this),SyncPromise.prototype.__init2.call(this),SyncPromise.prototype.__init3.call(this),SyncPromise.prototype.__init4.call(this),this._state=States.PENDING,this._handlers=[];try{n(this._resolve,this._reject)}catch(r){this._reject(r)}}then(n,r){return new SyncPromise((o,i)=>{this._handlers.push([!1,s=>{if(!n)o(s);else try{o(n(s))}catch(a){i(a)}},s=>{if(!r)i(s);else try{o(r(s))}catch(a){i(a)}}]),this._executeHandlers()})}catch(n){return this.then(r=>r,n)}finally(n){return new SyncPromise((r,o)=>{let i,s;return this.then(a=>{s=!1,i=a,n&&n()},a=>{s=!0,i=a,n&&n()}).then(()=>{if(s){o(i);return}r(i)})})}__init(){this._resolve=n=>{this._setResult(States.RESOLVED,n)}}__init2(){this._reject=n=>{this._setResult(States.REJECTED,n)}}__init3(){this._setResult=(n,r)=>{if(this._state===States.PENDING){if(isThenable(r)){r.then(this._resolve,this._reject);return}this._state=n,this._value=r,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===States.PENDING)return;const n=this._handlers.slice();this._handlers=[],n.forEach(r=>{r[0]||(this._state===States.RESOLVED&&r[1](this._value),this._state===States.REJECTED&&r[2](this._value),r[0]=!0)})}}}function makePromiseBuffer(t){const n=[];function r(){return t===void 0||n.length<t}function o(a){return n.splice(n.indexOf(a),1)[0]||Promise.resolve(void 0)}function i(a){if(!r())return rejectedSyncPromise(new SentryError("Not adding Promise because buffer limit was reached."));const l=a();return n.indexOf(l)===-1&&n.push(l),l.then(()=>o(l)).then(null,()=>o(l).then(null,()=>{})),l}function s(a){return new SyncPromise((l,d)=>{let _=n.length;if(!_)return l(!0);const f=setTimeout(()=>{a&&a>0&&l(!1)},a);n.forEach(m=>{resolvedSyncPromise(m).then(()=>{--_||(clearTimeout(f),l(!0))},d)})})}return{$:n,add:i,drain:s}}const SENTRY_BAGGAGE_KEY_PREFIX="sentry-",SENTRY_BAGGAGE_KEY_PREFIX_REGEX=/^sentry-/;function baggageHeaderToDynamicSamplingContext(t){const n=parseBaggageHeader(t);if(!n)return;const r=Object.entries(n).reduce((o,[i,s])=>{if(i.match(SENTRY_BAGGAGE_KEY_PREFIX_REGEX)){const a=i.slice(SENTRY_BAGGAGE_KEY_PREFIX.length);o[a]=s}return o},{});if(Object.keys(r).length>0)return r}function parseBaggageHeader(t){if(!(!t||!isString(t)&&!Array.isArray(t)))return Array.isArray(t)?t.reduce((n,r)=>{const o=baggageHeaderToObject(r);return Object.entries(o).forEach(([i,s])=>{n[i]=s}),n},{}):baggageHeaderToObject(t)}function baggageHeaderToObject(t){return t.split(",").map(n=>n.split("=").map(r=>decodeURIComponent(r.trim()))).reduce((n,[r,o])=>(r&&o&&(n[r]=o),n),{})}function createEnvelope(t,n=[]){return[t,n]}function addItemToEnvelope(t,n){const[r,o]=t;return[r,[...o,n]]}function forEachEnvelopeItem(t,n){const r=t[1];for(const o of r){const i=o[0].type;if(n(o,i))return!0}return!1}function encodeUTF8(t){return GLOBAL_OBJ.__SENTRY__&&GLOBAL_OBJ.__SENTRY__.encodePolyfill?GLOBAL_OBJ.__SENTRY__.encodePolyfill(t):new TextEncoder().encode(t)}function serializeEnvelope(t){const[n,r]=t;let o=JSON.stringify(n);function i(s){typeof o=="string"?o=typeof s=="string"?o+s:[encodeUTF8(o),s]:o.push(typeof s=="string"?encodeUTF8(s):s)}for(const s of r){const[a,l]=s;if(i(`
${JSON.stringify(a)}
`),typeof l=="string"||l instanceof Uint8Array)i(l);else{let d;try{d=JSON.stringify(l)}catch{d=JSON.stringify(normalize(l))}i(d)}}return typeof o=="string"?o:concatBuffers(o)}function concatBuffers(t){const n=t.reduce((i,s)=>i+s.length,0),r=new Uint8Array(n);let o=0;for(const i of t)r.set(i,o),o+=i.length;return r}function createAttachmentEnvelopeItem(t){const n=typeof t.data=="string"?encodeUTF8(t.data):t.data;return[dropUndefinedKeys({type:"attachment",length:n.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),n]}const ITEM_TYPE_TO_DATA_CATEGORY_MAP={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function envelopeItemTypeToDataCategory(t){return ITEM_TYPE_TO_DATA_CATEGORY_MAP[t]}function getSdkMetadataForEnvelopeHeader(t){if(!t||!t.sdk)return;const{name:n,version:r}=t.sdk;return{name:n,version:r}}function createEventEnvelopeHeaders(t,n,r,o){const i=t.sdkProcessingMetadata&&t.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:t.event_id,sent_at:new Date().toISOString(),...n&&{sdk:n},...!!r&&o&&{dsn:dsnToString(o)},...i&&{trace:dropUndefinedKeys({...i})}}}function createClientReportEnvelope(t,n,r){const o=[{type:"client_report"},{timestamp:r||dateTimestampInSeconds(),discarded_events:t}];return createEnvelope(n?{dsn:n}:{},[o])}const DEFAULT_RETRY_AFTER=60*1e3;function parseRetryAfterHeader(t,n=Date.now()){const r=parseInt(`${t}`,10);if(!isNaN(r))return r*1e3;const o=Date.parse(`${t}`);return isNaN(o)?DEFAULT_RETRY_AFTER:o-n}function disabledUntil(t,n){return t[n]||t.all||0}function isRateLimited(t,n,r=Date.now()){return disabledUntil(t,n)>r}function updateRateLimits(t,{statusCode:n,headers:r},o=Date.now()){const i={...t},s=r&&r["x-sentry-rate-limits"],a=r&&r["retry-after"];if(s)for(const l of s.trim().split(",")){const[d,_,,,f]=l.split(":",5),m=parseInt(d,10),h=(isNaN(m)?60:m)*1e3;if(!_)i.all=o+h;else for(const v of _.split(";"))v==="metric_bucket"?(!f||f.split(";").includes("custom"))&&(i[v]=o+h):i[v]=o+h}else a?i.all=o+parseRetryAfterHeader(a,o):n===429&&(i.all=o+60*1e3);return i}function generatePropagationContext(){return{traceId:uuid4(),spanId:uuid4().substring(16)}}const DEBUG_BUILD$2=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function getMainCarrier(){return getSentryCarrier(GLOBAL_OBJ),GLOBAL_OBJ}function getSentryCarrier(t){const n=t.__SENTRY__=t.__SENTRY__||{};return n.version=n.version||SDK_VERSION,n[SDK_VERSION]=n[SDK_VERSION]||{}}function updateSession(t,n={}){if(n.user&&(!t.ipAddress&&n.user.ip_address&&(t.ipAddress=n.user.ip_address),!t.did&&!n.did&&(t.did=n.user.id||n.user.email||n.user.username)),t.timestamp=n.timestamp||timestampInSeconds(),n.abnormal_mechanism&&(t.abnormal_mechanism=n.abnormal_mechanism),n.ignoreDuration&&(t.ignoreDuration=n.ignoreDuration),n.sid&&(t.sid=n.sid.length===32?n.sid:uuid4()),n.init!==void 0&&(t.init=n.init),!t.did&&n.did&&(t.did=`${n.did}`),typeof n.started=="number"&&(t.started=n.started),t.ignoreDuration)t.duration=void 0;else if(typeof n.duration=="number")t.duration=n.duration;else{const r=t.timestamp-t.started;t.duration=r>=0?r:0}n.release&&(t.release=n.release),n.environment&&(t.environment=n.environment),!t.ipAddress&&n.ipAddress&&(t.ipAddress=n.ipAddress),!t.userAgent&&n.userAgent&&(t.userAgent=n.userAgent),typeof n.errors=="number"&&(t.errors=n.errors),n.status&&(t.status=n.status)}const SCOPE_SPAN_FIELD="_sentrySpan";function _setSpanForScope(t,n){n?addNonEnumerableProperty(t,SCOPE_SPAN_FIELD,n):delete t[SCOPE_SPAN_FIELD]}function _getSpanForScope(t){return t[SCOPE_SPAN_FIELD]}const DEFAULT_MAX_BREADCRUMBS=100;class ScopeClass{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=generatePropagationContext()}clone(){const n=new ScopeClass;return n._breadcrumbs=[...this._breadcrumbs],n._tags={...this._tags},n._extra={...this._extra},n._contexts={...this._contexts},n._user=this._user,n._level=this._level,n._session=this._session,n._transactionName=this._transactionName,n._fingerprint=this._fingerprint,n._eventProcessors=[...this._eventProcessors],n._requestSession=this._requestSession,n._attachments=[...this._attachments],n._sdkProcessingMetadata={...this._sdkProcessingMetadata},n._propagationContext={...this._propagationContext},n._client=this._client,n._lastEventId=this._lastEventId,_setSpanForScope(n,_getSpanForScope(this)),n}setClient(n){this._client=n}setLastEventId(n){this._lastEventId=n}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(n){this._scopeListeners.push(n)}addEventProcessor(n){return this._eventProcessors.push(n),this}setUser(n){return this._user=n||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&updateSession(this._session,{user:n}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(n){return this._requestSession=n,this}setTags(n){return this._tags={...this._tags,...n},this._notifyScopeListeners(),this}setTag(n,r){return this._tags={...this._tags,[n]:r},this._notifyScopeListeners(),this}setExtras(n){return this._extra={...this._extra,...n},this._notifyScopeListeners(),this}setExtra(n,r){return this._extra={...this._extra,[n]:r},this._notifyScopeListeners(),this}setFingerprint(n){return this._fingerprint=n,this._notifyScopeListeners(),this}setLevel(n){return this._level=n,this._notifyScopeListeners(),this}setTransactionName(n){return this._transactionName=n,this._notifyScopeListeners(),this}setContext(n,r){return r===null?delete this._contexts[n]:this._contexts[n]=r,this._notifyScopeListeners(),this}setSession(n){return n?this._session=n:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(n){if(!n)return this;const r=typeof n=="function"?n(this):n,[o,i]=r instanceof Scope?[r.getScopeData(),r.getRequestSession()]:isPlainObject(r)?[n,n.requestSession]:[],{tags:s,extra:a,user:l,contexts:d,level:_,fingerprint:f=[],propagationContext:m}=o||{};return this._tags={...this._tags,...s},this._extra={...this._extra,...a},this._contexts={...this._contexts,...d},l&&Object.keys(l).length&&(this._user=l),_&&(this._level=_),f.length&&(this._fingerprint=f),m&&(this._propagationContext=m),i&&(this._requestSession=i),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,_setSpanForScope(this,void 0),this._attachments=[],this._propagationContext=generatePropagationContext(),this._notifyScopeListeners(),this}addBreadcrumb(n,r){const o=typeof r=="number"?r:DEFAULT_MAX_BREADCRUMBS;if(o<=0)return this;const i={timestamp:dateTimestampInSeconds(),...n},s=this._breadcrumbs;return s.push(i),this._breadcrumbs=s.length>o?s.slice(-o):s,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(n){return this._attachments.push(n),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:_getSpanForScope(this)}}setSDKProcessingMetadata(n){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...n},this}setPropagationContext(n){return this._propagationContext=n,this}getPropagationContext(){return this._propagationContext}captureException(n,r){const o=r&&r.event_id?r.event_id:uuid4();if(!this._client)return logger.warn("No client configured on scope - will not capture exception!"),o;const i=new Error("Sentry syntheticException");return this._client.captureException(n,{originalException:n,syntheticException:i,...r,event_id:o},this),o}captureMessage(n,r,o){const i=o&&o.event_id?o.event_id:uuid4();if(!this._client)return logger.warn("No client configured on scope - will not capture message!"),i;const s=new Error(n);return this._client.captureMessage(n,r,{originalException:n,syntheticException:s,...o,event_id:i},this),i}captureEvent(n,r){const o=r&&r.event_id?r.event_id:uuid4();return this._client?(this._client.captureEvent(n,{...r,event_id:o},this),o):(logger.warn("No client configured on scope - will not capture event!"),o)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(n=>{n(this)}),this._notifyingListeners=!1)}}const Scope=ScopeClass;function getDefaultCurrentScope(){return getGlobalSingleton("defaultCurrentScope",()=>new Scope)}function getDefaultIsolationScope(){return getGlobalSingleton("defaultIsolationScope",()=>new Scope)}class AsyncContextStack{constructor(n,r){let o;n?o=n:o=new Scope;let i;r?i=r:i=new Scope,this._stack=[{scope:o}],this._isolationScope=i}withScope(n){const r=this._pushScope();let o;try{o=n(r)}catch(i){throw this._popScope(),i}return isThenable(o)?o.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),o)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const n=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:n}),n}_popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}}function getAsyncContextStack(){const t=getMainCarrier(),n=getSentryCarrier(t);return n.stack=n.stack||new AsyncContextStack(getDefaultCurrentScope(),getDefaultIsolationScope())}function withScope(t){return getAsyncContextStack().withScope(t)}function withSetScope(t,n){const r=getAsyncContextStack();return r.withScope(()=>(r.getStackTop().scope=t,n(t)))}function withIsolationScope(t){return getAsyncContextStack().withScope(()=>t(getAsyncContextStack().getIsolationScope()))}function getStackAsyncContextStrategy(){return{withIsolationScope,withScope,withSetScope,withSetIsolationScope:(t,n)=>withIsolationScope(n),getCurrentScope:()=>getAsyncContextStack().getScope(),getIsolationScope:()=>getAsyncContextStack().getIsolationScope()}}function getAsyncContextStrategy(t){const n=getSentryCarrier(t);return n.acs?n.acs:getStackAsyncContextStrategy()}function getCurrentScope(){const t=getMainCarrier();return getAsyncContextStrategy(t).getCurrentScope()}function getIsolationScope(){const t=getMainCarrier();return getAsyncContextStrategy(t).getIsolationScope()}function getGlobalScope(){return getGlobalSingleton("globalScope",()=>new Scope)}function getClient(){return getCurrentScope().getClient()}const METRICS_SPAN_FIELD="_sentryMetrics";function getMetricSummaryJsonForSpan(t){const n=t[METRICS_SPAN_FIELD];if(!n)return;const r={};for(const[,[o,i]]of n)(r[o]||(r[o]=[])).push(dropUndefinedKeys(i));return r}const SEMANTIC_ATTRIBUTE_SENTRY_SOURCE="sentry.source",SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE="sentry.sample_rate",SEMANTIC_ATTRIBUTE_SENTRY_OP="sentry.op",SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN="sentry.origin",SPAN_STATUS_UNSET=0,SPAN_STATUS_OK=1,TRACE_FLAG_SAMPLED=1;function spanToTraceContext(t){const{spanId:n,traceId:r}=t.spanContext(),{parent_span_id:o}=spanToJSON(t);return dropUndefinedKeys({parent_span_id:o,span_id:n,trace_id:r})}function spanTimeInputToSeconds(t){return typeof t=="number"?ensureTimestampInSeconds(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?ensureTimestampInSeconds(t.getTime()):timestampInSeconds()}function ensureTimestampInSeconds(t){return t>9999999999?t/1e3:t}function spanToJSON(t){if(spanIsSentrySpan(t))return t.getSpanJSON();try{const{spanId:n,traceId:r}=t.spanContext();if(spanIsOpenTelemetrySdkTraceBaseSpan(t)){const{attributes:o,startTime:i,name:s,endTime:a,parentSpanId:l,status:d}=t;return dropUndefinedKeys({span_id:n,trace_id:r,data:o,description:s,parent_span_id:l,start_timestamp:spanTimeInputToSeconds(i),timestamp:spanTimeInputToSeconds(a)||void 0,status:getStatusMessage(d),op:o[SEMANTIC_ATTRIBUTE_SENTRY_OP],origin:o[SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN],_metrics_summary:getMetricSummaryJsonForSpan(t)})}return{span_id:n,trace_id:r}}catch{return{}}}function spanIsOpenTelemetrySdkTraceBaseSpan(t){const n=t;return!!n.attributes&&!!n.startTime&&!!n.name&&!!n.endTime&&!!n.status}function spanIsSentrySpan(t){return typeof t.getSpanJSON=="function"}function spanIsSampled(t){const{traceFlags:n}=t.spanContext();return n===TRACE_FLAG_SAMPLED}function getStatusMessage(t){if(!(!t||t.code===SPAN_STATUS_UNSET))return t.code===SPAN_STATUS_OK?"ok":t.message||"unknown_error"}const ROOT_SPAN_FIELD="_sentryRootSpan";function getRootSpan(t){return t[ROOT_SPAN_FIELD]||t}const DEFAULT_ENVIRONMENT="production",FROZEN_DSC_FIELD="_frozenDsc";function getDynamicSamplingContextFromClient(t,n){const r=n.getOptions(),{publicKey:o}=n.getDsn()||{},i=dropUndefinedKeys({environment:r.environment||DEFAULT_ENVIRONMENT,release:r.release,public_key:o,trace_id:t});return n.emit("createDsc",i),i}function getDynamicSamplingContextFromSpan(t){const n=getClient();if(!n)return{};const r=getDynamicSamplingContextFromClient(spanToJSON(t).trace_id||"",n),o=getRootSpan(t),i=o[FROZEN_DSC_FIELD];if(i)return i;const s=o.spanContext().traceState,a=s&&s.get("sentry.dsc"),l=a&&baggageHeaderToDynamicSamplingContext(a);if(l)return l;const d=spanToJSON(o),_=d.data||{},f=_[SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE];f!=null&&(r.sample_rate=`${f}`);const m=_[SEMANTIC_ATTRIBUTE_SENTRY_SOURCE],h=d.description;return m!=="url"&&h&&(r.transaction=h),r.sampled=String(spanIsSampled(o)),n.emit("createDsc",r,o),r}function parseSampleRate(t){if(typeof t=="boolean")return Number(t);const n=typeof t=="string"?parseFloat(t):t;if(typeof n!="number"||isNaN(n)||n<0||n>1){DEBUG_BUILD$2&&logger.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(t)} of type ${JSON.stringify(typeof t)}.`);return}return n}function enhanceEventWithSdkInfo(t,n){return n&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||n.name,t.sdk.version=t.sdk.version||n.version,t.sdk.integrations=[...t.sdk.integrations||[],...n.integrations||[]],t.sdk.packages=[...t.sdk.packages||[],...n.packages||[]]),t}function createSessionEnvelope(t,n,r,o){const i=getSdkMetadataForEnvelopeHeader(r),s={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!o&&n&&{dsn:dsnToString(n)}},a="aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t.toJSON()];return createEnvelope(s,[a])}function createEventEnvelope(t,n,r,o){const i=getSdkMetadataForEnvelopeHeader(r),s=t.type&&t.type!=="replay_event"?t.type:"event";enhanceEventWithSdkInfo(t,r&&r.sdk);const a=createEventEnvelopeHeaders(t,i,o,n);return delete t.sdkProcessingMetadata,createEnvelope(a,[[{type:s},t]])}function notifyEventProcessors(t,n,r,o=0){return new SyncPromise((i,s)=>{const a=t[o];if(n===null||typeof a!="function")i(n);else{const l=a({...n},r);DEBUG_BUILD$2&&a.id&&l===null&&logger.log(`Event processor "${a.id}" dropped event`),isThenable(l)?l.then(d=>notifyEventProcessors(t,d,r,o+1).then(i)).then(null,s):notifyEventProcessors(t,l,r,o+1).then(i).then(null,s)}})}function applyScopeDataToEvent(t,n){const{fingerprint:r,span:o,breadcrumbs:i,sdkProcessingMetadata:s}=n;applyDataToEvent(t,n),o&&applySpanToEvent(t,o),applyFingerprintToEvent(t,r),applyBreadcrumbsToEvent(t,i),applySdkMetadataToEvent(t,s)}function mergeScopeData(t,n){const{extra:r,tags:o,user:i,contexts:s,level:a,sdkProcessingMetadata:l,breadcrumbs:d,fingerprint:_,eventProcessors:f,attachments:m,propagationContext:h,transactionName:v,span:S}=n;mergeAndOverwriteScopeData(t,"extra",r),mergeAndOverwriteScopeData(t,"tags",o),mergeAndOverwriteScopeData(t,"user",i),mergeAndOverwriteScopeData(t,"contexts",s),mergeAndOverwriteScopeData(t,"sdkProcessingMetadata",l),a&&(t.level=a),v&&(t.transactionName=v),S&&(t.span=S),d.length&&(t.breadcrumbs=[...t.breadcrumbs,...d]),_.length&&(t.fingerprint=[...t.fingerprint,..._]),f.length&&(t.eventProcessors=[...t.eventProcessors,...f]),m.length&&(t.attachments=[...t.attachments,...m]),t.propagationContext={...t.propagationContext,...h}}function mergeAndOverwriteScopeData(t,n,r){if(r&&Object.keys(r).length){t[n]={...t[n]};for(const o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[n][o]=r[o])}}function applyDataToEvent(t,n){const{extra:r,tags:o,user:i,contexts:s,level:a,transactionName:l}=n,d=dropUndefinedKeys(r);d&&Object.keys(d).length&&(t.extra={...d,...t.extra});const _=dropUndefinedKeys(o);_&&Object.keys(_).length&&(t.tags={..._,...t.tags});const f=dropUndefinedKeys(i);f&&Object.keys(f).length&&(t.user={...f,...t.user});const m=dropUndefinedKeys(s);m&&Object.keys(m).length&&(t.contexts={...m,...t.contexts}),a&&(t.level=a),l&&t.type!=="transaction"&&(t.transaction=l)}function applyBreadcrumbsToEvent(t,n){const r=[...t.breadcrumbs||[],...n];t.breadcrumbs=r.length?r:void 0}function applySdkMetadataToEvent(t,n){t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...n}}function applySpanToEvent(t,n){t.contexts={trace:spanToTraceContext(n),...t.contexts},t.sdkProcessingMetadata={dynamicSamplingContext:getDynamicSamplingContextFromSpan(n),...t.sdkProcessingMetadata};const r=getRootSpan(n),o=spanToJSON(r).description;o&&!t.transaction&&t.type==="transaction"&&(t.transaction=o)}function applyFingerprintToEvent(t,n){t.fingerprint=t.fingerprint?arrayify(t.fingerprint):[],n&&(t.fingerprint=t.fingerprint.concat(n)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}function prepareEvent(t,n,r,o,i,s){const{normalizeDepth:a=3,normalizeMaxBreadth:l=1e3}=t,d={...n,event_id:n.event_id||r.event_id||uuid4(),timestamp:n.timestamp||dateTimestampInSeconds()},_=r.integrations||t.integrations.map(b=>b.name);applyClientOptions(d,t),applyIntegrationsMetadata(d,_),n.type===void 0&&applyDebugIds(d,t.stackParser);const f=getFinalScope(o,r.captureContext);r.mechanism&&addExceptionMechanism(d,r.mechanism);const m=i?i.getEventProcessors():[],h=getGlobalScope().getScopeData();if(s){const b=s.getScopeData();mergeScopeData(h,b)}if(f){const b=f.getScopeData();mergeScopeData(h,b)}const v=[...r.attachments||[],...h.attachments];v.length&&(r.attachments=v),applyScopeDataToEvent(d,h);const S=[...m,...h.eventProcessors];return notifyEventProcessors(S,d,r).then(b=>(b&&applyDebugMeta(b),typeof a=="number"&&a>0?normalizeEvent(b,a,l):b))}function applyClientOptions(t,n){const{environment:r,release:o,dist:i,maxValueLength:s=250}=n;"environment"in t||(t.environment="environment"in n?r:DEFAULT_ENVIRONMENT),t.release===void 0&&o!==void 0&&(t.release=o),t.dist===void 0&&i!==void 0&&(t.dist=i),t.message&&(t.message=truncate(t.message,s));const a=t.exception&&t.exception.values&&t.exception.values[0];a&&a.value&&(a.value=truncate(a.value,s));const l=t.request;l&&l.url&&(l.url=truncate(l.url,s))}const debugIdStackParserCache=new WeakMap;function applyDebugIds(t,n){const r=GLOBAL_OBJ._sentryDebugIds;if(!r)return;let o;const i=debugIdStackParserCache.get(n);i?o=i:(o=new Map,debugIdStackParserCache.set(n,o));const s=Object.entries(r).reduce((a,[l,d])=>{let _;const f=o.get(l);f?_=f:(_=n(l),o.set(l,_));for(let m=_.length-1;m>=0;m--){const h=_[m];if(h.filename){a[h.filename]=d;break}}return a},{});try{t.exception.values.forEach(a=>{a.stacktrace.frames.forEach(l=>{l.filename&&(l.debug_id=s[l.filename])})})}catch{}}function applyDebugMeta(t){const n={};try{t.exception.values.forEach(o=>{o.stacktrace.frames.forEach(i=>{i.debug_id&&(i.abs_path?n[i.abs_path]=i.debug_id:i.filename&&(n[i.filename]=i.debug_id),delete i.debug_id)})})}catch{}if(Object.keys(n).length===0)return;t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];const r=t.debug_meta.images;Object.entries(n).forEach(([o,i])=>{r.push({type:"sourcemap",code_file:o,debug_id:i})})}function applyIntegrationsMetadata(t,n){n.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...n])}function normalizeEvent(t,n,r){if(!t)return null;const o={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(i=>({...i,...i.data&&{data:normalize(i.data,n,r)}}))},...t.user&&{user:normalize(t.user,n,r)},...t.contexts&&{contexts:normalize(t.contexts,n,r)},...t.extra&&{extra:normalize(t.extra,n,r)}};return t.contexts&&t.contexts.trace&&o.contexts&&(o.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(o.contexts.trace.data=normalize(t.contexts.trace.data,n,r))),t.spans&&(o.spans=t.spans.map(i=>({...i,...i.data&&{data:normalize(i.data,n,r)}}))),o}function getFinalScope(t,n){if(!n)return t;const r=t?t.clone():new Scope;return r.update(n),r}const SENTRY_API_VERSION="7";function getBaseApiEndpoint(t){const n=t.protocol?`${t.protocol}:`:"",r=t.port?`:${t.port}`:"";return`${n}//${t.host}${r}${t.path?`/${t.path}`:""}/api/`}function _getIngestEndpoint(t){return`${getBaseApiEndpoint(t)}${t.projectId}/envelope/`}function _encodedAuth(t,n){return urlEncode({sentry_key:t.publicKey,sentry_version:SENTRY_API_VERSION,...n&&{sentry_client:`${n.name}/${n.version}`}})}function getEnvelopeEndpointWithUrlEncodedAuth(t,n,r){return n||`${_getIngestEndpoint(t)}?${_encodedAuth(t,r)}`}const installedIntegrations=[];function setupIntegrations(t,n){const r={};return n.forEach(o=>{o&&setupIntegration(t,o,r)}),r}function afterSetupIntegrations(t,n){for(const r of n)r&&r.afterAllSetup&&r.afterAllSetup(t)}function setupIntegration(t,n,r){if(r[n.name]){DEBUG_BUILD$2&&logger.log(`Integration skipped because it was already installed: ${n.name}`);return}if(r[n.name]=n,installedIntegrations.indexOf(n.name)===-1&&typeof n.setupOnce=="function"&&(n.setupOnce(),installedIntegrations.push(n.name)),n.setup&&typeof n.setup=="function"&&n.setup(t),typeof n.preprocessEvent=="function"){const o=n.preprocessEvent.bind(n);t.on("preprocessEvent",(i,s)=>o(i,s,t))}if(typeof n.processEvent=="function"){const o=n.processEvent.bind(n),i=Object.assign((s,a)=>o(s,a,t),{id:n.name});t.addEventProcessor(i)}DEBUG_BUILD$2&&logger.log(`Integration installed: ${n.name}`)}const ALREADY_SEEN_ERROR="Not capturing exception because it's already been captured.";class BaseClient{constructor(n){if(this._options=n,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],n.dsn?this._dsn=makeDsn(n.dsn):DEBUG_BUILD$2&&logger.warn("No DSN provided, client will not send events."),this._dsn){const r=getEnvelopeEndpointWithUrlEncodedAuth(this._dsn,n.tunnel,n._metadata?n._metadata.sdk:void 0);this._transport=n.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...n.transportOptions,url:r})}}captureException(n,r,o){const i=uuid4();if(checkOrSetAlreadyCaught(n))return DEBUG_BUILD$2&&logger.log(ALREADY_SEEN_ERROR),i;const s={event_id:i,...r};return this._process(this.eventFromException(n,s).then(a=>this._captureEvent(a,s,o))),s.event_id}captureMessage(n,r,o,i){const s={event_id:uuid4(),...o},a=isParameterizedString(n)?n:String(n),l=isPrimitive(n)?this.eventFromMessage(a,r,s):this.eventFromException(n,s);return this._process(l.then(d=>this._captureEvent(d,s,i))),s.event_id}captureEvent(n,r,o){const i=uuid4();if(r&&r.originalException&&checkOrSetAlreadyCaught(r.originalException))return DEBUG_BUILD$2&&logger.log(ALREADY_SEEN_ERROR),i;const s={event_id:i,...r},a=(n.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(n,s,a||o)),s.event_id}captureSession(n){typeof n.release!="string"?DEBUG_BUILD$2&&logger.warn("Discarded session because of missing or non-string release"):(this.sendSession(n),updateSession(n,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(n){const r=this._transport;return r?(this.emit("flush"),this._isClientDoneProcessing(n).then(o=>r.flush(n).then(i=>o&&i))):resolvedSyncPromise(!0)}close(n){return this.flush(n).then(r=>(this.getOptions().enabled=!1,this.emit("close"),r))}getEventProcessors(){return this._eventProcessors}addEventProcessor(n){this._eventProcessors.push(n)}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationByName(n){return this._integrations[n]}addIntegration(n){const r=this._integrations[n.name];setupIntegration(this,n,this._integrations),r||afterSetupIntegrations(this,[n])}sendEvent(n,r={}){this.emit("beforeSendEvent",n,r);let o=createEventEnvelope(n,this._dsn,this._options._metadata,this._options.tunnel);for(const s of r.attachments||[])o=addItemToEnvelope(o,createAttachmentEnvelopeItem(s));const i=this.sendEnvelope(o);i&&i.then(s=>this.emit("afterSendEvent",n,s),null)}sendSession(n){const r=createSessionEnvelope(n,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(r)}recordDroppedEvent(n,r,o){if(this._options.sendClientReports){const i=`${n}:${r}`;DEBUG_BUILD$2&&logger.log(`Adding outcome: "${i}"`),this._outcomes[i]=(this._outcomes[i]||0)+1}}on(n,r){this._hooks[n]||(this._hooks[n]=[]),this._hooks[n].push(r)}emit(n,...r){const o=this._hooks[n];o&&o.forEach(i=>i(...r))}sendEnvelope(n){return this.emit("beforeEnvelope",n),this._isEnabled()&&this._transport?this._transport.send(n).then(null,r=>(DEBUG_BUILD$2&&logger.error("Error while sending event:",r),r)):(DEBUG_BUILD$2&&logger.error("Transport disabled"),resolvedSyncPromise({}))}_setupIntegrations(){const{integrations:n}=this._options;this._integrations=setupIntegrations(this,n),afterSetupIntegrations(this,n)}_updateSessionFromEvent(n,r){let o=!1,i=!1;const s=r.exception&&r.exception.values;if(s){i=!0;for(const l of s){const d=l.mechanism;if(d&&d.handled===!1){o=!0;break}}}const a=n.status==="ok";(a&&n.errors===0||a&&o)&&(updateSession(n,{...o&&{status:"crashed"},errors:n.errors||Number(i||o)}),this.captureSession(n))}_isClientDoneProcessing(n){return new SyncPromise(r=>{let o=0;const i=1,s=setInterval(()=>{this._numProcessing==0?(clearInterval(s),r(!0)):(o+=i,n&&o>=n&&(clearInterval(s),r(!1)))},i)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(n,r,o,i=getIsolationScope()){const s=this.getOptions(),a=Object.keys(this._integrations);return!r.integrations&&a.length>0&&(r.integrations=a),this.emit("preprocessEvent",n,r),n.type||i.setLastEventId(n.event_id||r.event_id),prepareEvent(s,n,r,o,this,i).then(l=>{if(l===null)return l;const d={...i.getPropagationContext(),...o?o.getPropagationContext():void 0};if(!(l.contexts&&l.contexts.trace)&&d){const{traceId:_,spanId:f,parentSpanId:m,dsc:h}=d;l.contexts={trace:dropUndefinedKeys({trace_id:_,span_id:f,parent_span_id:m}),...l.contexts};const v=h||getDynamicSamplingContextFromClient(_,this);l.sdkProcessingMetadata={dynamicSamplingContext:v,...l.sdkProcessingMetadata}}return l})}_captureEvent(n,r={},o){return this._processEvent(n,r,o).then(i=>i.event_id,i=>{if(DEBUG_BUILD$2){const s=i;s.logLevel==="log"?logger.log(s.message):logger.warn(s)}})}_processEvent(n,r,o){const i=this.getOptions(),{sampleRate:s}=i,a=isTransactionEvent(n),l=isErrorEvent(n),d=n.type||"error",_=`before send for type \`${d}\``,f=typeof s>"u"?void 0:parseSampleRate(s);if(l&&typeof f=="number"&&Math.random()>f)return this.recordDroppedEvent("sample_rate","error",n),rejectedSyncPromise(new SentryError(`Discarding event because it's not included in the random sample (sampling rate = ${s})`,"log"));const m=d==="replay_event"?"replay":d,h=(n.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(n,r,o,h).then(v=>{if(v===null)throw this.recordDroppedEvent("event_processor",m,n),new SentryError("An event processor returned `null`, will not send event.","log");if(r.data&&r.data.__sentry__===!0)return v;const S=processBeforeSend(i,v,r);return _validateBeforeSendResult(S,_)}).then(v=>{if(v===null)throw this.recordDroppedEvent("before_send",m,n),new SentryError(`${_} returned \`null\`, will not send event.`,"log");const S=o&&o.getSession();!a&&S&&this._updateSessionFromEvent(S,v);const b=v.transaction_info;if(a&&b&&v.transaction!==n.transaction){const C="custom";v.transaction_info={...b,source:C}}return this.sendEvent(v,r),v}).then(null,v=>{throw v instanceof SentryError?v:(this.captureException(v,{data:{__sentry__:!0},originalException:v}),new SentryError(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${v}`))})}_process(n){this._numProcessing++,n.then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r))}_clearOutcomes(){const n=this._outcomes;return this._outcomes={},Object.entries(n).map(([r,o])=>{const[i,s]=r.split(":");return{reason:i,category:s,quantity:o}})}}function _validateBeforeSendResult(t,n){const r=`${n} must return \`null\` or a valid event.`;if(isThenable(t))return t.then(o=>{if(!isPlainObject(o)&&o!==null)throw new SentryError(r);return o},o=>{throw new SentryError(`${n} rejected with ${o}`)});if(!isPlainObject(t)&&t!==null)throw new SentryError(r);return t}function processBeforeSend(t,n,r){const{beforeSend:o,beforeSendTransaction:i,beforeSendSpan:s}=t;if(isErrorEvent(n)&&o)return o(n,r);if(isTransactionEvent(n)){if(n.spans&&s){const a=[];for(const l of n.spans){const d=s(l);d&&a.push(d)}n.spans=a}if(i)return i(n,r)}return n}function isErrorEvent(t){return t.type===void 0}function isTransactionEvent(t){return t.type==="transaction"}const DEFAULT_TRANSPORT_BUFFER_SIZE=64;function createTransport(t,n,r=makePromiseBuffer(t.bufferSize||DEFAULT_TRANSPORT_BUFFER_SIZE)){let o={};const i=a=>r.drain(a);function s(a){const l=[];if(forEachEnvelopeItem(a,(m,h)=>{const v=envelopeItemTypeToDataCategory(h);if(isRateLimited(o,v)){const S=getEventForEnvelopeItem(m,h);t.recordDroppedEvent("ratelimit_backoff",v,S)}else l.push(m)}),l.length===0)return resolvedSyncPromise({});const d=createEnvelope(a[0],l),_=m=>{forEachEnvelopeItem(d,(h,v)=>{const S=getEventForEnvelopeItem(h,v);t.recordDroppedEvent(m,envelopeItemTypeToDataCategory(v),S)})},f=()=>n({body:serializeEnvelope(d)}).then(m=>(m.statusCode!==void 0&&(m.statusCode<200||m.statusCode>=300)&&DEBUG_BUILD$2&&logger.warn(`Sentry responded with status code ${m.statusCode} to sent event.`),o=updateRateLimits(o,m),m),m=>{throw _("network_error"),m});return r.add(f).then(m=>m,m=>{if(m instanceof SentryError)return DEBUG_BUILD$2&&logger.error("Skipped sending event because buffer is full."),_("queue_overflow"),resolvedSyncPromise({});throw m})}return{send:s,flush:i}}function getEventForEnvelopeItem(t,n){if(!(n!=="event"&&n!=="transaction"))return Array.isArray(t)?t[1]:void 0}function applySdkMetadata(t,n,r=[n],o="npm"){const i=t._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${n}`,packages:r.map(s=>({name:`${o}:@sentry/${s}`,version:SDK_VERSION})),version:SDK_VERSION}),t._metadata=i}const WINDOW$1=GLOBAL_OBJ,DEBUG_BUILD$1=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function exceptionFromError(t,n){const r=parseStackFrames(t,n),o={type:n&&n.name,value:extractMessage(n)};return r.length&&(o.stacktrace={frames:r}),o.type===void 0&&o.value===""&&(o.value="Unrecoverable error caught"),o}function eventFromPlainObject(t,n,r,o){const i=getClient(),s=i&&i.getOptions().normalizeDepth,a=getErrorPropertyFromObject(n),l={__serialized__:normalizeToSize(n,s)};if(a)return{exception:{values:[exceptionFromError(t,a)]},extra:l};const d={exception:{values:[{type:isEvent(n)?n.constructor.name:o?"UnhandledRejection":"Error",value:getNonErrorObjectExceptionValue(n,{isUnhandledRejection:o})}]},extra:l};if(r){const _=parseStackFrames(t,r);_.length&&(d.exception.values[0].stacktrace={frames:_})}return d}function eventFromError(t,n){return{exception:{values:[exceptionFromError(t,n)]}}}function parseStackFrames(t,n){const r=n.stacktrace||n.stack||"",o=getSkipFirstStackStringLines(n),i=getPopFirstTopFrames(n);try{return t(r,o,i)}catch{}return[]}const reactMinifiedRegexp=/Minified React error #\d+;/i;function getSkipFirstStackStringLines(t){return t&&reactMinifiedRegexp.test(t.message)?1:0}function getPopFirstTopFrames(t){return typeof t.framesToPop=="number"?t.framesToPop:0}function extractMessage(t){const n=t&&t.message;return n?n.error&&typeof n.error.message=="string"?n.error.message:n:"No error message"}function eventFromException(t,n,r,o){const i=r&&r.syntheticException||void 0,s=eventFromUnknownInput(t,n,i,o);return addExceptionMechanism(s),s.level="error",r&&r.event_id&&(s.event_id=r.event_id),resolvedSyncPromise(s)}function eventFromMessage(t,n,r="info",o,i){const s=o&&o.syntheticException||void 0,a=eventFromString(t,n,s,i);return a.level=r,o&&o.event_id&&(a.event_id=o.event_id),resolvedSyncPromise(a)}function eventFromUnknownInput(t,n,r,o,i){let s;if(isErrorEvent$1(n)&&n.error)return eventFromError(t,n.error);if(isDOMError(n)||isDOMException(n)){const a=n;if("stack"in n)s=eventFromError(t,n);else{const l=a.name||(isDOMError(a)?"DOMError":"DOMException"),d=a.message?`${l}: ${a.message}`:l;s=eventFromString(t,d,r,o),addExceptionTypeValue(s,d)}return"code"in a&&(s.tags={...s.tags,"DOMException.code":`${a.code}`}),s}return isError(n)?eventFromError(t,n):isPlainObject(n)||isEvent(n)?(s=eventFromPlainObject(t,n,r,i),addExceptionMechanism(s,{synthetic:!0}),s):(s=eventFromString(t,n,r,o),addExceptionTypeValue(s,`${n}`,void 0),addExceptionMechanism(s,{synthetic:!0}),s)}function eventFromString(t,n,r,o){const i={};if(o&&r){const s=parseStackFrames(t,r);s.length&&(i.exception={values:[{value:n,stacktrace:{frames:s}}]})}if(isParameterizedString(n)){const{__sentry_template_string__:s,__sentry_template_values__:a}=n;return i.logentry={message:s,params:a},i}return i.message=n,i}function getNonErrorObjectExceptionValue(t,{isUnhandledRejection:n}){const r=extractExceptionKeysForMessage(t),o=n?"promise rejection":"exception";return isErrorEvent$1(t)?`Event \`ErrorEvent\` captured as ${o} with message \`${t.message}\``:isEvent(t)?`Event \`${getObjectClassName(t)}\` (type=${t.type}) captured as ${o}`:`Object captured as ${o} with keys: ${r}`}function getObjectClassName(t){try{const n=Object.getPrototypeOf(t);return n?n.constructor.name:void 0}catch{}}function getErrorPropertyFromObject(t){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(r instanceof Error)return r}}function createUserFeedbackEnvelope(t,{metadata:n,tunnel:r,dsn:o}){const i={event_id:t.event_id,sent_at:new Date().toISOString(),...n&&n.sdk&&{sdk:{name:n.sdk.name,version:n.sdk.version}},...!!r&&!!o&&{dsn:dsnToString(o)}},s=createUserFeedbackEnvelopeItem(t);return createEnvelope(i,[s])}function createUserFeedbackEnvelopeItem(t){return[{type:"user_report"},t]}class BrowserClient extends BaseClient{constructor(n){const r={parentSpanIsAlwaysRootSpan:!0,...n},o=WINDOW$1.SENTRY_SDK_SOURCE||getSDKSource();applySdkMetadata(r,"browser",["browser"],o),super(r),r.sendClientReports&&WINDOW$1.document&&WINDOW$1.document.addEventListener("visibilitychange",()=>{WINDOW$1.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(n,r){return eventFromException(this._options.stackParser,n,r,this._options.attachStacktrace)}eventFromMessage(n,r="info",o){return eventFromMessage(this._options.stackParser,n,r,o,this._options.attachStacktrace)}captureUserFeedback(n){if(!this._isEnabled()){DEBUG_BUILD$1&&logger.warn("SDK not enabled, will not capture user feedback.");return}const r=createUserFeedbackEnvelope(n,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(r)}_prepareEvent(n,r,o){return n.platform=n.platform||"javascript",super._prepareEvent(n,r,o)}_flushOutcomes(){const n=this._clearOutcomes();if(n.length===0){DEBUG_BUILD$1&&logger.log("No outcomes to send");return}if(!this._dsn){DEBUG_BUILD$1&&logger.log("No dsn provided, will not send outcomes");return}DEBUG_BUILD$1&&logger.log("Sending outcomes:",n);const r=createClientReportEnvelope(n,this._options.tunnel&&dsnToString(this._dsn));this.sendEnvelope(r)}}const DEBUG_BUILD=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,WINDOW=GLOBAL_OBJ,cachedImplementations={};function getNativeImplementation(t){const n=cachedImplementations[t];if(n)return n;let r=WINDOW[t];if(isNativeFunction(r))return cachedImplementations[t]=r.bind(WINDOW);const o=WINDOW.document;if(o&&typeof o.createElement=="function")try{const i=o.createElement("iframe");i.hidden=!0,o.head.appendChild(i);const s=i.contentWindow;s&&s[t]&&(r=s[t]),o.head.removeChild(i)}catch(i){DEBUG_BUILD&&logger.warn(`Could not create sandbox iframe for ${t} check, bailing to window.${t}: `,i)}return r&&(cachedImplementations[t]=r.bind(WINDOW))}function clearCachedImplementation(t){cachedImplementations[t]=void 0}function makeFetchTransport(t,n=getNativeImplementation("fetch")){let r=0,o=0;function i(s){const a=s.body.length;r+=a,o++;const l={body:s.body,method:"POST",referrerPolicy:"origin",headers:t.headers,keepalive:r<=6e4&&o<15,...t.fetchOptions};if(!n)return clearCachedImplementation("fetch"),rejectedSyncPromise("No fetch implementation available");try{return n(t.url,l).then(d=>(r-=a,o--,{statusCode:d.status,headers:{"x-sentry-rate-limits":d.headers.get("X-Sentry-Rate-Limits"),"retry-after":d.headers.get("Retry-After")}}))}catch(d){return clearCachedImplementation("fetch"),r-=a,o--,rejectedSyncPromise(d)}}return createTransport(t,i)}const CHROME_PRIORITY=30,GECKO_PRIORITY=50;function createFrame(t,n,r,o){const i={filename:t,function:n==="<anonymous>"?UNKNOWN_FUNCTION:n,in_app:!0};return r!==void 0&&(i.lineno=r),o!==void 0&&(i.colno=o),i}const chromeRegexNoFnName=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,chromeRegex=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,chromeEvalRegex=/\((\S*)(?::(\d+))(?::(\d+))\)/,chromeStackParserFn=t=>{const n=chromeRegexNoFnName.exec(t);if(n){const[,o,i,s]=n;return createFrame(o,UNKNOWN_FUNCTION,+i,+s)}const r=chromeRegex.exec(t);if(r){if(r[2]&&r[2].indexOf("eval")===0){const s=chromeEvalRegex.exec(r[2]);s&&(r[2]=s[1],r[3]=s[2],r[4]=s[3])}const[o,i]=extractSafariExtensionDetails(r[1]||UNKNOWN_FUNCTION,r[2]);return createFrame(i,o,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}},chromeStackLineParser=[CHROME_PRIORITY,chromeStackParserFn],geckoREgex=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,geckoEvalRegex=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,gecko=t=>{const n=geckoREgex.exec(t);if(n){if(n[3]&&n[3].indexOf(" > eval")>-1){const i=geckoEvalRegex.exec(n[3]);i&&(n[1]=n[1]||"eval",n[3]=i[1],n[4]=i[2],n[5]="")}let r=n[3],o=n[1]||UNKNOWN_FUNCTION;return[o,r]=extractSafariExtensionDetails(o,r),createFrame(r,o,n[4]?+n[4]:void 0,n[5]?+n[5]:void 0)}},geckoStackLineParser=[GECKO_PRIORITY,gecko],defaultStackLineParsers=[chromeStackLineParser,geckoStackLineParser],defaultStackParser=createStackParser(...defaultStackLineParsers),extractSafariExtensionDetails=(t,n)=>{const r=t.indexOf("safari-extension")!==-1,o=t.indexOf("safari-web-extension")!==-1;return r||o?[t.indexOf("@")!==-1?t.split("@")[0]:UNKNOWN_FUNCTION,r?`safari-extension:${n}`:`safari-web-extension:${n}`]:[t,n]};var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}const client$1=new BrowserClient({dsn:"https://db9752f8418b3b6bd384abba3a727aff@o1028516.ingest.us.sentry.io/4507486154129408",transport:makeFetchTransport,stackParser:defaultStackParser,ignoreErrors:["Object captured as exception"],default_integrations:!1,integrations:[]}),scope=new Scope;scope.setClient(client$1);function getSentryClient(){return client$1}function sendExceptionToSentry(t,n){var r,o;console.error(t),scope&&!window.location.href.includes("localhost")&&(n&&scope.setExtra("componentStack",n.componentStack),scope.setTag("shop",((r=window.Shopify)==null?void 0:r.shop)||"unknown"),scope.setExtra("shop",((o=window.Shopify)==null?void 0:o.shop)||"unknown"),scope.setExtra("link",window.location.href),scope.captureException(t))}function extractHeaders(t){return t instanceof Headers?[...t].reduce((n,[r,o])=>({...n,[r]:o}),{}):t||{}}const formatVariantQuantities=(t,n)=>{let r=[];return Object.keys(t).forEach(o=>{r.push({id:Number(o),quantity:t[o],selling_plan:n})}),r};var St;const NEW_VOLUME_BUNDLE_METHOD=(St=window.FastBundleConf)==null?void 0:St.volume_discount_add_on_override_fetch,processBogoVariants=(t,n)=>{let r=Object.keys(n.discounts).filter(a=>n.discounts[a].isSelected);const o={},i=r[0],s=n.discounts[i];if(NEW_VOLUME_BUNDLE_METHOD&&n.initialBundle.volume_single_variant_selector){const a=getProductPageSelectedVariant();o[a]=s.quantity}else{const a=n.selectedVariants[r[0]];Object.values(a).forEach(l=>{l&&(o[l]=o[l]?o[l]+1:1)})}return formatVariantQuantities(o,n.selectedSellingPlan)},processStnVariants=(t,n)=>{let r={};return n.initialBundle.items.forEach(o=>{let i=n.selectedVariants[o.item_id];for(let s=o.cartIndex;s<o.quantity;s++){let a=i[s];a&&(r[a]=r[a]?r[a]+1:1)}}),formatVariantQuantities(r,n.selectedSellingPlan)},processMAMVariants=(t,n)=>{let r=Object.keys(n.items).filter(i=>n.items[i].isSelected);const o={};return r.forEach(i=>{const s=n.selectedVariants[i];Object.values(s).forEach(a=>{a&&(o[a]=o[a]?o[a]+1:1)})}),formatVariantQuantities(o,n.selectedSellingPlan)},processAddOnVariants=(t,n)=>{let r=Object.keys(n.items).filter(i=>n.items[i].isSelected&&n.items[i].isAddOn);const o={[getProductPageSelectedVariant()]:1};return r.forEach(i=>{const s=n.selectedVariants[i];Object.values(s).forEach(a=>{a&&(o[a]=o[a]?o[a]+1:1)})}),formatVariantQuantities(o,n.selectedSellingPlan)},getCartBundleCollectionVariants=t=>{const n=[];return Object.keys(t.selectedVariants).forEach(r=>{t.selectedVariants[r].forEach(o=>{n.push({variant_id:o,collection_item_id:r,collection_id:t.collections[r].id})})}),n},getItemCartBundleVariants=t=>{const n=[],r=t.initialBundle.type===VOLUME_DISCOUNT_BUNDLE,o=t.initialBundle.type===ADD_ON_BUNDLE,i=t.initialBundle.items[0].item_id;return Object.keys(t.selectedVariants).filter(s=>{var a,l;return((a=t.items[s])==null?void 0:a.isSelected)||o&&!((l=t.items[s])!=null&&l.isAddOn)}).forEach(s=>{Object.values(t.selectedVariants[s]).forEach(a=>{let l=t.initialBundle.originalItemType===COLLECTION_BUNDLE?"collection_item_id":t.initialBundle.originalItemType===GENERAL_BUNDLE?"general_item_id":"item_id";o&&t.items[s].isAddOn&&(l="item_id"),n.push({variant_id:a,[l]:r?i:s})})}),n},processCollectionVariants=(t,n)=>{const r=Object.values(n.selectedVariants).reduce((i,s)=>[...s,...i],[]),o={};return r.forEach(i=>{o[i]?o[i]++:o[i]=1}),formatVariantQuantities(o,n.selectedSellingPlan)};function processSingleBAPVariants(t){let n=[];t.initialBundle.items.forEach(o=>Object.values(t.selectedVariants[o.item_id]).forEach(i=>{i&&n.push(i)}));let r=n.sort().join("-");return[{id:t.initialBundle.single_bap_variants[r],quantity:1,selling_plan:t.selectedSellingPlan}]}async function processOverridedBundleData(t,n){const r=await getCartData(),o=n.current.initialBundle.item_type===COLLECTION_BUNDLE?getCartBundleCollectionVariants(n.current):getItemCartBundleVariants(n.current),i=getCartBundleData(n.current,r.token,t,o);await postCartBundle(i),await window.rbrCartHandler(!1,null,!0,!1)}var Et,bt;const DISCOUNT_PREFIX=(bt=(Et=window.FastBundleConf)==null?void 0:Et.bundleBox)==null?void 0:bt.discount_code_prefix,LIMIT=30;function checkDiscountIsNoDiscount(t){const{single_bap_variants:n,enabled:r}=t.initialBundle;if(!r)return!0;try{if(n&&Object.keys(n).length)return!0;let o;if(t.initialBundle.discounts.length===1)o=t.initialBundle.discounts[0];else{let i=null;Object.keys(t.discounts).forEach(s=>{t.discounts[s].isSelected&&(i=s)}),o=t.initialBundle.discounts.find(s=>i&&+s.id==+i)}if(o)return(o.type===FIX_DISCOUNT||o.type===PERCENTAGE_DISCOUNT)&&o.value===0||o.type===FREE_SHIPPING}catch(o){console.error(o)}return!1}async function checkDiscountApplication(t,n=[]){var r;if(checkDiscountIsNoDiscount(t))return;const o=t.initialBundle.type===BXGY_BUNDLE,i=t.initialBundle.type===ADD_ON_BUNDLE;(o||i)&&(conditionalLog("selected variants",t.selectedVariants),(r=t.initialBundle.items)!=null&&r.length?n=t.initialBundle.items.filter(a=>!a.ignores_discount).filter(a=>o||t.items[a.item_id].isSelected).reduce((a,l)=>[...a,...Object.values(t.selectedVariants[l.item_id])],[]):n=t.initialBundle.collection_items.filter(a=>!a.ignores_discount).reduce((a,l)=>[...a,...t.selectedVariants[l.id]],[]));let s=0;for(;s<LIMIT;){const a=(await getCartData()).items,l={};a.forEach(_=>{_.discounts.length&&(l[_.id]=_.discounts.map(f=>f.title).join(","))});const d=n.every(_=>!!l[_]&&l[_].includes(DISCOUNT_PREFIX));if(conditionalLog("isDiscountApplied",d),d)return!0;s++}return conditionalLog("discount check limit reached"),!1}function conditionalLog(){if(window.allowRBRLogs)return console.log(...arguments)}function checkBundlesWithEmptyVariants(t){var n,r;if((n=t.items)!=null&&n.length){for(const o of t.items)if(!((r=o.variants)!=null&&r.length))return conditionalLog("bundle with empty variants",t.id,t.name),!1}return!0}function getQuerySelectorsAll(t){try{return document.querySelectorAll(t)}catch{return console.error(`incorrect selector: ${t}`),[]}}let FastBundleConf;const getFastBundleConfig=()=>FastBundleConf||(FastBundleConf=window.FastBundleConf,FastBundleConf);function replaceAll(t,n,r){return t.replace(new RegExp(n,"g"),r)}function getSelectedVariantsIdsOfCollectionBundle(t){if(t&&t.selectedVariants){const n=t.selectedVariants,r=[];for(const o in n)Object.hasOwnProperty.call(n,o)&&r.push(...n[o]);return r.filter(o=>typeof o=="number")}else return[]}const AddWidgetBundle=reactExports.lazy(()=>__vitePreload(()=>import("./assets/AddWidgetBundle-LRLJF_Yg-pj4mlCkB.js"),__vite__mapDeps([0,1,2,3]))),Badge=reactExports.lazy(()=>__vitePreload(()=>import("./assets/Badge-Clg81yky-LloTICCW.js"),__vite__mapDeps([4,1,5]))),Banner=reactExports.lazy(()=>__vitePreload(()=>import("./assets/Banner-WkfV9_9L-mytZHZLx.js"),__vite__mapDeps([6,1,7]))),BundleTitle=reactExports.lazy(()=>__vitePreload(()=>import("./assets/BundleTitle-fgpvp3zw-tvkvY1hG.js"),__vite__mapDeps([8,1,9]))),Card=reactExports.lazy(()=>__vitePreload(()=>import("./assets/Card-KvgwgryK-6jMkoWpX.js"),__vite__mapDeps([10,1,11]))),Checkbox=reactExports.lazy(()=>__vitePreload(()=>import("./assets/Checkbox-Qr8STAd5-VySCZ58v.js"),__vite__mapDeps([12,1,13,14,15]))),DiscountBadge=reactExports.lazy(()=>__vitePreload(()=>import("./assets/DiscountBadge-I40kMziI-THz9-TYW.js"),__vite__mapDeps([16,1,17]))),Divider=reactExports.lazy(()=>__vitePreload(()=>import("./assets/Divider-y3vHSYZi--80wXNNK.js"),__vite__mapDeps([18,1,19]))),FreeShipping=reactExports.lazy(()=>__vitePreload(()=>import("./assets/FreeShipping-fWMD9TL9-KQ-cJ1oq.js"),__vite__mapDeps([20,1,21]))),HeaderImages=reactExports.lazy(()=>__vitePreload(()=>import("./assets/HeaderImages-PczEQpAA-ove1DEwT.js"),__vite__mapDeps([22,1,23]))),LoadingElement=reactExports.lazy(()=>__vitePreload(()=>import("./assets/LoadingElement-4TV_qPQx-GmWJAtRO.js"),__vite__mapDeps([24,1,25]))),Plus$1=reactExports.lazy(()=>__vitePreload(()=>import("./assets/Plus-ycQVF2nr-7SJcDZSk.js"),__vite__mapDeps([26,1,27]))),PoweredByFast=reactExports.lazy(()=>__vitePreload(()=>import("./assets/PoweredByFast-6x4uLvKJ-LEDumus0.js"),__vite__mapDeps([28,1,29]))),Thumbnail=reactExports.lazy(()=>__vitePreload(()=>import("./assets/Thumbnail-EwDkXcuw-wNzAyUj9.js"),__vite__mapDeps([30,1,31]))),ProductNameAndPrice=reactExports.lazy(()=>__vitePreload(()=>import("./assets/ProductNameAndPrice-jUXcUIrp-DATledz9.js"),__vite__mapDeps([32,1,13,33]))),QtyBox=reactExports.lazy(()=>__vitePreload(()=>import("./assets/QtyBox-hBtpbE0--FSAWsawd.js"),__vite__mapDeps([34,1,35]))),QtyContainer=reactExports.lazy(()=>__vitePreload(()=>import("./assets/QtyContainer-uP-Izec7-3aMbdKut.js"),__vite__mapDeps([36,1,37]))),SelectBox=reactExports.lazy(()=>__vitePreload(()=>import("./assets/SelectBox-C2XqoeN8-IGUZqLbv.js"),__vite__mapDeps([38,1,39,40]))),SelectBoxWrapper=reactExports.lazy(()=>__vitePreload(()=>import("./assets/SelectBoxWrapper-dVulzTPy-OdvndzF6.js"),__vite__mapDeps([41,1,13,42]))),SingleSelectBox=reactExports.lazy(()=>__vitePreload(()=>import("./assets/SingleSelectBox-E3Cvwc8--22T5HcCY.js"),__vite__mapDeps([43,1,13,44]))),SelectBoxCustom=reactExports.lazy(()=>__vitePreload(()=>import("./assets/SelectBoxCustom-5G9U2WvH-3OjsfRDn.js"),__vite__mapDeps([45,1,13,46]))),SoldOutBadge=reactExports.lazy(()=>__vitePreload(()=>import("./assets/SoldOutBadge--syMytZW-r1YmvVGo.js"),__vite__mapDeps([47,1,48]))),Spinner=reactExports.lazy(()=>__vitePreload(()=>import("./assets/Spinner-duVm3rNM-6NNak2VT.js"),__vite__mapDeps([49,1,50]))),StnErrorBanner=reactExports.lazy(()=>__vitePreload(()=>import("./assets/StnErrorBanner-qkkFs7Db-6wpKvBkE.js"),__vite__mapDeps([51,1]))),TotalBox=reactExports.lazy(()=>__vitePreload(()=>import("./assets/TotalBox-tf9Ij8sy-eUvSEu1n.js"),__vite__mapDeps([52,1,53]))),BogoQtyBox=reactExports.lazy(()=>__vitePreload(()=>import("./assets/BogoQtyBox-C5pcXzC0-2PI8Som3.js"),__vite__mapDeps([54,1,55]))),BundleContext=reactExports.createContext(),BundleContext$1=BundleContext,BundleBuilderModal=reactExports.lazy(()=>__vitePreload(()=>import("./assets/BundleBuilderModal-r8UibBlx-qIf-Bd_w.js"),__vite__mapDeps([56,1]))),Bundles=reactExports.lazy(()=>__vitePreload(()=>import("./assets/Bundles-7bsR06Hp-M2_TkiI1.js"),__vite__mapDeps([57,1,13,58,59,60,61,62,63,64,65,66,67])).then(t=>t.a)),Button=reactExports.lazy(()=>__vitePreload(()=>import("./assets/Button-fwZMs99X-YnOfKCTZ.js"),__vite__mapDeps([68,1,13,69]))),DiscountOptionHeader=reactExports.lazy(()=>__vitePreload(()=>import("./assets/DiscountOptionHeader-jw3LAZyc-k46jsNZg.js"),__vite__mapDeps([70,1,71]))),MAMQtyBox=reactExports.lazy(()=>__vitePreload(()=>import("./assets/MAMQtyBox-gIb9IwVG-ls01Je0V.js"),__vite__mapDeps([72,1,73]))),MAMProductCheckbox=reactExports.lazy(()=>__vitePreload(()=>import("./assets/MAMProductCheckbox-yqBZANqy-f3zCxIo_.js"),__vite__mapDeps([74,1]))),Modal=reactExports.lazy(()=>__vitePreload(()=>import("./assets/Modal-wHS-l5yh-RU2dw0vO.js"),__vite__mapDeps([75,1,13,76]))),Portal=reactExports.lazy(()=>__vitePreload(()=>import("./assets/Portal-vFSlM_Hg-aVopn94S.js"),__vite__mapDeps([77,1,13]))),Popup=reactExports.lazy(()=>__vitePreload(()=>import("./assets/Popup-SLSGgkEA-VO-kuGCW.js"),__vite__mapDeps([78,1,79]))),ErrorBanner=reactExports.lazy(()=>__vitePreload(()=>import("./assets/ErrorBanner-HyMa4b8Q-ouaBgypu.js"),__vite__mapDeps([80,1,13,81]))),Ribbon=reactExports.lazy(()=>__vitePreload(()=>import("./assets/Ribbon-sRIccfqK-nI_QV7yF.js"),__vite__mapDeps([82,1,83]))),MoreProducts=reactExports.lazy(()=>__vitePreload(()=>import("./assets/MoreProducts-seoBFVWa-joxuJzv2.js"),__vite__mapDeps([84,1,13,85]))),ColorSwatch=reactExports.lazy(()=>__vitePreload(()=>import("./assets/ColorSwatch-YAnnHGwG-n_mRChdg.js"),__vite__mapDeps([86,1,87]))),Select=reactExports.lazy(()=>__vitePreload(()=>import("./assets/Select-d9JWPWfL-pH9gn20l.js"),__vite__mapDeps([88,1,13,89]))),Countdown=reactExports.lazy(()=>__vitePreload(()=>import("./assets/Countdown-Ph23sdYD-F_uN_QR0.js"),__vite__mapDeps([90,1,91])));reactExports.lazy(()=>__vitePreload(()=>import("./assets/MobileModal-eXcbLc3_-rkQCfYZc.js"),__vite__mapDeps([92,1,13,93])));const container$6="style_container_5ff7444a",sentinel="style_sentinel_5ff7444a",collectionItems="style_collectionItems_5ff7444a",borderTop="style_borderTop_5ff7444a",style$6={"rbr-centralize":"style_rbr-centralize_5ff7444a","rbr-cursor-pointer":"style_rbr-cursor-pointer_5ff7444a","rbr-space-between":"style_rbr-space-between_5ff7444a","rbr-background-center":"style_rbr-background-center_5ff7444a","rbr-flex-start":"style_rbr-flex-start_5ff7444a",container:container$6,sentinel,collectionItems,borderTop},container$5="SelectedVariantsList_container_a307aa78",item="SelectedVariantsList_item_a307aa78",quantity="SelectedVariantsList_quantity_a307aa78",count="SelectedVariantsList_count_a307aa78",minus="SelectedVariantsList_minus_a307aa78",plus="SelectedVariantsList_plus_a307aa78",title="SelectedVariantsList_title_a307aa78",style$5={"rbr-centralize":"SelectedVariantsList_rbr-centralize_a307aa78","rbr-cursor-pointer":"SelectedVariantsList_rbr-cursor-pointer_a307aa78","rbr-space-between":"SelectedVariantsList_rbr-space-between_a307aa78","rbr-background-center":"SelectedVariantsList_rbr-background-center_a307aa78","rbr-flex-start":"SelectedVariantsList_rbr-flex-start_a307aa78",container:container$5,item,quantity,count,minus,plus,title},Close=reactExports.lazy(()=>__vitePreload(()=>import("./assets/Close-gXCAr67S-MpXWA-Ws.js"),__vite__mapDeps([94,1,95]))),Plus=reactExports.lazy(()=>__vitePreload(()=>import("./assets/Plus-0DMXJUR0-YEIhZ7QT.js"),__vite__mapDeps([96,1]))),Error$1=reactExports.lazy(()=>__vitePreload(()=>import("./assets/Error-slSIMBmp-H_htk6XU.js"),__vite__mapDeps([97,1]))),Check=reactExports.lazy(()=>__vitePreload(()=>import("./assets/Check-apWSVTKv-pNLga9on.js"),__vite__mapDeps([14,1])));reactExports.lazy(()=>__vitePreload(()=>import("./assets/Trash-DVeevgtp-in4TlKso.js"),__vite__mapDeps([60,1])));const RightChevron=reactExports.lazy(()=>__vitePreload(()=>import("./assets/RightChevron-asaRK1i5-SnlWunvf.js"),__vite__mapDeps([98,1])));reactExports.lazy(()=>__vitePreload(()=>import("./assets/CurvedPlus-HlRI_XCM-ObnQUde5.js"),__vite__mapDeps([99,1])));const Minus=reactExports.lazy(()=>__vitePreload(()=>import("./assets/Minus-YgLv9I9t-FgVebSfB.js"),__vite__mapDeps([100,1]))),Tick=reactExports.lazy(()=>__vitePreload(()=>import("./assets/Tick-t4qhDetT-5FEAiqDM.js"),__vite__mapDeps([101,1]))),Delete=reactExports.lazy(()=>__vitePreload(()=>import("./assets/Delete-TJOlhotv-81UFf3xp.js"),__vite__mapDeps([102,1]))),TriangleLeft=reactExports.lazy(()=>__vitePreload(()=>import("./assets/TriangleLeft-ROZBoXNz-gssB4Pba.js"),__vite__mapDeps([103,1]))),TriangleRight=reactExports.lazy(()=>__vitePreload(()=>import("./assets/TriangleRight-ehkjLcgD-wHVTXrxo.js"),__vite__mapDeps([104,1])));function SelectedVariantsList(t){const{selectedVariants:n,addVariant:r,removeVariant:o,disabledAddVariant:i}=t,s=a=>i||a.data.quantity<=a.count&&!a.data.ignore_inventory;return jsxRuntimeExports.jsx("div",{className:style$5.container,children:n.map(a=>jsxRuntimeExports.jsxs("div",{className:style$5.item,children:[jsxRuntimeExports.jsx("div",{className:style$5.title,children:a.data.title}),jsxRuntimeExports.jsxs("div",{className:style$5.quantity,children:[jsxRuntimeExports.jsx("div",{onClick:()=>o(a.data.id),className:style$5.minus,children:a.count>1?jsxRuntimeExports.jsx(p.Suspense,{children:jsxRuntimeExports.jsx(Minus,{fill:"var(--rbr__variant-text-color)"})}):jsxRuntimeExports.jsx(Delete,{fill:"var(--rbr__variant-text-color)"})}),jsxRuntimeExports.jsx("span",{className:style$5.count,children:a.count}),jsxRuntimeExports.jsx("div",{onClick:s(a)?null:()=>r(a.data.id),className:style$5.plus,children:jsxRuntimeExports.jsx(Plus,{customization:{size:16,fill:s(a)?null:"var(--rbr__variant-text-color)"}})})]})]},a.data.id))})}const container$4="style_container_a34053ee",productContainer="style_productContainer_a34053ee",productImage="style_productImage_a34053ee",productDetail$1="style_productDetail_a34053ee",productTitle$1="style_productTitle_a34053ee",singleVariantTitle="style_singleVariantTitle_a34053ee",productPrice="style_productPrice_a34053ee",price="style_price_a34053ee",style$4={"rbr-centralize":"style_rbr-centralize_a34053ee","rbr-cursor-pointer":"style_rbr-cursor-pointer_a34053ee","rbr-space-between":"style_rbr-space-between_a34053ee","rbr-background-center":"style_rbr-background-center_a34053ee","rbr-flex-start":"style_rbr-flex-start_a34053ee",container:container$4,productContainer,productImage,productDetail:productDetail$1,productTitle:productTitle$1,singleVariantTitle,productPrice,price},container$3="variantSelector_container_76e779b1",style$3={"rbr-centralize":"variantSelector_rbr-centralize_76e779b1","rbr-cursor-pointer":"variantSelector_rbr-cursor-pointer_76e779b1","rbr-space-between":"variantSelector_rbr-space-between_76e779b1","rbr-background-center":"variantSelector_rbr-background-center_76e779b1","rbr-flex-start":"variantSelector_rbr-flex-start_76e779b1",container:container$3};var Tt,It;const TRACK_INVENTORY$1=(It=(Tt=window.FastBundleConf)==null?void 0:Tt.bundleBox)==null?void 0:It.track_inventory;var Ct,Nt;const SHOW_SOLD_OUT$1=(Nt=(Ct=window.FastBundleConf)==null?void 0:Ct.bundleBox)==null?void 0:Nt.show_sold_out;function VariantSelector(t){const{product:n,addVariant:r,disabled:o,selectedVariantsQuantities:i,isSoldOut:s=!1}=t,a=tr_(s?"sold_out":"add");return n.variants.length>1?jsxRuntimeExports.jsxs("select",{disabled:o||s,className:style$3.container,onChange:l=>{var d;return r((d=l.target)==null?void 0:d.selectedOptions[0].value)},value:"add",children:[jsxRuntimeExports.jsx("option",{hidden:!0,value:"add",children:a}),n.variants.filter(l=>!TRACK_INVENTORY$1||SHOW_SOLD_OUT$1||l.quantity>0).map(l=>jsxRuntimeExports.jsx("option",{disabled:l.inventory_policy!==INVENTORY_POLICY_CONTINUE&&l.inventory_management&&TRACK_INVENTORY$1&&l.inventory_management&&i&&i[l.id]>=l.quantity,value:l.id,children:l.title},l.id))]}):jsxRuntimeExports.jsx("button",{disabled:o||s,className:style$3.container,onClick:()=>r(n.variants[0].id),children:jsxRuntimeExports.jsx("span",{children:a})})}var Ot;const useSellingPlans=(Ot=window.FastBundleConf)==null?void 0:Ot.enable_subscriptions;function sanitizeProductDataFromShopify(t,n){let r=getCurrencyFormat(),o=n.variants;return o.forEach(i=>{let s=t.variants.find(a=>a.id===i.id);i.requires_selling_plan=t.requires_selling_plan,i.raw_price=s.price/100,i.raw_compare_at_price=s.compare_at_price/100,i.price=r.replace("%s",i.raw_price.toFixed(2)),i.compare_at_price=r.replace("%s",i.raw_compare_at_price.toFixed(2)),i.image=s.featured_image||i.image,i.sellingPlans=useSellingPlans?s.selling_plan_allocations.map(a=>{const l=t.selling_plan_groups.find(_=>_.id===a.selling_plan_group_id),d=l.selling_plans.find(_=>_.id===a.selling_plan_id);return{id:d.id,title:d.name,group_id:l.id}}):[]}),t={...n,image:t.featured_image||n.image,title:t.title||n.title,variants:o,loading:!1},t}const useMultiCurrencyLingualEffect=(t,n,r)=>{reactExports.useEffect(()=>{isMultiCurrencyLingual&&(r(o=>({...o,loading:!0})),getProductDetail(n.handle).then(o=>t(o)).catch(()=>r(o=>({...o,loading:!1}))))},[])};var Dt,Bt;const ROOT=(Bt=(Dt=window.Shopify)==null?void 0:Dt.routes)==null?void 0:Bt.root;var Pt,At;const SHOW_SOLD_OUT=(At=(Pt=window.FastBundleConf)==null?void 0:Pt.bundleBox)==null?void 0:At.show_sold_out;var wt,vt;const TRACK_INVENTORY=(vt=(wt=window.FastBundleConf)==null?void 0:wt.bundleBox)==null?void 0:vt.track_inventory;var Lt;const USE_SELLING_PLAN=(Lt=window.FastBundleConf)==null?void 0:Lt.enable_subscriptions;function MamProductCard(t){var n,r,o;const{initProduct:i,observerElement:s=null,useCompareAtPrice:a=!1,removeVariant:l,addVariant:d,disabledAddVariant:_=()=>!1}=t,[f,m]=reactExports.useState(i),[h,v]=reactExports.useState({image:f.variants.length!==1?f.image:(f==null?void 0:f.variants[0].image)||f.image,price:a&&((n=f==null?void 0:f.variants[0])==null?void 0:n.raw_compare_at_price)||((r=f==null?void 0:f.variants[0])==null?void 0:r.raw_price)}),[S,b]=reactExports.useContext(BundleContext$1),C=(o=Object.values(S.selectedVariants[f.item_id]))==null?void 0:o.reduce((B,P)=>(P!==null&&(B[P]=(B[P]||0)+1),B),{}),D=f.variants.reduce((B,P)=>{const k=f.variants.length===1&&f.variants[0].title.toLowerCase()==="default title"?f.title:P.title,L=C[P.id]||0;return L>0&&B.push({data:{title:k,id:P.id,quantity:P.quantity,ignore_inventory:!P.inventory_management||P.inventory_policy!=="deny"},count:L}),B},[]),R=f.variants.length===1&&f.variants[0].title.toLowerCase()!=="default title",G=reactExports.useMemo(()=>{const B={},P=Object.values(S.selectedVariants[f.item_id]);return f.variants.forEach(k=>{B[k.id]=P.filter(L=>L===k.id).length}),B},[S.selectedVariants]),j=reactExports.useMemo(()=>TRACK_INVENTORY&&f.variants.filter(B=>B.quantity>0).length===0,[f]);return useMultiCurrencyLingualEffect(B=>{let P=sanitizeProductDataFromShopify(B,f);v(k=>{var L,se;return{...k,price:a&&((L=P==null?void 0:P.variants[0])==null?void 0:L.raw_compare_at_price)||((se=P==null?void 0:P.variants[0])==null?void 0:se.raw_price)}}),m(P)},f,B=>m(B)),j&&!SHOW_SOLD_OUT?null:jsxRuntimeExports.jsxs("div",{className:style$4.container,children:[jsxRuntimeExports.jsxs("div",{className:style$4.productContainer,children:[jsxRuntimeExports.jsx("div",{className:style$4.productImage,style:{backgroundImage:`url(${h.image})`}}),jsxRuntimeExports.jsxs("div",{className:style$4.productDetail,children:[jsxRuntimeExports.jsxs("div",{className:style$4.productTitle,children:[jsxRuntimeExports.jsx("a",{href:`${ROOT}products/${f.handle}`,children:f.loading?jsxRuntimeExports.jsx(LoadingElement,{}):f.title}),R?jsxRuntimeExports.jsx("div",{className:style$4.singleVariantTitle,children:f.variants[0].title}):null]}),jsxRuntimeExports.jsxs("div",{className:style$4.productPrice,children:[jsxRuntimeExports.jsx("span",{className:style$4.price,children:f.loading?jsxRuntimeExports.jsx(LoadingElement,{}):applyMoneyFormat(h.price)}),jsxRuntimeExports.jsx(VariantSelector,{selectedVariantsQuantities:G,disabled:_(f),product:f,addVariant:B=>d(B,f,v,a,b,USE_SELLING_PLAN),isSoldOut:j})]})]})]}),D.length&&!j?jsxRuntimeExports.jsx(p.Suspense,{children:jsxRuntimeExports.jsx(SelectedVariantsList,{disabledAddVariant:_(f),addVariant:B=>d(B,f,v,a,b,USE_SELLING_PLAN),selectedVariants:D,removeVariant:B=>l(B,b,f,S)})}):null,s]})}const container$2="totalPrice_container_e89c566d",container_mobile="totalPrice_container_mobile_e89c566d",container_mobile_free_shipping="totalPrice_container_mobile_free_shipping_e89c566d",text="totalPrice_text_e89c566d",raw_price="totalPrice_raw_price_e89c566d",discounted_price="totalPrice_discounted_price_e89c566d",free_shipping_container="totalPrice_free_shipping_container_e89c566d",price_container="totalPrice_price_container_e89c566d",style$2={"rbr-centralize":"totalPrice_rbr-centralize_e89c566d","rbr-cursor-pointer":"totalPrice_rbr-cursor-pointer_e89c566d","rbr-space-between":"totalPrice_rbr-space-between_e89c566d","rbr-background-center":"totalPrice_rbr-background-center_e89c566d","rbr-flex-start":"totalPrice_rbr-flex-start_e89c566d",container:container$2,container_mobile,container_mobile_free_shipping,text,raw_price,discounted_price,free_shipping_container,price_container};var Rt,xt;const currencyRate=(xt=(Rt=window.Shopify)==null?void 0:Rt.currency)==null?void 0:xt.rate;function calculateDiscountedPrice(t,n){const{type:r,value:o}=n;let i;switch(r){case PERCENTAGE_DISCOUNT:i=t-t*o/100;break;case FIX_DISCOUNT:i=t-o*currencyRate;break;case SET_PRICE:i=o*currencyRate;break;default:i=null;break}return Math.max(i,0)}function getSelectedYItemsCost({bundle:t,rawPriceKey:n}){let r=0;return Object.keys(t.selectedVariants).forEach(o=>{t.collections[o].ignoresDiscount||t.selectedVariants[o].forEach(i=>{r+=t.variants[i][n]||t.variants[i].raw_price})}),r}const SellingPlanSelector=reactExports.lazy(()=>__vitePreload(()=>import("./assets/SellingPlanSelector-iD3Rh22S-Vrpo-rwZ.js"),__vite__mapDeps([105,1,106]))),MamDiscountOptions=reactExports.lazy(()=>__vitePreload(()=>import("./assets/MamDiscountOptions--iC3LyCf-497j6eZ-.js"),__vite__mapDeps([107,1,108,109]))),MamDiscountOptionsLegacy=reactExports.lazy(()=>__vitePreload(()=>import("./assets/MamDiscountOptionsLegacy-2U-XdRgE-RiZ7uSwJ.js"),__vite__mapDeps([110,1,108,109]))),head="Accordion_head_c091274e",arrow="Accordion_arrow_c091274e",arrow_active="Accordion_arrow_active_c091274e",panel="Accordion_panel_c091274e",styles={head,arrow,arrow_active,panel},container$1="accordionHead_container_d98ab144",thumbnailContainer="accordionHead_thumbnailContainer_d98ab144",productDetail="accordionHead_productDetail_d98ab144",productTitle="accordionHead_productTitle_d98ab144",selectedProductsDetail="accordionHead_selectedProductsDetail_d98ab144",style$1={"rbr-centralize":"accordionHead_rbr-centralize_d98ab144","rbr-cursor-pointer":"accordionHead_rbr-cursor-pointer_d98ab144","rbr-space-between":"accordionHead_rbr-space-between_d98ab144","rbr-background-center":"accordionHead_rbr-background-center_d98ab144","rbr-flex-start":"accordionHead_rbr-flex-start_d98ab144",container:container$1,thumbnailContainer,productDetail,productTitle,selectedProductsDetail},successIcon="progressBar_successIcon_4afa84ca",statusContainer="progressBar_statusContainer_4afa84ca",progressBar="progressBar_root_4afa84ca",normal="progressBar_normal_4afa84ca",success="progressBar_success_4afa84ca",error="progressBar_error_4afa84ca",hint="progressBar_hint_4afa84ca",style={"rbr-centralize":"progressBar_rbr-centralize_4afa84ca","rbr-cursor-pointer":"progressBar_rbr-cursor-pointer_4afa84ca","rbr-space-between":"progressBar_rbr-space-between_4afa84ca","rbr-background-center":"progressBar_rbr-background-center_4afa84ca","rbr-flex-start":"progressBar_rbr-flex-start_4afa84ca",successIcon,statusContainer,progressBar,normal,success,error,hint},SentryErrorBoundary=reactExports.lazy(()=>__vitePreload(()=>import("./assets/SentryErrorBoundary-8ZpUPqF_-MC3F51d4.js"),__vite__mapDeps([111,1]))),CONF=window.FastBundleConf,deepCopy=t=>JSON.parse(JSON.stringify(t)),AppContext=reactExports.createContext();function AppProvider(t){var n,r,o,i;const s={[SCREEN_SIZE]:MOBILE_SIZE,[VERSION]:(i=(o=(r=(n=CONF.bundleBox.style_object)==null?void 0:n.standard)==null?void 0:r.design)==null?void 0:o.main)==null?void 0:i.design,[BUNDLE_VIEW]:t.bundleView,[BUNDLE_ALIGNMENT]:t.bundleAlignment,[HR_SCREEN_SIZE]:HR_DESKTOP_SIZE,isFunnel:t.isFunnel,needsRender:t.needsRender,isColorSwatchActive:!1,isCustomization:t.isCustomization},[a,l]=reactExports.useState(s),d=reactExports.useRef(),_=reactExports.useCallback((m,h)=>{l(v=>({...v,[m]:h}))},[]),f=reactExports.useMemo(()=>[a,_,deepCopy],[a,_]);return reactExports.useEffect(()=>{l(m=>({...m,[BUNDLE_VIEW]:t.bundleView??VERTICAL}))},[t.bundleView]),reactExports.useEffect(()=>{l(m=>({...m,isFunnel:t.isFunnel??!1}))},[t.isFunnel]),reactExports.useEffect(()=>{l(m=>({...m,[BUNDLE_ALIGNMENT]:t.bundleAlignment??ALIGN_TOP}))},[t.bundleAlignment]),reactExports.useLayoutEffect(()=>{let m=!0;return d.current&&new ResizeObserver(h=>{t.screenSize?m&&_(SCREEN_SIZE,t.screenSize):h[0].contentRect.width<=300?m&&_(SCREEN_SIZE,SMALL_MOBILE_SIZE):h[0].contentRect.width<=330?m&&_(SCREEN_SIZE,MOBILE_SIZE):h[0].contentRect.width>330&&m&&_(SCREEN_SIZE,DESKTOP_SIZE),t.hrScreenSize?m&&_(HR_SCREEN_SIZE,t.hrScreenSize):h[0].contentRect.width<=890?m&&_(HR_SCREEN_SIZE,HR_TABLET_SIZE):m&&_(HR_SCREEN_SIZE,HR_DESKTOP_SIZE),h[0].contentRect.width<=482&&!t.bundleViewForce?m&&_(BUNDLE_VIEW,VERTICAL):t.bundleView===HORIZONTAL?m&&_(BUNDLE_VIEW,HORIZONTAL):t.bundleView===VERTICAL&&m&&_(BUNDLE_VIEW,VERTICAL)}).observe(t.isFunnel?document.body:d.current),()=>{m=!1}},[t.bundleView,t.isFunnel,t.screenSize,t.hrScreenSize,t.bundleViewForce,_]),jsxRuntimeExports.jsx(SentryErrorBoundary,{children:jsxRuntimeExports.jsx("div",{ref:d,className:`${a==null?void 0:a.screenSize} ${a==null?void 0:a.hrScreenSize} ${a.isFunnel?"rbr-funnel":""} ${t.className}`,children:jsxRuntimeExports.jsx(AppContext.Provider,{value:f,...t})})})}const ProductPage=reactExports.lazy(()=>__vitePreload(()=>import("./assets/ProductPage-lSoDs-sf-RFfRq1ky.js"),__vite__mapDeps([112,1])));function ProductApp({data:t,setState:n,needsRender:r,screenSize:o,hrScreenSize:i,isCustomization:s=!1}){var a,l;const[,d]=reactExports.useState(!1),_=(l=(a=window.FastBundleConf)==null?void 0:a.bundleBox)==null?void 0:l.bundles_display;return reactExports.useEffect(()=>{createCSSVariables(),d(f=>!f)},[t]),jsxRuntimeExports.jsx(AppProvider,{bundleView:_,isFunnel:!1,needsRender:r,screenSize:o,hrScreenSize:i,isCustomization:s,children:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}),children:jsxRuntimeExports.jsx(ProductPage,{data:t,setState:n})})})}const BundlesPage=reactExports.lazy(()=>__vitePreload(()=>import("./assets/BundlesPage-5koIHCfy-AC1m3kqn.js"),__vite__mapDeps([113,1,114])));function BundlesApp({bundleIds:t,isCustomization:n=!1,data:r=[],bundleViewForce:o=!1,bundlesDisplay:i,bundlesAlignment:s,needsToRender:a}){var l,d,_,f;const[,m]=reactExports.useState(a),h=i??((d=(l=window.FastBundleConf)==null?void 0:l.bundlePageInfo)==null?void 0:d.bundles_display),v=s??((f=(_=window.FastBundleConf)==null?void 0:_.bundlePageInfo)==null?void 0:f.bundles_alignment);return reactExports.useEffect(()=>{createCSSVariables(),m(S=>!S)},[a]),jsxRuntimeExports.jsx(AppProvider,{bundleView:h,bundleViewForce:o,isFunnel:!1,bundleAlignment:v,children:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}),children:jsxRuntimeExports.jsx(BundlesPage,{bundleIds:t,isCustomization:n,data:r})})})}const container="bundleBuilderApp_container_f5187cfa",moduleStyle={container},CMMBundleBuilderPage=reactExports.lazy(()=>__vitePreload(()=>import("./assets/CMMBundleBuilderPage-4wSJQf4x-LtzY4w3f.js"),__vite__mapDeps([115,1,116,117,59,60,61,118,119,62,63,64,65,120,121]))),PMMBundleBuilderPage=reactExports.lazy(()=>__vitePreload(()=>import("./assets/PMMBundleBuilderPage-Pud1ArNZ-bV0NKcUg.js"),__vite__mapDeps([122,1,117,59,60,61,118,123]))),BuyXGetYBundleBuilderPage=reactExports.lazy(()=>__vitePreload(()=>import("./assets/BuyXGetYBundleBuilderPage-y_gR-uy6-CesT8R9_.js"),__vite__mapDeps([124,1,120,63,59,60,61,64,116,117,118,119,125,126,127])));function BundleBuilderApp(t){const{data:n}=t,{type:r,item_type:o,pmm_widget_type:i}=n,s=o===COLLECTION_BUNDLE,a=i===PMM_WIDGET_MODAL;let l=null;return s?(r===STANDARD_BUNDLE&&(l=jsxRuntimeExports.jsx(CMMBundleBuilderPage,{data:n})),r===BXGY_BUNDLE&&(l=jsxRuntimeExports.jsx(BuyXGetYBundleBuilderPage,{data:n}))):r===MIX_AND_MATCH_BUNDLE&&a&&(l=jsxRuntimeExports.jsx(PMMBundleBuilderPage,{data:n})),jsxRuntimeExports.jsx(AppProvider,{isFunnel:!1,className:moduleStyle.container,children:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(LoadingElement,{}),children:l})})}const ORIGINAL_FETCH$1=window.fetch,ATC_URL$1="/cart/add",FASTBUNDLE_HEADER="X-Fastbundle-Request";function getBodyAndHeaders(t,n){let r,o;return n!=null&&n.body?(r=n.body,o=extractHeaders(n.headers)):t!=null&&t.body&&(r=t.body,o=extractHeaders(t.headers)),{reqBody:r,reqHeaders:o}}function useBapFetch({disabled:t=!0,callBack:n}){reactExports.useEffect(()=>t?void 0:(document.querySelectorAll('form[action*="/cart/add"]').forEach(r=>{r.addEventListener("submit",function(o){if(!o.defaultPrevented){o.preventDefault();const i=new FormData(r);window.fetch(r.action,{method:r.method,body:i})}})}),window.fetch=async(r,o={})=>{var i;let s=typeof r=="string"?r:r==null?void 0:r.url,a=(i=(o==null?void 0:o.method)||r.method)==null?void 0:i.toUpperCase();const{reqBody:l,reqHeaders:d}=getBodyAndHeaders(r,o),_=a==="POST"&&s.includes(ATC_URL$1)&&l&&d[FASTBUNDLE_HEADER]!=="yes";return conditionalLog("should override",_,s,a,l,d),_?n({input:r,initRequest:o}):ORIGINAL_FETCH$1(r,o)},()=>window.fetch=ORIGINAL_FETCH$1),[t])}const ORIGINAL_XHR=window.rbrOriginalXHR||window.XMLHttpRequest,ATC_URL="/cart/add";function useBapXHR({disabled:t=!0,callBack:n}){reactExports.useEffect(()=>(t||function(){function r(){const o=new ORIGINAL_XHR,i=o.open,s=o.send;return o.requestData={},o.open=function(a,l,...d){return conditionalLog("open",a,l,d),o.requestData.method=a,o.requestData.url=l,i.apply(o,[a,l,...d])},o.send=function(a){const l=this._method||this.requestData.method,d=this._url||this.requestData.url;if(l==="POST"&&d.includes(ATC_URL)&&a)return n({data:a,originalSend:{apply:_=>s.apply(this,_),call:_=>s.call(this,_)}});s.apply(this,arguments)},o}window.XMLHttpRequest=r}(),()=>window.XMLHttpRequest=ORIGINAL_XHR),[])}var lodash_isequal={exports:{}};lodash_isequal.exports;(function(t,n){var r=200,o="__lodash_hash_undefined__",i=1,s=2,a=9007199254740991,l="[object Arguments]",d="[object Array]",_="[object AsyncFunction]",f="[object Boolean]",m="[object Date]",h="[object Error]",v="[object Function]",S="[object GeneratorFunction]",b="[object Map]",C="[object Number]",D="[object Null]",R="[object Object]",G="[object Promise]",j="[object Proxy]",B="[object RegExp]",P="[object Set]",k="[object String]",L="[object Symbol]",se="[object Undefined]",Ee="[object WeakMap]",xe="[object ArrayBuffer]",ae="[object DataView]",Jt="[object Float32Array]",Zt="[object Float64Array]",Qt="[object Int8Array]",en="[object Int16Array]",tn="[object Int32Array]",nn="[object Uint8Array]",rn="[object Uint8ClampedArray]",on="[object Uint16Array]",sn="[object Uint32Array]",an=/[\\^$.*+?()[\]{}|]/g,cn=/^\[object .+?Constructor\]$/,ln=/^(?:0|[1-9]\d*)$/,x={};x[Jt]=x[Zt]=x[Qt]=x[en]=x[tn]=x[nn]=x[rn]=x[on]=x[sn]=!0,x[l]=x[d]=x[xe]=x[f]=x[ae]=x[m]=x[h]=x[v]=x[b]=x[C]=x[R]=x[B]=x[P]=x[k]=x[Ee]=!1;var Ie=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,dn=typeof self=="object"&&self&&self.Object===Object&&self,z=Ie||dn||Function("return this")(),Oe=n&&!n.nodeType&&n,Te=Oe&&!0&&t&&!t.nodeType&&t,De=Te&&Te.exports===Oe,he=De&&Ie.process,we=function(){try{return he&&he.binding&&he.binding("util")}catch{}}(),Ce=we&&we.isTypedArray;function un(c,u){for(var E=-1,g=c==null?0:c.length,I=0,y=[];++E<g;){var T=c[E];u(T,E,c)&&(y[I++]=T)}return y}function _n(c,u){for(var E=-1,g=u.length,I=c.length;++E<g;)c[I+E]=u[E];return c}function pn(c,u){for(var E=-1,g=c==null?0:c.length;++E<g;)if(u(c[E],E,c))return!0;return!1}function fn(c,u){for(var E=-1,g=Array(c);++E<c;)g[E]=u(E);return g}function mn(c){return function(u){return c(u)}}function En(c,u){return c.has(u)}function hn(c,u){return c==null?void 0:c[u]}function gn(c){var u=-1,E=Array(c.size);return c.forEach(function(g,I){E[++u]=[I,g]}),E}function vn(c,u){return function(E){return c(u(E))}}function yn(c){var u=-1,E=Array(c.size);return c.forEach(function(g){E[++u]=g}),E}var bn=Array.prototype,Sn=Function.prototype,ce=Object.prototype,ge=z["__core-js_shared__"],Ne=Sn.toString,$=ce.hasOwnProperty,Ae=function(){var c=/[^.]+$/.exec(ge&&ge.keys&&ge.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""}(),Re=ce.toString,Pn=RegExp("^"+Ne.call($).replace(an,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Le=De?z.Buffer:void 0,le=z.Symbol,Fe=z.Uint8Array,je=ce.propertyIsEnumerable,Bn=bn.splice,X=le?le.toStringTag:void 0,Ue=Object.getOwnPropertySymbols,xn=Le?Le.isBuffer:void 0,In=vn(Object.keys,Object),ve=te(z,"DataView"),ne=te(z,"Map"),ye=te(z,"Promise"),be=te(z,"Set"),Se=te(z,"WeakMap"),re=te(Object,"create"),On=Q(ve),Tn=Q(ne),Dn=Q(ye),wn=Q(be),Cn=Q(Se),Ve=le?le.prototype:void 0,Pe=Ve?Ve.valueOf:void 0;function J(c){var u=-1,E=c==null?0:c.length;for(this.clear();++u<E;){var g=c[u];this.set(g[0],g[1])}}function Nn(){this.__data__=re?re(null):{},this.size=0}function An(c){var u=this.has(c)&&delete this.__data__[c];return this.size-=u?1:0,u}function Rn(c){var u=this.__data__;if(re){var E=u[c];return E===o?void 0:E}return $.call(u,c)?u[c]:void 0}function Ln(c){var u=this.__data__;return re?u[c]!==void 0:$.call(u,c)}function Fn(c,u){var E=this.__data__;return this.size+=this.has(c)?0:1,E[c]=re&&u===void 0?o:u,this}J.prototype.clear=Nn,J.prototype.delete=An,J.prototype.get=Rn,J.prototype.has=Ln,J.prototype.set=Fn;function H(c){var u=-1,E=c==null?0:c.length;for(this.clear();++u<E;){var g=c[u];this.set(g[0],g[1])}}function jn(){this.__data__=[],this.size=0}function Un(c){var u=this.__data__,E=ue(u,c);if(E<0)return!1;var g=u.length-1;return E==g?u.pop():Bn.call(u,E,1),--this.size,!0}function Vn(c){var u=this.__data__,E=ue(u,c);return E<0?void 0:u[E][1]}function kn(c){return ue(this.__data__,c)>-1}function Mn(c,u){var E=this.__data__,g=ue(E,c);return g<0?(++this.size,E.push([c,u])):E[g][1]=u,this}H.prototype.clear=jn,H.prototype.delete=Un,H.prototype.get=Vn,H.prototype.has=kn,H.prototype.set=Mn;function Z(c){var u=-1,E=c==null?0:c.length;for(this.clear();++u<E;){var g=c[u];this.set(g[0],g[1])}}function $n(){this.size=0,this.__data__={hash:new J,map:new(ne||H),string:new J}}function Gn(c){var u=_e(this,c).delete(c);return this.size-=u?1:0,u}function zn(c){return _e(this,c).get(c)}function Hn(c){return _e(this,c).has(c)}function qn(c,u){var E=_e(this,c),g=E.size;return E.set(c,u),this.size+=E.size==g?0:1,this}Z.prototype.clear=$n,Z.prototype.delete=Gn,Z.prototype.get=zn,Z.prototype.has=Hn,Z.prototype.set=qn;function de(c){var u=-1,E=c==null?0:c.length;for(this.__data__=new Z;++u<E;)this.add(c[u])}function Kn(c){return this.__data__.set(c,o),this}function Wn(c){return this.__data__.has(c)}de.prototype.add=de.prototype.push=Kn,de.prototype.has=Wn;function K(c){var u=this.__data__=new H(c);this.size=u.size}function Yn(){this.__data__=new H,this.size=0}function Xn(c){var u=this.__data__,E=u.delete(c);return this.size=u.size,E}function Jn(c){return this.__data__.get(c)}function Zn(c){return this.__data__.has(c)}function Qn(c,u){var E=this.__data__;if(E instanceof H){var g=E.__data__;if(!ne||g.length<r-1)return g.push([c,u]),this.size=++E.size,this;E=this.__data__=new Z(g)}return E.set(c,u),this.size=E.size,this}K.prototype.clear=Yn,K.prototype.delete=Xn,K.prototype.get=Jn,K.prototype.has=Zn,K.prototype.set=Qn;function er(c,u){var E=pe(c),g=!E&&mr(c),I=!E&&!g&&Be(c),y=!E&&!g&&!I&&Ft(c),T=E||g||I||y,w=T?fn(c.length,String):[],N=w.length;for(var O in c)(u||$.call(c,O))&&!(T&&(O=="length"||I&&(O=="offset"||O=="parent")||y&&(O=="buffer"||O=="byteLength"||O=="byteOffset")||dr(O,N)))&&w.push(O);return w}function ue(c,u){for(var E=c.length;E--;)if(ze(c[E][0],u))return E;return-1}function tr(c,u,E){var g=u(c);return pe(c)?g:_n(g,E(c))}function oe(c){return c==null?c===void 0?se:D:X&&X in Object(c)?cr(c):fr(c)}function ke(c){return ie(c)&&oe(c)==l}function Me(c,u,E,g,I){return c===u?!0:c==null||u==null||!ie(c)&&!ie(u)?c!==c&&u!==u:nr(c,u,E,g,Me,I)}function nr(c,u,E,g,I,y){var T=pe(c),w=pe(u),N=T?d:W(c),O=w?d:W(u);N=N==l?R:N,O=O==l?R:O;var F=N==R,M=O==R,A=N==O;if(A&&Be(c)){if(!Be(u))return!1;T=!0,F=!1}if(A&&!F)return y||(y=new K),T||Ft(c)?$e(c,u,E,g,I,y):sr(c,u,N,E,g,I,y);if(!(E&i)){var U=F&&$.call(c,"__wrapped__"),V=M&&$.call(u,"__wrapped__");if(U||V){var Y=U?c.value():c,q=V?u.value():u;return y||(y=new K),I(Y,q,E,g,y)}}return A?(y||(y=new K),ar(c,u,E,g,I,y)):!1}function rr(c){if(!Ye(c)||_r(c))return!1;var u=He(c)?Pn:cn;return u.test(Q(c))}function or(c){return ie(c)&&qe(c.length)&&!!x[oe(c)]}function ir(c){if(!pr(c))return In(c);var u=[];for(var E in Object(c))$.call(c,E)&&E!="constructor"&&u.push(E);return u}function $e(c,u,E,g,I,y){var T=E&i,w=c.length,N=u.length;if(w!=N&&!(T&&N>w))return!1;var O=y.get(c);if(O&&y.get(u))return O==u;var F=-1,M=!0,A=E&s?new de:void 0;for(y.set(c,u),y.set(u,c);++F<w;){var U=c[F],V=u[F];if(g)var Y=T?g(V,U,F,u,c,y):g(U,V,F,c,u,y);if(Y!==void 0){if(Y)continue;M=!1;break}if(A){if(!pn(u,function(q,ee){if(!En(A,ee)&&(U===q||I(U,q,E,g,y)))return A.push(ee)})){M=!1;break}}else if(!(U===V||I(U,V,E,g,y))){M=!1;break}}return y.delete(c),y.delete(u),M}function sr(c,u,E,g,I,y,T){switch(E){case ae:if(c.byteLength!=u.byteLength||c.byteOffset!=u.byteOffset)return!1;c=c.buffer,u=u.buffer;case xe:return!(c.byteLength!=u.byteLength||!y(new Fe(c),new Fe(u)));case f:case m:case C:return ze(+c,+u);case h:return c.name==u.name&&c.message==u.message;case B:case k:return c==u+"";case b:var w=gn;case P:var N=g&i;if(w||(w=yn),c.size!=u.size&&!N)return!1;var O=T.get(c);if(O)return O==u;g|=s,T.set(c,u);var F=$e(w(c),w(u),g,I,y,T);return T.delete(c),F;case L:if(Pe)return Pe.call(c)==Pe.call(u)}return!1}function ar(c,u,E,g,I,y){var T=E&i,w=Ge(c),N=w.length,O=Ge(u),F=O.length;if(N!=F&&!T)return!1;for(var M=N;M--;){var A=w[M];if(!(T?A in u:$.call(u,A)))return!1}var U=y.get(c);if(U&&y.get(u))return U==u;var V=!0;y.set(c,u),y.set(u,c);for(var Y=T;++M<N;){A=w[M];var q=c[A],ee=u[A];if(g)var jt=T?g(ee,q,A,u,c,y):g(q,ee,A,c,u,y);if(!(jt===void 0?q===ee||I(q,ee,E,g,y):jt)){V=!1;break}Y||(Y=A=="constructor")}if(V&&!Y){var fe=c.constructor,me=u.constructor;fe!=me&&"constructor"in c&&"constructor"in u&&!(typeof fe=="function"&&fe instanceof fe&&typeof me=="function"&&me instanceof me)&&(V=!1)}return y.delete(c),y.delete(u),V}function Ge(c){return tr(c,gr,lr)}function _e(c,u){var E=c.__data__;return ur(u)?E[typeof u=="string"?"string":"hash"]:E.map}function te(c,u){var E=hn(c,u);return rr(E)?E:void 0}function cr(c){var u=$.call(c,X),E=c[X];try{c[X]=void 0;var g=!0}catch{}var I=Re.call(c);return g&&(u?c[X]=E:delete c[X]),I}var lr=Ue?function(c){return c==null?[]:(c=Object(c),un(Ue(c),function(u){return je.call(c,u)}))}:vr,W=oe;(ve&&W(new ve(new ArrayBuffer(1)))!=ae||ne&&W(new ne)!=b||ye&&W(ye.resolve())!=G||be&&W(new be)!=P||Se&&W(new Se)!=Ee)&&(W=function(c){var u=oe(c),E=u==R?c.constructor:void 0,g=E?Q(E):"";if(g)switch(g){case On:return ae;case Tn:return b;case Dn:return G;case wn:return P;case Cn:return Ee}return u});function dr(c,u){return u=u??a,!!u&&(typeof c=="number"||ln.test(c))&&c>-1&&c%1==0&&c<u}function ur(c){var u=typeof c;return u=="string"||u=="number"||u=="symbol"||u=="boolean"?c!=="__proto__":c===null}function _r(c){return!!Ae&&Ae in c}function pr(c){var u=c&&c.constructor,E=typeof u=="function"&&u.prototype||ce;return c===E}function fr(c){return Re.call(c)}function Q(c){if(c!=null){try{return Ne.call(c)}catch{}try{return c+""}catch{}}return""}function ze(c,u){return c===u||c!==c&&u!==u}var mr=ke(function(){return arguments}())?ke:function(c){return ie(c)&&$.call(c,"callee")&&!je.call(c,"callee")},pe=Array.isArray;function Er(c){return c!=null&&qe(c.length)&&!He(c)}var Be=xn||yr;function hr(c,u){return Me(c,u)}function He(c){if(!Ye(c))return!1;var u=oe(c);return u==v||u==S||u==_||u==j}function qe(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=a}function Ye(c){var u=typeof c;return c!=null&&(u=="object"||u=="function")}function ie(c){return c!=null&&typeof c=="object"}var Ft=Ce?mn(Ce):or;function gr(c){return Er(c)?er(c):ir(c)}function vr(){return[]}function yr(){return!1}t.exports=hr})(lodash_isequal,lodash_isequal.exports);var lodash_isequalExports=lodash_isequal.exports;const isEqual=getDefaultExportFromCjs(lodash_isequalExports),client=getSentryClient();client&&client.init();(function(){try{var t=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},n=new Error().stack;n&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[n]="1d104f15-b5a6-4882-86d3-e7a9edaffa6a",t._sentryDebugIdIdentifier="sentry-dbid-1d104f15-b5a6-4882-86d3-e7a9edaffa6a")}catch{}})();function renderer({body:t,root:n}){n.render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}),children:t})}))}function injectBundle(t,n=!1){const r=n?{bundle_as_product:t}:{bundles:t.filter(i=>i.type!==FBT_BUNDLE)};if(n&&!r.bundle_as_product||!n&&!r.bundles.length)return;const o="rbr-container-element";returnElement(findProperElement,1e4).then(i=>{let s=document.createElement("div");s.id=`${o}-${n}`,n?i.parentNode.insertBefore(s,i):i.parentNode.insertBefore(s,i.nextSibling);const a=createRoot(document.getElementById(s.id));renderer({root:a,body:jsxRuntimeExports.jsx(ProductApp,{data:r})})}).catch(i=>{console.error(i)})}function injectFBT(t){if(!t)return;const n="rbr-container-element";returnElement(()=>{let r=document.querySelector(".rbrFBTPosition");return r||(window.FastBundleConf.bundleBox.fbt_inject_selector&&(r=document.querySelector(window.FastBundleConf.bundleBox.fbt_inject_selector)),r||(r=document.querySelector("#shopify-section-product-template")),r||(r=document.querySelector("main>*:last-child")),r)},1e4).then(r=>{let o=document.createElement("div");o.id=`${n}-fbt`,r.parentNode.insertBefore(o,r.nextSibling);const i=createRoot(document.getElementById(o.id));renderer({root:i,body:jsxRuntimeExports.jsx(ProductApp,{data:{bundles:[t]}})})}).catch(r=>{console.error(r)})}const bundleBuilderSelector=".rbrBundleBuilder, #bundle-container";function applyStandardExternalStyleObjects(styleObj){var t;const customCode=(t=styleObj==null?void 0:styleObj.standard)==null?void 0:t.custom_code;if(customCode&&(customCode.main.custom_css&&addStyle(customCode.main.custom_css),customCode.main.custom_js))try{eval(customCode.main.custom_js)()}catch(n){console.log("error on external scripts",n)}}function postService(response={},bundlesPage=!1){const conf=window.FastBundleConf;let time=response.bundle_as_product?200:0;waitForElement(`#rbr-container-element-fbt, .rbr-page-container, .rbr-total-box, ${bundleBuilderSelector}`,1e4).then(()=>{setTimeout(()=>{var t,n;if(addStyle(conf.bundleBox.style),applyStandardExternalStyleObjects(conf.bundleBox.style_object),createCSSVariables(conf.bundleBox.style_object),(t=conf.bundleBox)!=null&&t.external_script)try{eval(conf.bundleBox.external_script)(response)}catch(r){console.log("error on external scripts",r)}if(bundlesPage&&(addStyle(conf.bundlePageInfo.style),addStyle(conf.bundlePageInfo.shop_style),(n=conf.bundlePageInfo)!=null&&n.external_script))try{eval(conf.bundlePageInfo.external_script)(response)}catch(r){console.log("error on external scripts",r)}},time)}).catch(()=>null)}function makeParentsFullWidth(t){const n={width:"100%",left:"0","margin-right":"0px","margin-left":"0px","max-width":"100%","padding-left":"unset","padding-right":"unset","text-align":"center"};t.style["text-align"]="left";let r=t;for(let o=0;o<3;o++){r=r.parentNode;for(const i in n)r.style[i]=n[i]}}function isPagesUrl(){return window.location.pathname.indexOf("/pages/")!==-1}const BAP_MULTI$1="multi",ORIGINAL_FETCH=window.fetch;var Ut;const PAGE_PRODUCT_ID$1=((Ut=window.FastBundleConf)==null?void 0:Ut.pid)??"",INVALID_BAP_OVERRIDE$2=window.FastBundleConf.invalid_bap_override_fetch;var Vt;const BAPS$1=((Vt=window.FastBundleConf)==null?void 0:Vt.baps)??{};var kt;const SHOP_DOMAIN$1=((kt=window.FastBundleConf)==null?void 0:kt.domain)??"",OverrideFetchInvalidBAP=()=>(useBapFetch({callBack:({input:n,initRequest:r})=>{var l,d;conditionalLog(n,"input",r);let o,i;if(r.body instanceof FormData)i=r.body.get("product-id"),o=r.body.get("id");else if(typeof r.body=="string")try{const _=JSON.parse(r.body);o=_==null?void 0:_.id,i=_==null?void 0:_["product-id"],_.items&&_.items.length>0&&(o=_.items[0].id)}catch(_){conditionalLog("Error parsing data",_);const f=new URLSearchParams(r.body);i=f.get("product-id"),o=f.get("id")}if(!i){const _=Object.entries(BAPS$1).find(([,f])=>+f.variant_id==+o);conditionalLog("product_ids",_),i=_==null?void 0:_[0]}if(!i)return ORIGINAL_FETCH(n,r);if(((l=BAPS$1[i])==null?void 0:l.type)===BAP_MULTI$1&&!(i===PAGE_PRODUCT_ID$1))window.location.href=`https://${SHOP_DOMAIN$1}/products/${(d=BAPS$1[i])==null?void 0:d.handle}`;else return ORIGINAL_FETCH(n,r)},disabled:!INVALID_BAP_OVERRIDE$2}),null);var Mt;const BAPS=((Mt=window.FastBundleConf)==null?void 0:Mt.baps)??{};var $t;const SHOP_DOMAIN=(($t=window.FastBundleConf)==null?void 0:$t.domain)??"",BAP_MULTI="multi";var Gt;const PAGE_PRODUCT_ID=((Gt=window.FastBundleConf)==null?void 0:Gt.pid)??"",INVALID_BAP_OVERRIDE$1=window.FastBundleConf.invalid_bap_override_fetch,OverrideXHRInvalidBAP=()=>(useBapXHR({callBack:({data:n,originalSend:r})=>{var s,a,l,d;conditionalLog("data",n);let o,i;if(n instanceof FormData)o=n.get("id"),i=n.get("product-id");else if(typeof n=="string")try{i=(s=JSON.parse(n))==null?void 0:s["product-id"],o=(a=JSON.parse(n))==null?void 0:a.id}catch(_){conditionalLog("Error parsing data",_);const f=new URLSearchParams(n);i=f.get("product-id"),o=f.get("id")}if(!i){const _=Object.entries(BAPS).find(([,f])=>+f.variant_id==+o);conditionalLog("product_ids",_),i=_==null?void 0:_[0]}if(!i)r.call(n);else{const _=((l=BAPS[i])==null?void 0:l.type)===BAP_MULTI,f=i===PAGE_PRODUCT_ID;conditionalLog("is",_,f),_&&!f?window.location.href=`https://${SHOP_DOMAIN}/products/${(d=BAPS[i])==null?void 0:d.handle}`:r.call(n)}},disabled:!INVALID_BAP_OVERRIDE$1}),null);function renderBundlePageElements(t=[]){var o,i,s;const n=document.querySelectorAll(bundlePageSelector),r=[];postService({},!0);for(const a of n){if(t.indexOf(a)!==-1)continue;r.push(a),isPagesUrl()&&makeParentsFullWidth(a);let l=((o=a.attributes["bundle-ids"])==null?void 0:o.value)??"",d=(i=a.attributes["data-view"])==null?void 0:i.value;d==="automatic"&&(d=null);const _=((s=a.attributes.bundleviewforce)==null?void 0:s.value)==="true"||!!d;l||(l=getUrlParams("b",window.location.search)),l=l??"";const f=createRoot(a);renderer({root:f,body:jsxRuntimeExports.jsx(BundlesApp,{bundleIds:l,bundleViewForce:_,bundlesDisplay:d})})}return r}function loadBundlesPageContent(){const t=renderBundlePageElements([]);setTimeout(()=>renderBundlePageElements(t),2e3)}const BundleAsProduct=reactExports.lazy(()=>__vitePreload(()=>import("./assets/BundleAsProduct-6VRoveho.js"),__vite__mapDeps([128,1,129])));function showBAPModal(t,n,r=""){const o=document.createElement("div");o.id="rbr-bap-modal",document.body.appendChild(o),createRoot(document.getElementById(o.id)).render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}),children:jsxRuntimeExports.jsx(BundleAsProduct,{root:`#${o.id}`,item:t,bap:n,token:r})})}))}function PopupContainer({bundle:t}){const[n,r]=reactExports.useState(!0);return jsxRuntimeExports.jsx(Modal,{title:"",show:n,body:jsxRuntimeExports.jsx(Popup,{bundle:t,setState:()=>null}),large:!0,onClose:()=>r(!1),showFooter:!1,root:"body",color:window.FastBundleConf.cartInfo.style_object.standard.box.background.backgroundColor})}function funnel(t){const n=document.createElement("div");n.id="rbr-funnel";const r=document.getElementsByTagName("body")[0];r.insertBefore(n,r.lastChild.nextSibling);const o=createRoot(document.getElementById(n.id));let i=window.FastBundleConf.cartInfo.style_object.standard;waitForElement('div[class*="modal_container"]',1e4).then(()=>{try{addStyle(i.custom_code.main.custom_css),addStyle(window.FastBundleConf.cartInfo.style)}catch(s){console.log(s)}}).catch(()=>null),o.render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}),children:jsxRuntimeExports.jsx(PopupContainer,{bundle:t})})}))}const DiscountCard=reactExports.lazy(()=>__vitePreload(()=>import("./assets/DiscountCard-4y5JxduK.js"),__vite__mapDeps([130,1,131])));function LoadBundleBuilders(){var r;const t=document.querySelectorAll(bundleBuilderSelector),n=window.Shopify.shop;for(const o of t){isPagesUrl()&&makeParentsFullWidth(o);let i=((r=o.attributes["bundle-id"])==null?void 0:r.value)??"";if(i||(i=getUrlParams("b",window.location.search)),!i)return;const s=createRoot(o),a=getUrlParams("ispreview",window.location.search.toLowerCase())==="true";getBundleBuilder(i,n,a).then(l=>{if(!l){console.log("Bundle builder data is not available",i,a);return}postService({bundleBuilder:l},!1),renderer({root:s,body:jsxRuntimeExports.jsx(BundleBuilderApp,{data:l})})}).catch(l=>{console.error(l)})}}const INVALID_BAP_OVERRIDE=window.FastBundleConf.invalid_bap_override_fetch;function overrideAPICallMethods(){if(!INVALID_BAP_OVERRIDE)return;const t=document.createElement("div");if(t.id="rbr-override-bap",!document.body)return;document.body.appendChild(t),createRoot(document.getElementById(t.id)).render(jsxRuntimeExports.jsxs(reactExports.Suspense,{children:[jsxRuntimeExports.jsx(OverrideFetchInvalidBAP,{}),jsxRuntimeExports.jsx(OverrideXHRInvalidBAP,{})]}))}function discountCardRoot(t,n){const r=document.getElementById(n);if(r)createRoot(r).render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}),children:jsxRuntimeExports.jsx(DiscountCard,{code:t})})}));else throw new Error(`Couldn't find ${n} in the DOM tree.`)}const reportWebVitals=t=>{t&&t instanceof Function&&__vitePreload(()=>import("./assets/web-vitals-h7xukfVX.js"),__vite__mapDeps([])).then(({getCLS:n,getFID:r,getFCP:o,getLCP:i,getTTFB:s})=>{n(t),r(t),o(t),i(t),s(t)})},ELEMENT_ID$1="rbr-container-element",BLOCK_SELECTOR$1=".rbrVolumeContainer";var zt;const VOLUME_INJECT_SELECTOR=(zt=window.FastBundleConf.bundleBox)==null?void 0:zt.volume_inject_selector;var Ht;const BAP_INJECT_SELECTOR$1=(Ht=window.FastBundleConf.bundleBox)==null?void 0:Ht.bap_inject_selector;var qt;const volumeDiscountAddOnOverrideFetch$2=(qt=window.FastBundleConf)==null?void 0:qt.volume_discount_add_on_override_fetch;function injectVolumeBundles(t,n){const r=t.filter(o=>o.type==="bogo");returnElement(()=>{let o=document.querySelector(BLOCK_SELECTOR$1);return!o&&VOLUME_INJECT_SELECTOR&&(o=document.querySelector(VOLUME_INJECT_SELECTOR)),!o&&BAP_INJECT_SELECTOR$1&&(o=document.querySelector(BAP_INJECT_SELECTOR$1)),o||findProperElement()},1e4).then(o=>{let i=document.createElement("div");i.id=`${ELEMENT_ID$1}-volume`,o.parentNode.insertBefore(i,o),n||!volumeDiscountAddOnOverrideFetch$2?o.parentNode.insertBefore(i,o.nextSibling):o.parentNode.insertBefore(i,o);const s=createRoot(document.getElementById(i.id));renderer({root:s,body:jsxRuntimeExports.jsx(ProductApp,{data:{bundles:r}})})}).catch(o=>{console.error(o)})}const ELEMENT_ID="rbr-container-element",BLOCK_SELECTOR=".rbrAddOnContainer";var Kt;const ADDON_INJECT_SELECTOR=(Kt=window.FastBundleConf.bundleBox)==null?void 0:Kt.volume_inject_selector;var Wt;const BAP_INJECT_SELECTOR=(Wt=window.FastBundleConf.bundleBox)==null?void 0:Wt.bap_inject_selector;var Yt;const volumeDiscountAddOnOverrideFetch$1=(Yt=window.FastBundleConf)==null?void 0:Yt.volume_discount_add_on_override_fetch;function injectAddOnBundles(t){const n=t.filter(r=>r.type==="add_on");returnElement(()=>{let r=document.querySelector(BLOCK_SELECTOR);return!r&&ADDON_INJECT_SELECTOR&&(r=document.querySelector(ADDON_INJECT_SELECTOR)),!r&&BAP_INJECT_SELECTOR&&(r=document.querySelector(BAP_INJECT_SELECTOR)),r||findProperElement()},1e4).then(r=>{let o=document.createElement("div");o.id=`${ELEMENT_ID}-addOn`,volumeDiscountAddOnOverrideFetch$1?r.parentNode.insertBefore(o,r):r.parentNode.insertBefore(o,r.nextSibling);const i=createRoot(document.getElementById(o.id));renderer({root:i,body:jsxRuntimeExports.jsx(ProductApp,{data:{bundles:n}})})}).catch(r=>{console.error(r)})}const isPreview$1=!!getUrlParams("ispreview",window.location.search.toLowerCase());var Xt;const volumeDiscountAddOnOverrideFetch=(Xt=window.FastBundleConf)==null?void 0:Xt.volume_discount_add_on_override_fetch;async function getProductPageBundles(){const t=Number(window.FastBundleConf.pid);let n=[],r=null;try{n=await getBundles(t,isPreview$1)}catch(d){console.error(d)}n=n.filter(checkBundlesWithEmptyVariants);const o=n.some(d=>d.type==="add_on"),s=n.some(d=>d.type==="bogo")&&o&&volumeDiscountAddOnOverrideFetch;window.hasCombinedVolumeAndAddOnBundles=s;const a=n.filter(d=>d.type!=="add_on"&&d.type!=="bogo");if(a.length&&injectBundle(a),injectAddOnBundles(n),injectVolumeBundles(n,s),window.FastBundleConf.has_fbt_bundle)try{r=await getFBT(t,isPreview$1)}catch(d){console.error(d)}injectFBT(r);let l=n;r&&Object.keys(r).length&&l.push(r),l.length&&postService({bundles:l})}typeof window.ResizeObserver>"u"&&install_1();const isPreview=!!getUrlParams("ispreview",window.location.search.toLowerCase()),conf=window.FastBundleConf,eligibleForProductPageService=isPreview||typeof conf.active_bundles_count>"u"||conf.active_bundles_count>0;window.rbrProductService=t=>{var n;t&&(t=Number(t),(n=conf.bap_ids)!=null&&n.includes(t)?getBundleAsProduct(t,isPreview).then(r=>{const o=JSON.parse(JSON.stringify(r));injectBundle(o,!0),postService({bundle_as_product:r})}).catch(r=>{console.error(r)}):getProductPageBundles().catch(r=>{console.error(r)}))};eligibleForProductPageService&&window.rbrProductService(conf.pid);(conf.active_bundles_count>0||isPreview)&&(waitForElement(bundlePageSelector,3e3).then(()=>loadBundlesPageContent()).catch(()=>null),waitForElement(bundleBuilderSelector,3e3).then(()=>LoadBundleBuilders()).catch(()=>null));conf.bundleBox.bap_form_script&&getBAPList().then(data=>{waitForElement("body, main",2e3).then(()=>eval(conf.bundleBox.bap_form_script)(null,{},data)).catch(()=>null)}).catch(t=>{console.error(t)});conf.enable_bap_modal&&(window.showBAPModal=showBAPModal);window.rbrShowFunnel=funnel;window.discountCardRoot=discountCardRoot;window.rbrWaitForElement=waitForElement;overrideAPICallMethods();reportWebVitals();export{QtyBox as $,AppContext as A,Button as B,COLLECTION_BUNDLE as C,Divider as D,ErrorBanner as E,FBT_BUNDLE as F,SelectBoxWrapper as G,HORIZONTAL as H,SelectBoxCustom as I,SingleSelectBox as J,dispatchBundleValue as K,LoadingElement as L,Modal as M,NO_DISCOUNT as N,findIdenticalSellingPlans as O,ProductApp as P,QtyContainer as Q,findNotNullKeys as R,STANDARD_BUNDLE as S,Thumbnail as T,RightChevron as U,VOLUME_DISCOUNT_BUNDLE as V,ColorSwatch as W,Banner as X,FREE_SHIPPING as Y,FreeShipping as Z,__vitePreload as _,postCartUpdate as a,ALIGN_CENTER as a$,getUrlParams as a0,getBundleBuilder as a1,CMMBundleBuilderPage as a2,VERTICAL as a3,PMM_WIDGET_TYPE as a4,PMM_WIDGET_MODAL as a5,SET_PRICE as a6,styleObject as a7,syncItems as a8,MODERN as a9,getDefaultExportFromCjs as aA,getCollectionProducts as aB,useInfiniteScroll as aC,style$6 as aD,MamProductCard as aE,getIdenticalPlans as aF,Check as aG,Plus as aH,DEFAULT_TITLE as aI,styles as aJ,SentryErrorBoundary as aK,Checkbox as aL,Portal as aM,Close as aN,sendExceptionToSentry as aO,AppProvider as aP,Bundles as aQ,processBundle as aR,COLOR as aS,Select as aT,getSelectedVariantsIdsOfCollectionBundle as aU,Tick as aV,PERCENTAGE_DISCOUNT as aW,getAllBundles as aX,DEFAULT_PAGE_SIZE as aY,checkBundlesWithEmptyVariants as aZ,BUNDLE_ALIGNMENT as a_,Card as aa,getViewWidth as ab,DiscountBadge as ac,Countdown as ad,BundleTitle as ae,MamDiscountOptions as af,MamDiscountOptionsLegacy as ag,HeaderImages as ah,TotalBox as ai,PoweredByFast as aj,BundleBuilderModal as ak,SellingPlanSelector as al,AddWidgetBundle as am,StnErrorBanner as an,checkForBundleErrors as ao,processSingleBAPVariants as ap,getCartBundleCollectionVariants as aq,getItemCartBundleVariants as ar,addToShopifyCart as as,PRODUCT_BUNDLE as at,processBogoVariants as au,processStnVariants as av,processCollectionVariants as aw,processMAMVariants as ax,GENERAL_BUNDLE as ay,processAddOnVariants as az,postCartBundle as b,ALIGN_BOTTOM as b0,ALIGN_TOP as b1,MOBILE_MAX_WIDTH as b2,getSelectedYItemsCost as b3,style$2 as b4,calculateDiscountedPrice as b5,isMultiCurrencyLingual as b6,getProductDetail as b7,INVENTORY_POLICY_CONTINUE as b8,getCollectionDetails as b9,Ribbon as bA,Badge as bB,MAMQtyBox as bC,findSelectedItems as bD,CUSTOM_SINGLE_BAP_CHANGE_VARIANT_EVENT as bE,style$1 as bF,style as bG,BuyXGetYBundleBuilderPage as bH,PMMBundleBuilderPage as bI,BXGY_DEFAULT_HR_COUNT as bJ,MoreProducts as bK,colorSwatchBoxContainerSize as bL,bxgyYProductBG as bM,HR_SCREEN_SIZE as ba,HR_DESKTOP_SIZE as bb,HR_TABLET_SIZE as bc,imageSourceHandler as bd,MAMProductCheckbox as be,SelectBox as bf,useBapFetch as bg,useBapXHR as bh,findAddToCartButton as bi,fillVolumeBundleSelectedVariantObject as bj,hideInputElements as bk,TriangleRight as bl,TriangleLeft as bm,conditionalLog as bn,getFirstAvailableVariantId as bo,isEqual as bp,addPreAddScript as bq,processOverridedBundleData as br,checkDiscountApplication as bs,getCartSections as bt,extractHeaders as bu,fillAddOnBundleSelectedVariantObject as bv,SoldOutBadge as bw,ProductNameAndPrice as bx,DiscountOptionHeader as by,BogoQtyBox as bz,addToCartAjax as c,BundleContext$1 as d,MIX_AND_MATCH_BUNDLE as e,discountTypeHandler as f,BXGY_BUNDLE as g,getBXGYDiscountFix as h,Spinner as i,ADD_ON_BUNDLE as j,getCurrencyFormat as k,CLASSIC as l,MINIMAL as m,Error$1 as n,applyMoneyFormat as o,priceCurrencyHandler as p,getPrecisionNumber as q,rawPriceHandler as r,convertPrice as s,tr_ as t,replaceAll as u,Plus$1 as v,SCREEN_SIZE as w,DESKTOP_SIZE as x,FIX_DISCOUNT as y,BUNDLE_VIEW as z};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/AddWidgetBundle-LRLJF_Yg-pj4mlCkB.js","vendor.js","assets/addWidgetBundleToCart-hJuCQacK-2nWefDWE.js","assets/AddWidgetBundle-LRLJF_Yg-bAZAEn_m.css","assets/Badge-Clg81yky-LloTICCW.js","assets/Badge-Clg81yky-dTZAhCxc.css","assets/Banner-WkfV9_9L-mytZHZLx.js","assets/Banner-WkfV9_9L-ICxVx1k_.css","assets/BundleTitle-fgpvp3zw-tvkvY1hG.js","assets/BundleTitle-fgpvp3zw-IrVnErSH.css","assets/Card-KvgwgryK-6jMkoWpX.js","assets/Card-KvgwgryK-n9IIxh0V.css","assets/Checkbox-Qr8STAd5-VySCZ58v.js","assets/index-tg62vD68-QkAO_JPD.js","assets/Check-apWSVTKv-pNLga9on.js","assets/Checkbox-Qr8STAd5-CVKrm3Vn.css","assets/DiscountBadge-I40kMziI-THz9-TYW.js","assets/DiscountBadge-I40kMziI-et3jHrKZ.css","assets/Divider-y3vHSYZi--80wXNNK.js","assets/Divider-y3vHSYZi-NvO5ajXP.css","assets/FreeShipping-fWMD9TL9-KQ-cJ1oq.js","assets/FreeShipping-fWMD9TL9-UiNaaYMx.css","assets/HeaderImages-PczEQpAA-ove1DEwT.js","assets/HeaderImages-PczEQpAA-9yt6xBRh.css","assets/LoadingElement-4TV_qPQx-GmWJAtRO.js","assets/LoadingElement-4TV_qPQx-rc20QXws.css","assets/Plus-ycQVF2nr-7SJcDZSk.js","assets/Plus-ycQVF2nr-q3Xb-1Jn.css","assets/PoweredByFast-6x4uLvKJ-LEDumus0.js","assets/PoweredByFast-6x4uLvKJ-2nkkmY2b.css","assets/Thumbnail-EwDkXcuw-wNzAyUj9.js","assets/Thumbnail-EwDkXcuw-ed0pTgwW.css","assets/ProductNameAndPrice-jUXcUIrp-DATledz9.js","assets/ProductNameAndPrice-jUXcUIrp-EfWi56eF.css","assets/QtyBox-hBtpbE0--FSAWsawd.js","assets/QtyBox-hBtpbE0--gpb-jq7L.css","assets/QtyContainer-uP-Izec7-3aMbdKut.js","assets/QtyContainer-uP-Izec7-NheYA_LU.css","assets/SelectBox-C2XqoeN8-IGUZqLbv.js","assets/index-6mFEzRVa-DobgKjMf.js","assets/SelectBox-C2XqoeN8-NdUi5aOE.css","assets/SelectBoxWrapper-dVulzTPy-OdvndzF6.js","assets/SelectBoxWrapper-dVulzTPy-H9XxHWVr.css","assets/SingleSelectBox-E3Cvwc8--22T5HcCY.js","assets/SingleSelectBox-E3Cvwc8--3r-cOSZf.css","assets/SelectBoxCustom-5G9U2WvH-3OjsfRDn.js","assets/SelectBoxCustom-5G9U2WvH-XT8LSJNp.css","assets/SoldOutBadge--syMytZW-r1YmvVGo.js","assets/SoldOutBadge--syMytZW-L4YjPuan.css","assets/Spinner-duVm3rNM-6NNak2VT.js","assets/Spinner-duVm3rNM-jm4cwRXr.css","assets/StnErrorBanner-qkkFs7Db-6wpKvBkE.js","assets/TotalBox-tf9Ij8sy-eUvSEu1n.js","assets/TotalBox-tf9Ij8sy-Ixi3k2Oq.css","assets/BogoQtyBox-C5pcXzC0-2PI8Som3.js","assets/BogoQtyBox-C5pcXzC0-u2sXB0NJ.css","assets/BundleBuilderModal-r8UibBlx-qIf-Bd_w.js","assets/Bundles-7bsR06Hp-M2_TkiI1.js","assets/MamCartInfo-ixHQjw80-iWFGQSTJ.js","assets/Variant-_T3CSpeS-QiqujxTm.js","assets/Trash-DVeevgtp-in4TlKso.js","assets/Variant-_T3CSpeS-aOs8WnS2.css","assets/Accordions-gi3g1DFD-D7S5Hciv.js","assets/AccordionHead-3M_PQqjq-lbQoPsr_.js","assets/AccordionHead-3M_PQqjq-27VZ3N2P.css","assets/Accordions-gi3g1DFD-iK0e6ON5.css","assets/MamCartInfo-ixHQjw80-pzFD1vdI.css","assets/Bundles-7bsR06Hp-XGzZcvEj.css","assets/Button-fwZMs99X-YnOfKCTZ.js","assets/Button-fwZMs99X-9ttepDtd.css","assets/DiscountOptionHeader-jw3LAZyc-k46jsNZg.js","assets/DiscountOptionHeader-jw3LAZyc-hZeBXhtH.css","assets/MAMQtyBox-gIb9IwVG-ls01Je0V.js","assets/MAMQtyBox-gIb9IwVG-FTW-PpN0.css","assets/MAMProductCheckbox-yqBZANqy-f3zCxIo_.js","assets/Modal-wHS-l5yh-RU2dw0vO.js","assets/Modal-wHS-l5yh-gwLanY4v.css","assets/Portal-vFSlM_Hg-aVopn94S.js","assets/Popup-SLSGgkEA-VO-kuGCW.js","assets/Popup-SLSGgkEA-csS5m0i5.css","assets/ErrorBanner-HyMa4b8Q-ouaBgypu.js","assets/ErrorBanner-HyMa4b8Q-Bkne5DzK.css","assets/Ribbon-sRIccfqK-nI_QV7yF.js","assets/Ribbon-sRIccfqK-uDOXRtM1.css","assets/MoreProducts-seoBFVWa-joxuJzv2.js","assets/MoreProducts-seoBFVWa-ex26Qp9K.css","assets/ColorSwatch-YAnnHGwG-n_mRChdg.js","assets/ColorSwatch-YAnnHGwG-b5Wr_pcM.css","assets/Select-d9JWPWfL-pH9gn20l.js","assets/Select-d9JWPWfL-LmwfqHnD.css","assets/Countdown-Ph23sdYD-F_uN_QR0.js","assets/Countdown-Ph23sdYD-M5LNabjH.css","assets/MobileModal-eXcbLc3_-rkQCfYZc.js","assets/MobileModal-eXcbLc3_-r1QMP3Fa.css","assets/Close-gXCAr67S-MpXWA-Ws.js","assets/Close-gXCAr67S-KQrQlHAH.css","assets/Plus-0DMXJUR0-YEIhZ7QT.js","assets/Error-slSIMBmp-H_htk6XU.js","assets/RightChevron-asaRK1i5-SnlWunvf.js","assets/CurvedPlus-HlRI_XCM-ObnQUde5.js","assets/Minus-YgLv9I9t-FgVebSfB.js","assets/Tick-t4qhDetT-5FEAiqDM.js","assets/Delete-TJOlhotv-81UFf3xp.js","assets/TriangleLeft-ROZBoXNz-gssB4Pba.js","assets/TriangleRight-ehkjLcgD-wHVTXrxo.js","assets/SellingPlanSelector-iD3Rh22S-Vrpo-rwZ.js","assets/SellingPlanSelector-iD3Rh22S-R1zgU8P0.css","assets/MamDiscountOptions--iC3LyCf-497j6eZ-.js","assets/styles.module-JNtVE96i-dQXA5Pox.js","assets/styles-zzyV-8oU.css","assets/MamDiscountOptionsLegacy-2U-XdRgE-RiZ7uSwJ.js","assets/SentryErrorBoundary-8ZpUPqF_-MC3F51d4.js","assets/ProductPage-lSoDs-sf-RFfRq1ky.js","assets/BundlesPage-5koIHCfy-AC1m3kqn.js","assets/BundlesPage-5koIHCfy-O4GOABUS.css","assets/CMMBundleBuilderPage-4wSJQf4x-LtzY4w3f.js","assets/CollectionBody-UZQUbe8X-6daYUR56.js","assets/CollectionProduct-zPfi5BEq-7MzM96MV.js","assets/CollectionProduct-zPfi5BEq-881y7U1-.css","assets/CollectionBody-UZQUbe8X-FlNB7FRU.css","assets/useTranslateCollectionTitle-v7ZL3po5-rgRo5sHw.js","assets/CMMBundleBuilderPage-4wSJQf4x-676O0Ts9.css","assets/PMMBundleBuilderPage-Pud1ArNZ-bV0NKcUg.js","assets/PMMBundleBuilderPage-Pud1ArNZ-KDZBTtLY.css","assets/BuyXGetYBundleBuilderPage-y_gR-uy6-CesT8R9_.js","assets/Ribbon-ros4QI4_-eB77CSBs.js","assets/Ribbon-ros4QI4_-sGtAIFy_.css","assets/BuyXGetYBundleBuilderPage-y_gR-uy6-hhOQbrNU.css","assets/BundleAsProduct-6VRoveho.js","assets/BundleAsProduct-KpW_shog.css","assets/DiscountCard-4y5JxduK.js","assets/DiscountCard-ZKTjffxP.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
