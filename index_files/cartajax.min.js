var OrichiQuantityListLimitPurchase,OrichiQuantityRequestUrl="https://discount.orichicommerce.com/Customer",OrichiQuantityRequestUrlOld="https://discount.orichi.info/Customer",OrichiQuantityCheckoutInProcess=0,OrichiQuantityCheckoutInProcessCount=0,orichiQuantitycurrentCartUrl=window.location.href,OrichiQuantityCartInfo,OrichiQuantitySettingInfo,OrichiQuantityInProcess=0,OrichiQuantityGetCartInProcess=0,OrichiQuantityGetCartErrorCount=0,OrichiQuantityTimeProcess=0,OrichiQuantityHasRule=!0,OrichiQuantityHasLimit=!1,OrichiQuantityFormSelector='.t4s-tab-minicart, #CartDrawer, #cartform, .minicart, .juice-cart__content, .t4s-drawer__wrap, .cart__drawer-form, .mini-cart-content, .cart, #cart-drawer, .minicart-content, .cart-order, .cart-form, #cart__drawer, #CartDrawerForm, #js_cart_popup, .icart-content, #rebuy-cart, .ajaxcart-draw, #shopify-section-mini-cart, .cart-mini-content, .halo-cart-sidebar,.w-commerce-commercecartwrapper, .m_cart-group .cart-info,.hs-site-cart-popup-layout,form[action="/cart"],form[action="/cart"],form[action="/checkout"],#cart,.ch_customer_cart,#cartformpargo,#cart-summary,.wrapper-top-cart, #shopify-section-cart-template form, .cart-wrapper,form[action="/fr/cart"],#shopify-section-cart-template .cart-wrapper, .ajaxcart, .js-popup-cart-ajax, .cart .popup-tab, .grid__item .cart, #dropdown-cart,#slidecarthq,.cart-preview,.cart-popup-content,.mini-cart-inner-desktop,.site-cart,.cart--form,#buy-form,#CartPopup,.site-header-cart__dropdown-cart-footer-checkout, #shopify-section-gocart',OrichiQuantityNote="",OrichiQuantityFormDiscountCode='form[action="/cart"],form[action="/checkout"],.cart-wrapper',OrichiQuantityButtonBuyNow=".orichi-buynow, .shopify-payment-button__button,.buyitnow, .shopify-payment-button .shopify-payment-button__button, .OrichiBuyNow, .shopify-payment-button__more-options, #buy-me #buy-me-add-to-cart-btn",OrichiQuantityButtonCheckOut='.juice-cart__totals__checkout, .cart__checkout-button, .js-cart-btn-checkout,#wof_checkout_btn,.button-checkout,.icart-checkout-btn,.rebuy-cart__checkout-button, .cart-button-checkout,form[action="/checkout"] button[type="submit"],[name="checkout"],.cart__checkout,.shopify-payment-button__button .cart__checkout,form[action^="/checkout"] button[name^="checkout"],form[action^="/checkout"] .checkout-button,form[action^="/cart"] button[name^="checkout"],form[action^="/cart"] .checkout-button, form[action^="/checkout"] button[name^="update"], form[action^="/checkout"] button[name^="checkout"], a[href="/checkout"], input[name="checkout"], .checkout, button[name="checkout"], #checkout2,#checkout,.Cart__Checkout, .Orichi-checkout-button, .Orichi-dynamic-checkout-button, .Orichi-dynamic-checkout-button2, .cart__checkout, .cart__submit, .orichiCheckout,.cart-drawer__checkout,.cart__checkout,.btn-checkout,#slidecarthq .footer-sticky .footer-buttons button,.cart_button_secure, form[action^="/checkout"] input[value^="Checkout"], .btn-checkout, .actions .checkout-cart,.site-header-cart__dropdown-cart-footer-btn--checkout, #shopify-section-gocart .l-cart__purchase-button',orichiQuantityViewCart=!1,orichiQuantityCheckoutCart=!1,OrichiOldCheckoutButtonText="",OrichiOldCheckoutButtonsHtml=null,OrichiOldCheckoutButtonStyle="",OrichiDiscountPopupContent="",OrichiQuantityHasLimitOrder=!1,OrichiQuantityHasUpsell=!1,orichiCartIntervalFlag=null,OrichiQuantityLimitResult=null,OrichiQuantityDiscountResult=null,OrichiQuantityLimitLoaded=null,orichiQuantityCollectionRes,orichiQuantityCollectionFilter,orichiQuantityCountCheckLimit=0,orichiQuantityParameter,orichiCheckProductLabelInterval,orichiQuantityShopID160=14510,orichiQuantityIsCartPage=window.location.href.indexOf("/cart")>=0,orichiQuantityGetCartCount=0,orichiQuantitylanguageCode=Shopify.locale,orichiShopifyCurrencyRate=Shopify.currency.rate;function orichiCheckApplyDiscount(){let res=!1;try{null!=OrichiQuantityListLimitPurchase&&null!=OrichiQuantityListLimitPurchase&&(res=OrichiQuantityListLimitPurchase.TotalPrice!=OrichiQuantityListLimitPurchase.TotalPriceNew)}catch(error){console.log(error)}return res}function hasNumber(myString){return/\d/.test(myString)}function OrichiDiscountShowModal(content,isShow,originalContent=""){if(o$(".orichiPopupBody").html(content),isShow&&""==ordcGetPara("CA-LimitPopup-Hide")&&(o$(".orichiWrapperPop").show(0),o$(".orichiBackgroundOver").show(0)),""!=ordcGetPara("CA-LTPopup-Redr")&&o$(document).on("click",".orichi-limit-alert",(function(e){window.open(ordcGetPara("CA-LTPopup-Redr"),"_blank").focus()})),""!=ordcGetPara("CA-LT-A-Selector")&&""!=originalContent&&0==o$(".orichi-limit-text-custom").length)switch(originalContent='<ul class="orichi-limit-text-custom">'+originalContent+"</ul>",ordcGetPara("CA-LT-A-Position")){case"":o$(ordcGetPara("CA-LT-A-Selector")).append(originalContent);break;case"before":o$(ordcGetPara("CA-LT-A-Selector")).before(originalContent);break;case"after":o$(ordcGetPara("CA-LT-A-Selector")).after(originalContent);break;case"append":o$(ordcGetPara("CA-LT-A-Selector")).append(originalContent);break;case"prepend":o$(ordcGetPara("CA-LT-A-Selector")).prepend(originalContent)}}function OrichiDiscountHideModal(){o$(".orichiWrapperPop").hide(0),o$(".orichiBackgroundOver").hide(0)}function orichiUpSale(e){var quantity=o$(e).attr("data-quantity"),variant=o$(e).attr("data-variant"),para=[];para.push("updates["+variant+"]="+quantity),para.length>0&&jQuery.post("/cart/update.js",para.join("&")).always(()=>{window.location.reload()})}function CheckLimitRuleInside(CartSelector){var res=OrichiQuantityListLimitPurchase;try{res.Setting=OrichiQuantitySettingInfo.Setting,res.Setting2=OrichiQuantitySettingInfo.Setting2}catch(error){}OrichiQuantityNote=OrichiQuantityCartInfo.Note,OrichiQuantityHasRule=!1;var dateNow=Date.now();if(null!=res&&res.Setting.Active){var content="";if(""!=ordcGetPara("CA-MF-R")&&(res.Currency=res.Currency.replace(ordcGetPara("CA-MF-R"),"")),""!=ordcGetPara("CA-MF-C")&&(res.Currency=ordcGetPara("CA-MF-C")),"1"==ordcGetPara("CA-DPrice-Remove-Decimal"))try{if(null!=res.lstVariants&&res.TotalPrice!=res.TotalPriceNew){let totalPriceNewPara=0;for(let i=0;i<res.lstVariants.length;i++)res.lstVariants[i].PriceNew>0?(res.lstVariants[i].PriceNew=Math.round(res.lstVariants[i].PriceNew),res.lstVariants[i].OriginalPriceNew=Math.round(res.lstVariants[i].OriginalPriceNew),res.lstVariants[i].TotalNew=Math.round(res.lstVariants[i].PriceNew)*res.lstVariants[i].Quantity,totalPriceNewPara+=res.lstVariants[i].TotalNew):totalPriceNewPara+=res.lstVariants[i].Total;res.TotalPriceNew=totalPriceNewPara,OrichiQuantityListLimitPurchase=res}}catch(error){}if("1"==ordcGetPara("CA-DPrice-ReCaculate"))try{if(null!=res.lstVariants&&res.TotalPrice!=res.TotalPriceNew){let totalPriceNewPara=0;for(let i=0;i<res.lstVariants.length;i++)if(res.lstVariants[i].PriceNew>0){switch(res.lstVariants[i].PriceType){case 1:res.lstVariants[i].PriceNew=Math.round(res.lstVariants[i].Price*(100-res.lstVariants[i].PercentOrPrice))/100;break;case 2:res.lstVariants[i].PriceNew=Math.round(res.lstVariants[i].Price-res.lstVariants[i].PercentOrPrice);break;case 3:res.lstVariants[i].PriceNew=Math.round(100*res.lstVariants[i].PercentOrPrice)/100}res.lstVariants[i].OriginalPriceNew=res.lstVariants[i].PriceNew,res.lstVariants[i].TotalNew=res.lstVariants[i].PriceNew*res.lstVariants[i].Quantity,totalPriceNewPara+=res.lstVariants[i].TotalNew}else totalPriceNewPara+=res.lstVariants[i].Total;res.TotalPriceNew=totalPriceNewPara,OrichiQuantityListLimitPurchase=res}}catch(error){}if(null!=Shopify.currency&&null!=Shopify.currency.rate&&"1.0"!=orichiShopifyCurrencyRate&&(res.Currency="{{amount}}"),(res.Setting2.CheckLimitCartPage||res.Setting.LimitOrderQuantityStatus||res.Setting.LimitOrderValueStatus)&&0==o$(CartSelector).find(".orichi-limit-alert").length&&null!=res.lstLimit&&null!=res.lstLimit){if(res.Setting2.CheckLimitCartPage&&(res.lstLimit.forEach((function(element,index){if(0==element.LimitType){if(element.Quantity<element.MinQuantity){var textMinimumLimit=(null==res.Setting2.TextMinimumProductTitle?"":res.Setting2.TextMinimumProductTitle).replaceAll("{minimum}",element.MinQuantity).replaceAll("{maximum}",element.MaxQuantity).replaceAll("{product_title}",element.ProductName),textMaximumLimit=(null==res.Setting2.TextMaximumProductTitle?"":res.Setting2.TextMaximumProductTitle).replaceAll("{minimum}",element.MinQuantity).replaceAll("{maximum}",element.MaxQuantity).replaceAll("{product_title}",element.ProductName);content+='<li class="orichi-limit-alert">'+textMinimumLimit+"</li>"}if(element.ApplyLimitCustomerLifetime&&element.LifeTimeQuantity>0){if(0!=element.MaxQuantity&&element.Quantity>element.MaxQuantity-element.LifeTimeQuantity){var textMinimumLimit=(null==res.Setting2.TextMinimumProductTitle?"":res.Setting2.TextMinimumProductTitle).replaceAll("{minimum}",element.MinQuantity).replaceAll("{maximum}",element.MaxQuantity).replaceAll("{product_title}",element.ProductName),textMaximumLimit=(null==res.Setting2.LimitUsageTextMaximumProductTitle?"":res.Setting2.LimitUsageTextMaximumProductTitle).replaceAll("{total_purchased}",element.LifeTimeQuantity).replaceAll("{maximum}",element.MaxQuantity).replaceAll("{product_title}",element.ProductName);content+='<li class="orichi-limit-alert">'+textMaximumLimit+"</li>"}}else if(0!=element.MaxQuantity&&element.Quantity>element.MaxQuantity){var textMinimumLimit=(null==res.Setting2.TextMinimumProductTitle?"":res.Setting2.TextMinimumProductTitle).replaceAll("{minimum}",element.MinQuantity).replaceAll("{maximum}",element.MaxQuantity).replaceAll("{product_title}",element.ProductName),textMaximumLimit=(null==res.Setting2.TextMaximumProductTitle?"":res.Setting2.TextMaximumProductTitle).replaceAll("{minimum}",element.MinQuantity).replaceAll("{maximum}",element.MaxQuantity).replaceAll("{product_title}",element.ProductName);content+='<li class="orichi-limit-alert">'+textMaximumLimit+"</li>"}}else if(1==element.LimitType){if(element.Quantity%element.Multiple!=0){var textLimit=(null==res.Setting2.LimitProductTextMultipleProductTitle?"":res.Setting2.LimitProductTextMultipleProductTitle).replaceAll("{minimum}",element.MinQuantity).replaceAll("{product_title}",element.ProductName).replaceAll("{multiple}",element.Multiple+","+2*element.Multiple+","+3*element.Multiple+"...");content+='<li class="orichi-limit-alert">'+textLimit+"</li>"}}else{var arrSpecific;if(element.SpecificQuantity&&""!=element.SpecificQuantity)if(!element.SpecificQuantity.split(",").map(g=>parseInt(g)).includes(element.Quantity)){var textLimit=(null==res.Setting2.LimitProductTextAlertSpecificQuantity?"":res.Setting2.LimitProductTextAlertSpecificQuantity).replaceAll("{specific_quantity}",element.SpecificQuantity).replaceAll("{product_title}",element.ProductName).replaceAll("{multiple}",element.Multiple+","+2*element.Multiple+","+3*element.Multiple+"...");content+='<li class="orichi-limit-alert">'+textLimit+"</li>"}}})),res.limitCollection.forEach((function(element,index){var productInCol="";if("1"==ordcGetPara("CA-LimitCol-ShowPro"))try{productInCol=res.lstVariants.filter(p=>element.ProductInCollection.indexOf(`${p.ProductCode}`)>=0).map(p=>p.ProductName).join(", ")}catch(error){}if(0===element.LimitType){if(element.QuantityInCart>0){if(0!=element.Min&&element.ApplyLimitCustomerLifetime&&element.QuantityInCart+element.QuantityCollectionLifeTime<element.Min){var textMinimumLimit=(null==res.Setting.TextMinCollection?"":res.Setting.TextMinCollection).replaceAll("{minimum}",element.Min).replaceAll("{maximum}",element.Max).replaceAll("{collection_name}",element.CollectName).replaceAll("{products_name}",productInCol),textMaximumLimit=(null==res.Setting.TextMaxCollection?"":res.Setting.TextMaxCollection).replaceAll("{minimum}",element.Min).replaceAll("{maximum}",element.Max).replaceAll("{collection_name}",element.CollectName).replaceAll("{products_name}",productInCol);content+='<li class="orichi-limit-alert">'+textMinimumLimit+"</li>"}else if(0!=element.Min&&!element.ApplyLimitCustomerLifetime&&element.QuantityInCart<element.Min){var textMinimumLimit=(null==res.Setting.TextMinCollection?"":res.Setting.TextMinCollection).replaceAll("{minimum}",element.Min).replaceAll("{maximum}",element.Max).replaceAll("{collection_name}",element.CollectName).replaceAll("{products_name}",productInCol),textMaximumLimit=(null==res.Setting.TextMaxCollection?"":res.Setting.TextMaxCollection).replaceAll("{minimum}",element.Min).replaceAll("{maximum}",element.Max).replaceAll("{collection_name}",element.CollectName).replaceAll("{products_name}",productInCol);content+='<li class="orichi-limit-alert">'+textMinimumLimit+"</li>"}if(0!=element.Max&&element.ApplyLimitCustomerLifetime&&element.QuantityInCart+element.QuantityCollectionLifeTime>element.Max){var textMinimumLimit=(null==res.Setting.TextMinCollection?"":res.Setting.TextMinCollection).replaceAll("{minimum}",element.Min).replaceAll("{maximum}",element.Max).replaceAll("{collection_name}",element.CollectName).replaceAll("{products_name}",productInCol),textMaximumLimit=(null==res.Setting.TextMaxCollectionTotalPurchased?"":res.Setting.TextMaxCollectionTotalPurchased).replaceAll("{minimum}",element.Min).replaceAll("{maximum}",element.Max).replaceAll("{total_purchased}",element.QuantityCollectionLifeTime).replaceAll("{collection_name}",element.CollectName).replaceAll("{products_name}",productInCol);content+='<li class="orichi-limit-alert">'+textMaximumLimit+"</li>"}else if(0!=element.Max&&!element.ApplyLimitCustomerLifetime&&element.QuantityInCart>element.Max){var textMinimumLimit=(null==res.Setting.TextMinCollection?"":res.Setting.TextMinCollection).replaceAll("{minimum}",element.Min).replaceAll("{maximum}",element.Max).replaceAll("{collection_name}",element.CollectName).replaceAll("{products_name}",productInCol),textMaximumLimit=(null==res.Setting.TextMaxCollection?"":res.Setting.TextMaxCollection).replaceAll("{minimum}",element.Min).replaceAll("{maximum}",element.Max).replaceAll("{collection_name}",element.CollectName).replaceAll("{products_name}",productInCol);content+='<li class="orichi-limit-alert">'+textMaximumLimit+"</li>"}}}else if(1===element.LimitType){if(element.PriceInCart>0){if(0!=element.Min&&element.ApplyLimitCustomerLifetime&&element.PriceInCart+element.PriceCollectionLifeTime<element.Min){var textMinimumLimit=(null==res.Setting.TextMinCollection?"":res.Setting.TextMinCollection).replaceAll("{minimum}",ShopifyFormatMoney(100*element.Min,res.Currency)).replaceAll("{maximum}",ShopifyFormatMoney(100*element.Max,res.Currency)).replaceAll("{collection_name}",element.CollectName).replaceAll("{products_name}",productInCol),textMaximumLimit=(null==res.Setting.TextMaxCollection?"":res.Setting.TextMaxCollection).replaceAll("{minimum}",ShopifyFormatMoney(100*element.Min,res.Currency)).replaceAll("{maximum}",ShopifyFormatMoney(100*element.Max,res.Currency)).replaceAll("{collection_name}",element.CollectName).replaceAll("{products_name}",productInCol);content+='<li class="orichi-limit-alert">'+textMinimumLimit+"</li>"}else if(0!=element.Min&&!element.ApplyLimitCustomerLifetime&&element.PriceInCart<element.Min){var textMinimumLimit=(null==res.Setting.TextMinCollection?"":res.Setting.TextMinCollection).replaceAll("{minimum}",ShopifyFormatMoney(100*element.Min,res.Currency)).replaceAll("{maximum}",ShopifyFormatMoney(100*element.Max,res.Currency)).replaceAll("{collection_name}",element.CollectName).replaceAll("{products_name}",productInCol),textMaximumLimit=(null==res.Setting.TextMaxCollection?"":res.Setting.TextMaxCollection).replaceAll("{minimum}",ShopifyFormatMoney(100*element.Min,res.Currency)).replaceAll("{maximum}",ShopifyFormatMoney(100*element.Max,res.Currency)).replaceAll("{collection_name}",element.CollectName).replaceAll("{products_name}",productInCol);content+='<li class="orichi-limit-alert">'+textMinimumLimit+"</li>"}if(0!=element.Max&&element.ApplyLimitCustomerLifetime&&element.PriceInCart+element.PriceCollectionLifeTime>element.Max){var textMinimumLimit=(null==res.Setting.TextMinCollection?"":res.Setting.TextMinCollection).replaceAll("{minimum}",ShopifyFormatMoney(100*element.Min,res.Currency)).replaceAll("{maximum}",ShopifyFormatMoney(100*element.Max,res.Currency)).replaceAll("{collection_name}",element.CollectName).replaceAll("{products_name}",productInCol),textMaximumLimit=(null==res.Setting.TextMaxCollectionTotalPurchased?"":res.Setting.TextMaxCollectionTotalPurchased).replaceAll("{minimum}",ShopifyFormatMoney(100*element.Min,res.Currency)).replaceAll("{maximum}",ShopifyFormatMoney(100*element.Max,res.Currency)).replaceAll("{total_purchased}",ShopifyFormatMoney(100*element.PriceCollectionLifeTime,res.Currency)).replaceAll("{collection_name}",element.CollectName).replaceAll("{products_name}",productInCol);content+='<li class="orichi-limit-alert">'+textMaximumLimit+"</li>"}else if(0!=element.Max&&!element.ApplyLimitCustomerLifetime&&element.PriceInCart>element.Max){var textMinimumLimit=(null==res.Setting.TextMinCollection?"":res.Setting.TextMinCollection).replaceAll("{minimum}",ShopifyFormatMoney(100*element.Min,res.Currency)).replaceAll("{maximum}",ShopifyFormatMoney(100*element.Max,res.Currency)).replaceAll("{collection_name}",element.CollectName).replaceAll("{products_name}",productInCol),textMaximumLimit=(null==res.Setting.TextMaxCollection?"":res.Setting.TextMaxCollection).replaceAll("{minimum}",ShopifyFormatMoney(100*element.Min,res.Currency)).replaceAll("{maximum}",ShopifyFormatMoney(100*element.Max,res.Currency)).replaceAll("{collection_name}",element.CollectName).replaceAll("{products_name}",productInCol);content+='<li class="orichi-limit-alert">'+textMaximumLimit+"</li>"}}}else if(element.QuantityInCart>0&&element.SpecificQuantityAllowToChoose&&""!==element.SpecificQuantityAllowToChoose){var quantity=element.QuantityInCart;element.ApplyLimitCustomerLifetime&&(quantity+=element.QuantityCollectionLifeTime);var arr=element.SpecificQuantityAllowToChoose.split(",").filter(g=>""!==g).map(g=>parseInt(g));if(arr.length>0&&!arr.includes(quantity)){var textLimit=(null==res.Setting.LimitCollectionTextSpecificQuantity?"":res.Setting.LimitCollectionTextSpecificQuantity).replaceAll("{specific_quantity}",element.SpecificQuantityAllowToChoose).replaceAll("{collection_name}",element.CollectName).replaceAll("{products_name}",productInCol);content+='<li class="orichi-limit-alert">'+textLimit+"</li>"}}if(element.LimitPurchaseSeparately&&!element.ValidSeparately){var textSeparatelyLimit=(null==res.Setting.TextLimitPurchaseSeparately?"":res.Setting.TextLimitPurchaseSeparately).replace("{collection_name}",element.CollectName).replaceAll("{products_name}",productInCol);content+='<li class="orichi-limit-alert">'+textSeparatelyLimit+"</li>"}}))),OrichiQuantityHasLimitOrder=!1,null!=res.lstVariants&&res.lstVariants.length>0){if(res.Setting.LimitOrderQuantityStatus)if(0===res.Setting.LimitTypeOrder){if(null!=res.Setting.MinTotalQuantityValue&&0!=res.Setting.MinTotalQuantityValue&&res.Total<res.Setting.MinTotalQuantityValue){var textMinimumTotal=(null==res.Setting.TextMinProductInTotal?"":res.Setting.TextMinProductInTotal).replaceAll("{minimum}",res.Setting.MinTotalQuantityValue).replaceAll("{maximum}",res.Setting.MinTotalQuantityValue);content+='<li class="orichi-limit-alert orichi-limit-order-alert">'+textMinimumTotal+"</li>",OrichiQuantityHasLimitOrder=!0}if(null!=res.Setting.MaxTotalQuantityValue&&0!=res.Setting.MaxTotalQuantityValue&&res.Total>res.Setting.MaxTotalQuantityValue){var textMaximumTotal=(null==res.Setting.TextMaxProductInTotal?"":res.Setting.TextMaxProductInTotal).replaceAll("{minimum}",res.Setting.MaxTotalQuantityValue).replaceAll("{maximum}",res.Setting.MaxTotalQuantityValue);content+='<li class="orichi-limit-alert orichi-limit-order-alert">'+textMaximumTotal+"</li>",OrichiQuantityHasLimitOrder=!0}}else{var arr;if(res.Setting.SpecificQuantityAllowToChooseOrder&&""!==res.Setting.SpecificQuantityAllowToChooseOrder)if(!res.Setting.SpecificQuantityAllowToChooseOrder.split(",").filter(g=>""!==g).map(g=>parseInt(g)).includes(res.Total)){var textTotal=(null==res.Setting.TextSpecificQuantity?"":res.Setting.TextSpecificQuantity).replaceAll("{specific_quantity}",res.Setting.SpecificQuantityAllowToChooseOrder);content+='<li class="orichi-limit-alert orichi-limit-order-alert">'+textTotal+"</li>",OrichiQuantityHasLimitOrder=!0}}if(res.Setting.LimitOrderValueStatus){var totalCheck=0==res.TotalPriceNew?OrichiQuantityCartInfo.Totalprice:res.TotalPriceNew;if("1"==ordcGetPara("CA-LimitOrder-CheckTotalPriceI")&&(totalCheck=OrichiQuantityCartInfo.OriginalTotalprice),null!=res.Setting.MinTotalOrderValue&&0!=res.Setting.MinTotalOrderValue&&totalCheck<res.Setting.MinTotalOrderValue){var textMinimumTotal=(null==res.Setting.TextMinSubTotalValue?"":res.Setting.TextMinSubTotalValue).replaceAll("{minimum}",ShopifyFormatMoney(100*res.Setting.MinTotalOrderValue,res.Currency)).replaceAll("{maximum}",ShopifyFormatMoney(100*res.Setting.MinTotalOrderValue,res.Currency));content+='<li class="orichi-limit-alert orichi-limit-order-alert">'+textMinimumTotal+"</li>",OrichiQuantityHasLimitOrder=!0}if(null!=res.Setting.MaxTotalOrderValue&&0!=res.Setting.MaxTotalOrderValue&&totalCheck>res.Setting.MaxTotalOrderValue){var textMaximumTotal=(null==res.Setting.TextMaxSubTotalValue?"":res.Setting.TextMaxSubTotalValue).replaceAll("{minimum}",ShopifyFormatMoney(100*res.Setting.MaxTotalOrderValue,res.Currency)).replaceAll("{maximum}",ShopifyFormatMoney(100*res.Setting.MaxTotalOrderValue,res.Currency));orShopID(21141619)&&(textMaximumTotal=(textMaximumTotal=textMaximumTotal.replace("Amazon Store",'<a href="https://www.amazon.com/stores/page/65E3E191-6294-4403-B0F5-FB7B711FD2B7?ingress=2&visitId=45051df9-06f9-4acc-a3a3-e00e4e6de926&ref_=ast_bln" target="_blank"><b>Amazon Store</b></a>')).replace("Due","<br/> Due")),content+='<li class="orichi-limit-alert orichi-limit-order-alert">'+textMaximumTotal+"</li>",OrichiQuantityHasLimitOrder=!0}}res.lstVariants.forEach((function(element,index){if(null!=element.LimitVariant){if(element.Quantity<element.LimitVariant.Min){var textMinimumLimit=(null==res.Setting2.TextMinimumProductTitle?"":res.Setting2.TextMinimumProductTitle).replaceAll("{minimum}",element.LimitVariant.Min).replaceAll("{maximum}",element.LimitVariant.Max).replaceAll("{product_title}",element.ProductName+" - "+element.LimitVariant.VariantName),textMaximumLimit=(null==res.Setting2.TextMaximumProductTitle?"":res.Setting2.TextMaximumProductTitle).replaceAll("{minimum}",element.LimitVariant.Min).replaceAll("{maximum}",element.LimitVariant.Max).replaceAll("{product_title}",element.ProductName+" "+element.LimitVariant.VariantName);content+='<li class="orichi-limit-alert">'+textMinimumLimit+"</li>"}if(element.LimitVariant.ApplyLimitCustomerLifetime&&element.LimitVariant.QuantityVariantLifeTime>0){if(0!=element.LimitVariant.Max&&element.Quantity>element.LimitVariant.Max-element.LimitVariant.QuantityVariantLifeTime){var textMinimumLimit=(null==res.Setting2.TextMinimumProductTitle?"":res.Setting2.TextMinimumProductTitle).replaceAll("{minimum}",element.LimitVariant.Min).replaceAll("{maximum}",element.LimitVariant.Max).replaceAll("{product_title}",element.ProductName+" - "+element.LimitVariant.VariantName),textMaximumLimit=(null==res.Setting2.LimitUsageTextMaximumProductTitle?"":res.Setting2.LimitUsageTextMaximumProductTitle).replaceAll("{total_purchased}",element.LimitVariant.QuantityVariantLifeTime).replaceAll("{maximum}",element.LimitVariant.Max).replaceAll("{product_title}",element.ProductName+" "+element.LimitVariant.VariantName);content+='<li class="orichi-limit-alert">'+textMaximumLimit+"</li>"}}else if(0!=element.LimitVariant.Max&&element.Quantity>element.LimitVariant.Max){var textMinimumLimit=(null==res.Setting2.TextMinimumProductTitle?"":res.Setting2.TextMinimumProductTitle).replaceAll("{minimum}",element.LimitVariant.Min).replaceAll("{maximum}",element.LimitVariant.Max).replaceAll("{product_title}",element.ProductName+" - "+element.LimitVariant.VariantName),textMaximumLimit=(null==res.Setting2.TextMaximumProductTitle?"":res.Setting2.TextMaximumProductTitle).replaceAll("{minimum}",element.LimitVariant.Min).replaceAll("{maximum}",element.LimitVariant.Max).replaceAll("{product_title}",element.ProductName+" - "+element.LimitVariant.VariantName);content+='<li class="orichi-limit-alert">'+textMaximumLimit+"</li>"}}}))}if(""!=ordcGetPara("CA-QI-MinMax")&&res.lstVariants.length>0)for(let i=0;i<res.lstVariants.length;i++){var cartQIMinMax=ordcGetPara("CA-QI-MinMax").replace("{variant}",res.lstVariants[i].Variant);0!=res.lstVariants[i].MinQuantity&&o$(cartQIMinMax).attr("min",res.lstVariants[i].MinQuantity),2147483647!=res.lstVariants[i].MaxQuantity&&o$(cartQIMinMax).attr("max",res.lstVariants[i].MaxQuantity)}if(OrichiQuantityLimitLoaded=!0,OrichiDiscountPopupContent=content,""!=content){OrichiQuantityHasLimit=!0;var style=`<style>\n                    .orichiPopupFooter .orichiPopupDismiss{background: ${res.Setting.LimitOrderBackgroundColorButtonOK}; color: ${res.Setting.LimitOrderTextColorButtonOK}}\n                    .orichiPopupBody .orichi-limit-alert{ color: ${res.Setting.PopupLitmitOrderTextColor}}</style>`;orichiQuantityIsCartPage&&""==ordcGetPara("CA-LimitPopup-HideFS")||"1"==ordcGetPara("CA-LimitPopup-ShowNotInC")?OrichiDiscountShowModal(style+"<ul>"+content+"</ul>",!0,content):OrichiDiscountShowModal(style+"<ul>"+content+"</ul>",!1,content),o$(OrichiQuantityButtonCheckOut).hasClass("OrichiDiscountLimitPopup")||""!=OrichiOldCheckoutButtonText&&null!=OrichiOldCheckoutButtonText||(OrichiOldCheckoutButtonText=null==o$(OrichiQuantityButtonCheckOut).last().attr("value")?o$(OrichiQuantityButtonCheckOut).last().html():o$(OrichiQuantityButtonCheckOut).last().attr("value"),OrichiOldCheckoutButtonStyle=null==o$(OrichiQuantityButtonCheckOut).last().attr("style")?"":o$(OrichiQuantityButtonCheckOut).last().attr("style"),"1"==ordcGetPara("CA-CB-ManyReback")&&(OrichiOldCheckoutButtonsHtml=[],o$(OrichiQuantityButtonCheckOut).each((i,e)=>{OrichiOldCheckoutButtonsHtml.push(o$(e).html())}))),o$(OrichiQuantityButtonCheckOut).attr("value",res.Setting.CheckoutLimitOrderIsNotValid),o$(OrichiQuantityButtonCheckOut).addClass("OrichiDiscountLimitPopup"),o$(OrichiQuantityButtonCheckOut).html(res.Setting.CheckoutLimitOrderIsNotValid),o$(OrichiQuantityButtonCheckOut).attr("style","background: "+res.Setting.LimitOrderBackgroundColorButtonCheckout+"; color: "+res.Setting.LimitOrderTextColorButtonCheckout),OrichiDiscountPopupContent=style+"<ul>"+content+"</ul>","1"==ordcGetPara("CA-CB-RhrefInvalid")&&(o$(OrichiQuantityButtonCheckOut).removeAttr("href"),o$(OrichiQuantityButtonCheckOut).removeAttr("data-ocu-checkout"))}else{if(o$(OrichiQuantityButtonCheckOut).hasClass("OrichiDiscountLimitPopup")||""!=OrichiOldCheckoutButtonText&&null!=OrichiOldCheckoutButtonText||(OrichiOldCheckoutButtonText=null==o$(OrichiQuantityButtonCheckOut).last().attr("value")?o$(OrichiQuantityButtonCheckOut).last().html():o$(OrichiQuantityButtonCheckOut).last().attr("value"),OrichiOldCheckoutButtonStyle=null==o$(OrichiQuantityButtonCheckOut).last().attr("style")?"":o$(OrichiQuantityButtonCheckOut).last().attr("style"),"1"==ordcGetPara("CA-CB-ManyReback")&&(OrichiOldCheckoutButtonsHtml=[],o$(OrichiQuantityButtonCheckOut).each((i,e)=>{OrichiOldCheckoutButtonsHtml.push(o$(e).html())}))),OrichiQuantityHasLimit=!1,o$(OrichiQuantityButtonCheckOut).attr("disabled",!1),o$(OrichiQuantityButtonCheckOut).removeClass("orichi-quantity-button-disabled"),o$(OrichiQuantityButtonCheckOut).hasClass("OrichiDiscountLimitPopup")){if(o$(OrichiQuantityButtonCheckOut).removeClass("OrichiDiscountLimitPopup"),""!=OrichiOldCheckoutButtonText&&null!=OrichiOldCheckoutButtonText&&(o$(OrichiQuantityButtonCheckOut).attr("value",OrichiOldCheckoutButtonText),o$(OrichiQuantityButtonCheckOut).html(OrichiOldCheckoutButtonText),"1"==ordcGetPara("CA-CB-ManyReback")&&null!=OrichiOldCheckoutButtonsHtml))try{o$(OrichiQuantityButtonCheckOut).each((i,e)=>{o$(e).html(OrichiOldCheckoutButtonsHtml[i])})}catch(error){}o$(OrichiQuantityButtonCheckOut).attr("style",OrichiOldCheckoutButtonStyle)}"1"==ordcGetPara("CA-ACB-ShowValid")&&o$(".additional-checkout-buttons").show()}}else{if(o$(OrichiQuantityButtonCheckOut).hasClass("OrichiDiscountLimitPopup")||""!=OrichiOldCheckoutButtonText&&null!=OrichiOldCheckoutButtonText||(OrichiOldCheckoutButtonText=null==o$(OrichiQuantityButtonCheckOut).last().attr("value")?o$(OrichiQuantityButtonCheckOut).last().html():o$(OrichiQuantityButtonCheckOut).last().attr("value"),OrichiOldCheckoutButtonStyle=null==o$(OrichiQuantityButtonCheckOut).last().attr("style")?"":o$(OrichiQuantityButtonCheckOut).last().attr("style"),"1"==ordcGetPara("CA-CB-ManyReback")&&(OrichiOldCheckoutButtonsHtml=[],o$(OrichiQuantityButtonCheckOut).each((i,e)=>{OrichiOldCheckoutButtonsHtml.push(o$(e).html())}))),o$(OrichiQuantityButtonCheckOut).attr("disabled",!1),o$(OrichiQuantityButtonCheckOut).removeClass("orichi-quantity-button-disabled"),o$(OrichiQuantityButtonCheckOut).hasClass("OrichiDiscountLimitPopup")){if(o$(OrichiQuantityButtonCheckOut).removeClass("OrichiDiscountLimitPopup"),""!=OrichiOldCheckoutButtonText&&null!=OrichiOldCheckoutButtonText&&(o$(OrichiQuantityButtonCheckOut).attr("value",OrichiOldCheckoutButtonText),o$(OrichiQuantityButtonCheckOut).html(OrichiOldCheckoutButtonText),"1"==ordcGetPara("CA-CB-ManyReback")&&null!=OrichiOldCheckoutButtonsHtml))try{o$(OrichiQuantityButtonCheckOut).each((i,e)=>{o$(e).html(OrichiOldCheckoutButtonsHtml[i])})}catch(error){}o$(OrichiQuantityButtonCheckOut).attr("style",OrichiOldCheckoutButtonStyle)}"1"==ordcGetPara("CA-ACB-ShowValid")&&o$(".additional-checkout-buttons").show()}if("1.0"==orichiShopifyCurrencyRate){if(res.lstVariants.forEach((function(element,index){if("1"==ordcGetPara("CA-sifc")&&o$(CartSelector).hasClass("rebuy-cart")&&(element=res.lstVariants.find(p=>p.Variant==OrichiQuantityCartInfo.Variants[index])),element.PriceNew>0&&element.PriceNew<element.Price&&1!=element.IsCapDiscount){OrichiQuantityHasRule=!0;var atag=o$(CartSelector).find('a[href*="'+element.Variant+'"]').first(),atag2=o$(CartSelector).find('a[href*="'+element.Variant+'"]').first();if(""!=ordcGetPara("CA-LI-Price-Selector")){var liSelector=ordcGetPara("CA-LI-Price-Selector").replace("{variant}",element.Variant).replace("{variant}",element.Variant).replace("{quantity}",element.Quantity);atag=o$(CartSelector).find(liSelector)}if(""!=ordcGetPara("CA-LI-PriceItem-Selector")){var liSelector=ordcGetPara("CA-LI-PriceItem-Selector").replace("{variant}",element.Variant).replace("{variant}",element.Variant).replace("{quantity}",element.Quantity);atag2=o$(CartSelector).find(liSelector)}"1"==ordcGetPara("CA-PopupPro-AD")&&null!=meta&&null!=meta.product&&meta.product.id==element.ProductCode&&o$(CartSelector).hasClass("atc-banner--container")&&(atag=o$(CartSelector).find(".atc--product .atc--product-details--title"));var htmlTitle="",textBundling="Bundling";if(""!=ordcGetPara("CA-TBUN-C")&&"Bundling"==element.Title&&(element.Title=ordcGetPara("CA-TBUN-C"),textBundling=ordcGetPara("CA-TBUN-C"),res.Setting2.TextBundling=ordcGetPara("CA-TBUN-C")),res.Setting.ShowNotiOnCart&&0==atag.parent().find(".orichi-notification-ajaxcart").length){var titleDiscount="";switch(element.PriceType){case 1:titleDiscount=(null==res.Setting.TextNotiOnCart?textBundling:res.Setting.TextNotiOnCart).replace("{PercentOrPrice}",element.PercentOrPrice+" %");break;case 2:titleDiscount=(null==res.Setting.TextNotiOnCart?textBundling:res.Setting.TextNotiOnCart).replace("{PercentOrPrice}",ShopifyFormatMoney((100*element.PercentOrPrice).toFixed(0),res.Currency));break;case 3:titleDiscount=(null==res.Setting2.TextBundling?textBundling:res.Setting2.TextBundling).replace("{PercentOrPrice}",ShopifyFormatMoney((100*element.PercentOrPrice).toFixed(0),res.Currency))}switch(element.DiscountType){case 4:titleDiscount=titleDiscount.replace("{Quantity}",ShopifyFormatMoney((100*element.QuantityRule).toFixed(0),res.Currency));break;default:titleDiscount=titleDiscount.replace("{Quantity}",element.QuantityRule)}element.SetDiscountForMultiple&&3!=element.PriceType&&(element.Multiple>0?(element.Title=res.Setting.TextNotiOnCart.replace("+","").replace("{Quantity}",`${element.FirstQuantity},${element.FirstQuantity+1*element.Multiple},${element.FirstQuantity+2*element.Multiple},${element.FirstQuantity+3*element.Multiple},...`).replace("{PercentOrPrice}",1==element.PriceType?element.PercentOrPrice+"%":ShopifyFormatMoney(100*element.PercentOrPrice,res.Currency)),titleDiscount=res.Setting.TextNotiOnCart.replace("+","").replace("{Quantity}",`${element.FirstQuantity},${element.FirstQuantity+1*element.Multiple},${element.FirstQuantity+2*element.Multiple},${element.FirstQuantity+3*element.Multiple},...`).replace("{PercentOrPrice}",1==element.PriceType?element.PercentOrPrice+"%":ShopifyFormatMoney(100*element.PercentOrPrice,res.Currency))):(element.Title=res.Setting.TextNotiOnCart.replace("+","").replace("{Quantity}",`${element.FirstQuantity}`).replace("{PercentOrPrice}",1==element.PriceType?element.PercentOrPrice+"%":ShopifyFormatMoney(100*element.PercentOrPrice,res.Currency)),titleDiscount=res.Setting.TextNotiOnCart.replace("+","").replace("{Quantity}",`${element.FirstQuantity}`).replace("{PercentOrPrice}",1==element.PriceType?element.PercentOrPrice+"%":ShopifyFormatMoney(100*element.PercentOrPrice,res.Currency)))),htmlTitle='<p class="orichi-quantity-cart orichi-notification-ajaxcart orichi-quantity-textdanger">'+(titleDiscount=titleDiscount.replace("{PriceSavedPerItem}",ShopifyFormatMoney((100*(element.Price-element.PriceNew)).toFixed(0),res.Currency)).replace("{TotalSavedPerItem}",ShopifyFormatMoney(((element.Price-element.PriceNew)*element.Quantity*100).toFixed(0),res.Currency)).replace("{PriceDiscount}",ShopifyFormatMoney((100*element.PriceNew).toFixed(0),res.Currency)).replace("{CampaignTitle}",element.CampaignName))+"</p>"}if(""==ordcGetPara("CA-TextDPerI-NewCheck")&&res.Setting.ShopID<=10587&&8885!=res.Setting.ShopID&&10350!=res.Setting.ShopID&&10378!=res.Setting.ShopID&&9375!=res.Setting.ShopID&&10047!=res.Setting.ShopID&&6291!=res.Setting.ShopID&&9849!=res.Setting.ShopID){if(element.QuantityNext>0&&res.Setting.PlanNumber>0&&0==atag.parent().find(".orichi-up-sale").length){var priceNext=0;switch(OrichiQuantityHasUpsell=!0,element.PriceTypeNext){case 1:priceNext=element.Price*(100-element.PercentOrPriceNext)/100;break;case 2:priceNext=element.Price-element.PercentOrPriceNext<0?0:element.Price-element.PercentOrPriceNext;break;case 3:priceNext=element.PercentOrPrice}var textAutoSaleUp=res.Setting2.TextUpSale.replace("{quantity}",element.QuantityNext).replace("{quantitymore}",element.QuantityNext-element.Quantity).replace("{priceorpercent}",element.PriceTypeNext<=1?element.PercentOrPriceNext+"%":ShopifyFormatMoney((100*element.PercentOrPriceNext).toFixed(0),res.Currency)).replace("{price}",ShopifyFormatMoney((100*priceNext).toFixed(0),res.Currency)).replace("{priceperitem}",ShopifyFormatMoney((100*priceNext).toFixed(0),res.Currency)).replace("{pricediscountperitem}",ShopifyFormatMoney((100*(element.Price-priceNext)).toFixed(0),res.Currency)).replace("{totaldiscount}",ShopifyFormatMoney(((element.Price-priceNext)*element.Quantity*100).toFixed(0),res.Currency));htmlTitle+='<a href="javascript:void(0)" class="orichi-up-sale" onclick="orichiUpSale(this)" data-quantity="'+element.QuantityNext+'" data-variant="'+element.Variant+'">'+textAutoSaleUp+"</a>"}atag.after(htmlTitle)}else{if(element.QuantityNext>0&&res.Setting.PlanNumber>0&&0==atag.parent().find(".orichi-up-sale").length){var priceNext=0;OrichiQuantityHasUpsell=!0;var totalSaved=(element.Price-priceNext)*element.QuantityNext;switch(element.PriceTypeNext){case 1:priceNext=element.Price*(100-element.PercentOrPriceNext)/100;break;case 2:priceNext=element.Price-element.PercentOrPriceNext<0?0:element.Price-element.PercentOrPriceNext;break;case 3:case 3:priceNext=element.PercentOrPrice}64905248988==__st.a&&(totalSaved=Math.floor((element.Price-priceNext)*element.QuantityNext));var textAutoSaleUp=(null==res.Setting2.TextUpSale?"":res.Setting2.TextUpSale).replace("{quantity}",element.QuantityNext).replace("{quantitymore}",element.QuantityNext-element.Quantity).replace("{priceorpercent}",element.PriceTypeNext<=1?element.PercentOrPriceNext+"%":ShopifyFormatMoney((100*element.PercentOrPriceNext).toFixed(0),res.Currency)).replace("{price}",ShopifyFormatMoney((100*priceNext).toFixed(0),res.Currency)).replace("{priceperitem}",ShopifyFormatMoney((100*priceNext).toFixed(0),res.Currency)).replace("{pricediscountperitem}",ShopifyFormatMoney((100*(element.Price-priceNext)).toFixed(0),res.Currency)).replace("{totaldiscount}",ShopifyFormatMoney((100*totalSaved).toFixed(0),res.Currency));htmlTitle+='<div class="orichi-up-sell-wrapper" style="background: '+res.Setting.UpSellOnCartBackground+";border-radius: 7px; padding: 10px; border: 1px solid "+res.Setting.UpSellOnCartColor+";color: "+res.Setting.UpSellOnCartColor+';"><a href="javascript:void(0)" class="orichi-up-sale orichi-up-sell" style="color: '+res.Setting.UpSellOnCartColor+'; text-decoration: none;" onclick="orichiUpSale(this)" data-quantity="'+element.QuantityNext+'" data-variant="'+element.Variant+'">'+textAutoSaleUp+"</a></div>"}var upsellTag=atag;try{element.ProductName.indexOf('"')>0&&(element.ProductName=element.ProductName.split('"')[0]),element.ProductName.indexOf("'")>0&&(element.ProductName=element.ProductName.split("'")[0])}catch(error){}o$(CartSelector).find('a[href*="'+element.Variant+'"]:contains("'+element.ProductName+'")').length>0&&(upsellTag=o$(CartSelector).find('a[href*="'+element.Variant+'"]:contains("'+element.ProductName+'")').last()),o$(CartSelector).find(`a[href*="${element.Variant}"]:contains('${element.ProductName}')`).length>0&&(upsellTag=o$(CartSelector).find(`a[href*="${element.Variant}"]:contains('${element.ProductName}')`).last()),orShopID(23944207)&&orichiQuantityIsCartPage&&(upsellTag=atag.parent().parent().parent().parent().find(".item-details .item-title")),orShopID(6618741)&&upsellTag.parent().parent().parent().find(".reviews").length>0&&(upsellTag=upsellTag.parent().parent().parent().find(".reviews").first()),""!=ordcGetPara("CA-LI-Price-Selector")&&(upsellTag=atag),upsellTag.after(htmlTitle)}orShopID(65425965273)&&0==o$(".cart-items>.orichi-notification-ajaxcart").length&&o$(".cart-items").last().before(htmlTitle),orShopID(64369033439)&&o$(CartSelector).find('a[href*="'+element.Variant+'"]').last().append(htmlTitle);var total=ShopifyFormatMoney(100*element.Total,res.Currency);if(total.indexOf("<span")>=0){var html=total,div;(div=document.createElement("div")).innerHTML=html,total=div.innerText}total=hasNumber(total.split(" ")[1])?total.split(" ")[1]:total.split(" ")[0];var count=0,limitOrichi=0;for(""!=ordcGetPara("CA-LI-Price-Remove")&&(total=total.replace(ordcGetPara("CA-LI-Price-Remove"),""));atag.parent().length>0&&count<=5;){if(atag.parent().is(":contains("+total+")")&&atag.parent().find(":contains("+total+")").last().parent().find(".orichi-quantity-cart-price").length<=0){if(orShopID(23021273)){atag.parent().find(":contains("+total+")").last().parent().removeClass("money"),atag.parent().find(":contains("+total+")").last().parent().addClass("orichi-quantity-line-through"),atag.parent().find(":contains("+total+")").last().parent().css("text-decoration","line-through"),atag.parent().find(":contains("+total+")").last().parent().parent().find("span:last").css("text-decoration","line-through"),atag.parent().find(":contains("+total+")").last().parent().after('<span  class="orichi-quantity-cart orichi-quantity-cart-price orichi-quantity-textdanger money orichi-money'+dateNow+'">'+Math.round(100*element.TotalNew)+"</span>");break}if(orShopID(65372193022)){atag.parent().find(":contains("+total+")").last().removeClass("money"),atag.parent().find(":contains("+total+")").last().addClass("orichi-quantity-line-through"),atag.parent().find(":contains("+total+")").last().css("text-decoration","line-through"),atag.parent().find(":contains("+total+")").last().before('<span  class="orichi-quantity-cart orichi-quantity-cart-price orichi-quantity-textdanger money orichi-money'+dateNow+'">'+Math.round(100*element.TotalNew)+"</span>");break}if(orShopID(4930109)){atag.parent().find("td.price").last().html("<span>"+atag.parent().find("td.price").last().html()+"</span>"),atag.parent().find("td.price span").last().removeClass("money"),atag.parent().find("td.price span").last().addClass("orichi-quantity-line-through"),atag.parent().find("td.price span").last().css("text-decoration","line-through"),atag.parent().find("td.price span").last().after('<span  class="orichi-quantity-cart orichi-quantity-cart-price orichi-quantity-textdanger money orichi-money'+dateNow+'">'+Math.round(100*element.TotalNew)+"</span>");break}if(orShopID(43517051046)){atag.parent().find(":contains("+total+")").last().html('<del  class="orichi-quantity-cart orichi-quantity-cart-price  money orichi-money'+dateNow+'">'+Math.round(100*element.Total)+'</del><span  class="orichi-quantity-cart orichi-quantity-cart-price orichi-quantity-textdanger money orichi-money'+dateNow+'">'+Math.round(100*element.TotalNew)+"</span>");break}if(orShopID(64369033439)&&orichiQuantityIsCartPage){atag.parent().find(":contains("+total+")").last().removeClass("money"),atag.parent().find(":contains("+total+")").last().hasClass("orichi-quantity-line-through")||atag.parent().find(":contains("+total+")").last().html(`<span>${atag.parent().find(":contains("+total+")").last().html()}</span>`),atag.parent().find(":contains("+total+")").last().addClass("orichi-quantity-line-through"),atag.parent().find(":contains("+total+")").last().css("text-decoration","line-through"),atag.parent().find(":contains("+total+")").last().after('<span  class="orichi-quantity-cart orichi-quantity-cart-price orichi-quantity-textdanger money orichi-money'+dateNow+'">'+Math.round(100*element.TotalNew)+"</span>");break}(orShopID(62406590635)||orShopID(68632740113)||orShopID(67117744432))&&(atag.parent().find(":contains("+total+")").first().find(".cart-item__price-wrapper .price .qb-total-line-item").removeClass("money"),atag.parent().find(":contains("+total+")").first().find(".cart-item__price-wrapper .price .qb-total-line-item").addClass("orichi-quantity-line-through"),atag.parent().find(":contains("+total+")").first().find(".cart-item__price-wrapper .price .qb-total-line-item").css("text-decoration","line-through"),atag.parent().find(":contains("+total+")").first().find(".cart-item__price-wrapper .price .qb-total-line-item").after('<span  class="orichi-quantity-cart orichi-quantity-cart-price orichi-quantity-textdanger money orichi-money'+dateNow+'">'+Math.round(100*element.TotalNew)+"</span>")),orShopID(67632038171)&&(atag.parent().find(":contains("+total+")").first().parent().find(".cart-item__totals.large-up-hide .price").removeClass("money"),atag.parent().find(":contains("+total+")").first().parent().find(".cart-item__totals.large-up-hide .price").addClass("orichi-quantity-line-through"),atag.parent().find(":contains("+total+")").first().parent().find(".cart-item__totals.large-up-hide .price").css("text-decoration","line-through"),atag.parent().find(":contains("+total+")").first().parent().find(".cart-item__totals.large-up-hide .price ").after('<span  class="orichi-quantity-cart orichi-quantity-cart-price orichi-quantity-textdanger money orichi-money'+dateNow+'">'+Math.round(100*element.TotalNew)+"</span>")),orShopID(62385356997)&&(atag.parent().find(":contains("+total+")").first().parent().find(".cart-item__details .product-option:first").removeClass("money"),atag.parent().find(":contains("+total+")").first().parent().find(".cart-item__details .product-option:first").addClass("orichi-quantity-line-through"),atag.parent().find(":contains("+total+")").first().parent().find(".cart-item__details .product-option:first").css("text-decoration","line-through"),atag.parent().find(":contains("+total+")").first().parent().find(".cart-item__details .product-option:first").after('<span  class="orichi-quantity-cart orichi-quantity-cart-price orichi-quantity-textdanger money orichi-money'+dateNow+'">'+Math.round(100*element.PriceNew)+"</span>")),atag.parent().find(":contains("+total+")").last().removeClass("money"),atag.parent().find(":contains("+total+")").last().addClass("orichi-quantity-line-through"),atag.parent().find(":contains("+total+")").last().css("text-decoration","line-through"),atag.parent().find(":contains("+total+")").last().after('<span  class="orichi-quantity-cart orichi-quantity-cart-price orichi-quantity-textdanger money orichi-money'+dateNow+'">'+Math.round(100*element.TotalNew)+"</span>");break}if(atag.parent().is(":contains("+total.replace(/,/g,"")+")")&&0==atag.parent().find(":contains("+total.replace(/,/g,"")+")").last().parent().find(".orichi-quantity-cart").length){atag.parent().find(":contains("+total.replace(/,/g,"")+")").last().removeClass("money"),atag.parent().find(":contains("+total.replace(/,/g,"")+")").last().addClass("orichi-quantity-line-through"),atag.parent().find(":contains("+total.replace(/,/g,"")+")").last().css("text-decoration","line-through"),atag.parent().find(":contains("+total.replace(/,/g,"")+")").last().after('<span  class="orichi-quantity-cart orichi-quantity-cart-price orichi-quantity-textdanger money orichi-money'+dateNow+'">'+Math.round(100*element.TotalNew)+"</span>");break}if(orShopID(62134386882)&&o$(CartSelector).hasClass("rebuy-cart")){atag.parent().find(".rebuy-cart__flyout-item-price .sale").last().removeClass("money"),atag.parent().find(".rebuy-cart__flyout-item-price .sale").last().addClass("orichi-quantity-line-through"),atag.parent().find(".rebuy-cart__flyout-item-price .sale").last().css("text-decoration","line-through"),atag.parent().find(".rebuy-cart__flyout-item-price .sale").last().after('<span  class="orichi-quantity-cart orichi-quantity-cart-price orichi-quantity-textdanger money orichi-money'+dateNow+'">'+Math.round(100*element.TotalNew)+"</span>");break}if(orShopID(24576427)&&atag.parent().find(".cart__final-price div").length>0){atag.parent().find(".cart__final-price div").last().removeClass("money"),atag.parent().find(".cart__final-price div").last().addClass("orichi-quantity-line-through"),atag.parent().find(".cart__final-price div").last().css("text-decoration","line-through"),atag.parent().find(".cart__final-price div").last().after('<span  class="orichi-quantity-cart orichi-quantity-cart-price orichi-quantity-textdanger money orichi-money'+dateNow+'">'+Math.round(100*element.TotalNew)+"</span>");break}if(orShopID(64421298389)&&orichiQuantityIsCartPage){atag.parent().parent().parent().parent().find(".cart__item-price-col .cart__price").last().removeClass("money"),atag.parent().parent().parent().parent().find(".cart__item-price-col .cart__price").last().addClass("orichi-quantity-line-through"),atag.parent().parent().parent().parent().find(".cart__item-price-col .cart__price").last().css("text-decoration","line-through"),atag.parent().parent().parent().parent().find(".cart__item-price-col .cart__price").last().after('<span  class="orichi-quantity-cart orichi-quantity-cart-price orichi-quantity-textdanger money orichi-money'+dateNow+'">'+Math.round(100*element.PriceNew)+"</span>");break}if((orShopID(9338060836)||orShopID(64655163627))&&null!=meta&&null!=meta.product&&meta.product.id==element.ProductCode&&o$(CartSelector).hasClass("atc-banner--container")){atag.parent().find(".atc--product-details--price-value").last().removeClass("money"),atag.parent().find(".atc--product-details--price-value").last().addClass("orichi-quantity-line-through"),atag.parent().find(".atc--product-details--price-value").last().css("text-decoration","line-through"),atag.parent().find(".atc--product-details--price-value").last().after('<span style="display: contents;" class="orichi-quantity-cart orichi-quantity-cart-price orichi-quantity-textdanger money orichi-money'+dateNow+'">'+Math.round(100*element.PriceNew)+"</span>");break}atag=atag.parent(),count++}if(""!=ordcGetPara("CA-LI-Price-AppendAll")){let liSelector=ordcGetPara("CA-LI-Price-AppendAll").replace("{variant}",element.Variant).replace("{variant}",element.Variant).replace("{variant}",element.Variant).replace("{variant}",element.Variant).replace("{variant}",element.Variant).replace("{variant}",element.Variant),orichiCountLiInterval=0;const liInterval=setInterval(()=>{orichiCountLiInterval++,o$(liSelector).each((i,e)=>{0==o$(e).parent().find(".orichi-quantity-cart-price").length&&1==OrichiQuantityHasRule&&(o$(e).removeClass("money"),o$(e).addClass("orichi-quantity-line-through"),o$(e).css("text-decoration","line-through"),o$(e).after('<span  class="orichi-quantity-cart orichi-quantity-cart-price orichi-quantity-textdanger money orichi-money'+dateNow+'">'+Math.round(100*element.PriceNew)+"</span>"))}),o$(".orichi-money"+dateNow).each((function(index,element){"1"!=o$(element).attr("data-format")&&(o$(element).html(ShopifyFormatMoney(o$(element).html().split("<span></span>")[0],res.Currency)),o$(element).attr("data-format","1"))})),5===orichiCountLiInterval&&clearInterval(liInterval)},500)}if(""!=ordcGetPara("CA-LI-TotalPrice-AppendAll")){let liSelector2=ordcGetPara("CA-LI-TotalPrice-AppendAll").replace("{variant}",element.Variant).replace("{variant}",element.Variant).replace("{variant}",element.Variant).replace("{variant}",element.Variant).replace("{variant}",element.Variant).replace("{variant}",element.Variant),orichiCountLiInterval2=0;const liInterval2=setInterval(()=>{orichiCountLiInterval2++,o$(liSelector2).each((i,e)=>{0==o$(e).parent().find(".orichi-quantity-cart-price").length&&1==OrichiQuantityHasRule&&(o$(e).removeClass("money"),o$(e).addClass("orichi-quantity-line-through"),o$(e).css("text-decoration","line-through"),o$(e).after('<span  class="orichi-quantity-cart orichi-quantity-cart-price orichi-quantity-textdanger money orichi-money'+dateNow+'">'+Math.round(100*element.TotalNew)+"</span>"))}),o$(".orichi-money"+dateNow).each((function(index,element){"1"!=o$(element).attr("data-format")&&(o$(element).html(ShopifyFormatMoney(o$(element).html().split("<span></span>")[0],res.Currency)),o$(element).attr("data-format","1"))})),5===orichiCountLiInterval2&&clearInterval(liInterval2)},500)}if("1"==ordcGetPara("CA-PriceItem-A")||"1"==ordcGetPara("CA-sifc")&&o$(CartSelector).hasClass("rebuy-cart")){var total2=ShopifyFormatMoney(100*element.Price,res.Currency);if(total2.indexOf("<span")>=0){var html=total2,div;(div=document.createElement("div")).innerHTML=html,total2=div.innerText}total2=hasNumber(total2.split(" ")[1])?total2.split(" ")[1]:total2.split(" ")[0];var count2=0;for(orShopID(55899947065)&&!orichiQuantityIsCartPage&&(atag2=o$(CartSelector).find('.drawer_item[data-id="'+element.Variant+'"] .item_wrap_content a:first')),orShopID(2864468)&&(atag2=o$(CartSelector).find('.cart-item[data-product-variant-id="'+element.Variant+'"] .cart__product-name')),""!=ordcGetPara("CA-LI-Price-Remove")&&(total2=total2.replace(ordcGetPara("CA-LI-Price-Remove"),""));atag2.parent().length>0&&count2<=5;){if(atag2.parent().is(":contains("+total2+")")&&atag2.parent().find(":contains("+total2+")").last().parent().find(".orichi-quantity-cart-price").length<=1){atag2.parent().find(":contains("+total2+")").last().removeClass("money"),atag2.parent().find(":contains("+total2+")").last().addClass("orichi-quantity-line-through"),atag2.parent().find(":contains("+total2+")").last().css("text-decoration","line-through"),atag2.parent().find(":contains("+total2+")").last().after('<span  class="orichi-quantity-cart orichi-quantity-cart-price orichi-quantity-textdanger money orichi-money'+dateNow+'">'+Math.round(100*element.PriceNew)+"</span>");break}if(atag2.parent().is(":contains("+total2.replace(/,/g,"")+")")&&1==atag2.parent().find(":contains("+total2.replace(/,/g,"")+")").last().parent().find(".orichi-quantity-cart").length){atag2.parent().find(":contains("+total2.replace(/,/g,"")+")").last().removeClass("money"),atag2.parent().find(":contains("+total2.replace(/,/g,"")+")").last().addClass("orichi-quantity-line-through"),atag2.parent().find(":contains("+total2.replace(/,/g,"")+")").last().css("text-decoration","line-through"),atag2.parent().find(":contains("+total2.replace(/,/g,"")+")").last().after('<span  class="orichi-quantity-cart orichi-quantity-cart-price orichi-quantity-textdanger money orichi-money'+dateNow+'">'+Math.round(100*element.PriceNew)+"</span>");break}atag2=atag2.parent(),count2++}}}else if(element.QuantityNext>0){var atag=o$(CartSelector).find('a[href*="'+element.Variant+'"]').first();if((orShopID(64905248988)||orShopID(62134386882))&&(atag=o$(CartSelector).find('.cart-item__details a[href*="'+element.Variant+'"]').last()),"1"==ordcGetPara("CA-sifc")&&o$(CartSelector).hasClass("rebuy-cart")&&(atag=o$(CartSelector).find(".rebuy-cart__flyout-items .rebuy-cart__flyout-item:eq("+index+") .rebuy-cart__flyout-item-info a"),element.TotalSaved=element.Price*element.PercentOrPriceNext/100*(element.QuantityNext-element.Quantity),element.PriceSaved=element.Price*(100-element.PercentOrPriceNext)/100),0==atag.parent().find(".orichi-quantity-cart").length){var htmlTitle="";if(res.Setting.ShopID<=10587&&8885!=res.Setting.ShopID&&10350!=res.Setting.ShopID&&10378!=res.Setting.ShopID&&9375!=res.Setting.ShopID&&10047!=res.Setting.ShopID&&9849!=res.Setting.ShopID&&9098!=res.Setting.ShopID){if(element.QuantityNext>0&&res.Setting.PlanNumber>0){var priceNext=0,totalSaved=(element.Price-priceNext)*element.QuantityNext;switch(OrichiQuantityHasUpsell=!0,element.PriceTypeNext){case 1:priceNext=element.Price*(100-element.PercentOrPriceNext)/100;break;case 2:priceNext=element.Price-element.PercentOrPriceNext<0?0:element.Price-element.PercentOrPriceNext;break;case 3:case 4:priceNext=element.PercentOrPrice}64905248988==__st.a&&(totalSaved=Math.floor((element.Price-priceNext)*element.QuantityNext));var textAutoSaleUp=(null==res.Setting2.TextUpSale?"":res.Setting2.TextUpSale).replace("{quantity}",element.QuantityNext).replace("{quantitymore}",element.QuantityNext-element.Quantity).replace("{priceorpercent}",element.PriceTypeNext<=1?element.PercentOrPriceNext+"%":ShopifyFormatMoney((100*element.PercentOrPriceNext).toFixed(0),res.Currency)).replace("{price}",ShopifyFormatMoney((100*priceNext).toFixed(0),res.Currency)).replace("{priceperitem}",ShopifyFormatMoney((100*priceNext).toFixed(0),res.Currency)).replace("{pricediscountperitem}",ShopifyFormatMoney((100*(element.Price-priceNext)).toFixed(0),res.Currency)).replace("{totaldiscount}",ShopifyFormatMoney((100*totalSaved).toFixed(0),res.Currency));htmlTitle+='<a href="javascript:void(0)" class="orichi-up-sale" onclick="orichiUpSale(this)" data-quantity="'+element.QuantityNext+'" data-variant="'+element.Variant+'">'+textAutoSaleUp+"</a>"}atag.after(htmlTitle)}else{if(element.QuantityNext>0&&res.Setting.PlanNumber>0){var priceNext=0,totalSaved=(element.Price-priceNext)*element.QuantityNext;switch(OrichiQuantityHasUpsell=!0,element.PriceTypeNext){case 1:priceNext=element.Price*(100-element.PercentOrPriceNext)/100;break;case 2:priceNext=element.Price-element.PercentOrPriceNext<0?0:element.Price-element.PercentOrPriceNext;break;case 3:priceNext=element.PercentOrPrice}64905248988==__st.a&&(totalSaved=Math.floor((element.Price-priceNext)*element.QuantityNext));var textAutoSaleUp=(null==res.Setting2.TextUpSale?"":res.Setting2.TextUpSale).replace("{quantity}",element.QuantityNext).replace("{quantitymore}",element.QuantityNext-element.Quantity).replace("{priceorpercent}",element.PriceTypeNext<=1?element.PercentOrPriceNext+"%":ShopifyFormatMoney((100*element.PercentOrPriceNext).toFixed(0),res.Currency)).replace("{price}",ShopifyFormatMoney((100*priceNext).toFixed(0),res.Currency)).replace("{priceperitem}",ShopifyFormatMoney((100*priceNext).toFixed(0),res.Currency)).replace("{pricediscountperitem}",ShopifyFormatMoney((100*(element.Price-priceNext)).toFixed(0),res.Currency)).replace("{totaldiscount}",ShopifyFormatMoney((100*totalSaved).toFixed(0),res.Currency));htmlTitle+='<div class="orichi-up-sell-wrapper" style="background: '+res.Setting.UpSellOnCartBackground+";border-radius: 7px; padding: 10px; border: 1px solid "+res.Setting.UpSellOnCartColor+";color: "+res.Setting.UpSellOnCartColor+';"><a href="javascript:void(0)" class="orichi-up-sale  orichi-up-sell" style="color: '+res.Setting.UpSellOnCartColor+'; text-decoration: none;" onclick="orichiUpSale(this)" data-quantity="'+element.QuantityNext+'" data-variant="'+element.Variant+'">'+textAutoSaleUp+"</a></div>"}var upsellTag=atag;try{element.ProductName.indexOf('"')>0&&(element.ProductName=element.ProductName.split('"')[0]),element.ProductName.indexOf("'")>0&&(element.ProductName=element.ProductName.split("'")[0])}catch(error){}o$(CartSelector).find('a[href*="'+element.Variant+'"]:contains("'+element.ProductName+'")').length>0&&(upsellTag=o$(CartSelector).find('a[href*="'+element.Variant+'"]:contains("'+element.ProductName+'")').last()),orShopID(23944207)&&orichiQuantityIsCartPage&&(upsellTag=atag.parent().parent().parent().parent().find(".item-details .item-title")),orShopID(6618741)&&upsellTag.parent().parent().parent().find(".reviews").length>0&&(upsellTag=upsellTag.parent().parent().parent().find(".reviews").first()),upsellTag.after(htmlTitle)}}}if(""!=ordcGetPara("CA-QI-MultipleStep")&&element.LimitMultiple>0){var cartQIMul=ordcGetPara("CA-QI-MultipleStep").replace("{variant}",element.Variant);o$(cartQIMul).attr("step",element.LimitMultiple),o$(cartQIMul).attr("min",0)}})),res.TotalPriceNew<res.TotalPrice){if(!orichiQuantityViewCart){orichiQuantityViewCart=!0;try{null!=res.discountOntotal?o$.ajax({url:OrichiQuantityRequestUrl+"/SetView?shop="+Shopify.shop,type:"POST",data:{campaignID:[res.discountOntotal.ID],shop:Shopify.shop,isViewProduct:!1,isViewCart:!0,isViewCheckout:!1},success:function(res){},error:function(xhr,ajaxOptions,thrownError){console.log(thrownError)}}):o$.ajax({url:OrichiQuantityRequestUrl+"/SetView?shop="+Shopify.shop,type:"POST",data:{campaignID:res.lstVariants.filter(p=>p.ID>1).map(p=>p.ID),shop:Shopify.shop,isViewProduct:!1,isViewCart:!0,isViewCheckout:!1},success:function(res){},error:function(xhr,ajaxOptions,thrownError){console.log(thrownError)}})}catch(err){console.log(err)}}res.TotalPriceNew=Math.round(100*res.TotalPriceNew)/100;var subtotal=ShopifyFormatMoney(100*res.TotalPrice,res.Currency);if(subtotal.indexOf("<span")>=0){var html=subtotal,div=document.createElement("div");div.innerHTML=html,subtotal=div.innerText}if(subtotal=hasNumber(subtotal.split(" ")[1])?subtotal.split(" ")[1]:subtotal.split(" ")[0],""!=ordcGetPara("CA-SUB-TextSearch-R")&&(subtotal=subtotal.replace(ordcGetPara("CA-SUB-TextSearch-R"),"")),""!=ordcGetPara("CA-SUB-Selector")&&(res.Setting2.AjaxCartSubtotal=ordcGetPara("CA-SUB-Selector")),0==o$(".orichi-subtotal").length){var specificSubtotal='.t4s-cart__totalPrice, .tt-cart-total .tt-total .tt-price, .cart-subtotal .pplr_subtotal_price, .hs_subtotal_amount, .popup-cart__subtotal span, .docapp-cart-subtotal, .totals-subtotal-value.gt_cart-right .gt_cart-total .number_total, div[data-cart-subtotal-block] h5:last, .rebuy-cart__flyout-subtotal-amount, span[data-tbnadfield="CART_TOTAL"],.cart-mini-subtotal .cart-mini-subtotal-value, .ymq_cart_total_price, .ajax-cart--total-price #cart_drawer_subtotal .cart-total-price,.subtotal .cart-total-right,.totals__subtotal-value,div[data-subtotal],div[data-subtotal] span:first,.cart-foot span[data-cart-total],#CartDrawer .drawer__footer .ajaxcart__price,.atc-banner--cart-subtotal .atc-subtotal--price, .upcart-checkout-button.fs-checkout-btn';o$(specificSubtotal).length>0&&(o$(specificSubtotal).last().removeClass("money"),o$(specificSubtotal).last().addClass("orichi-quantity-line-through"),o$(specificSubtotal).last().css("text-decoration","line-through"),o$(specificSubtotal).last().after('<span  class="orichi-quantity-cart orichi-subtotal orichi-quantity-textdanger money orichi-money'+dateNow+'">'+Math.round(100*res.TotalPriceNew)+"</span>"))}if(null!=res.Setting2.AjaxCartSubtotal&&""!=res.Setting2.AjaxCartSubtotal?(orShopID(57638453428)&&(o$(res.Setting2.AjaxCartSubtotal).find(":contains("+subtotal+")").last().parent().find(".orichi-subtotal").remove(),o$(res.Setting2.AjaxCartSubtotal).find(":contains("+subtotal+")").last().removeClass("money"),o$(res.Setting2.AjaxCartSubtotal).find(":contains("+subtotal+")").last().addClass("orichi-quantity-line-through"),o$(res.Setting2.AjaxCartSubtotal).find(":contains("+subtotal+")").last().css("text-decoration","line-through"),o$(res.Setting2.AjaxCartSubtotal).find(":contains("+subtotal+")").last().after('<span  class="orichi-quantity-cart orichi-subtotal orichi-quantity-textdanger money orichi-money'+dateNow+'">'+Math.round(100*res.TotalPriceNew)+"</span>")),o$(res.Setting2.AjaxCartSubtotal).find(":contains("+subtotal+")").length>0&&0==o$(res.Setting2.AjaxCartSubtotal).find(":contains("+subtotal+")").last().parent().find(".orichi-quantity-cart").length?(o$(res.Setting2.AjaxCartSubtotal).find(":contains("+subtotal+")").last().removeClass("money"),o$(res.Setting2.AjaxCartSubtotal).find(":contains("+subtotal+")").last().addClass("orichi-quantity-line-through"),o$(res.Setting2.AjaxCartSubtotal).find(":contains("+subtotal+")").last().css("text-decoration","line-through"),o$(res.Setting2.AjaxCartSubtotal).find(":contains("+subtotal+")").last().after('<span  class="orichi-quantity-cart orichi-subtotal orichi-quantity-textdanger money orichi-money'+dateNow+'">'+Math.round(100*res.TotalPriceNew)+"</span>")):(0==o$(res.Setting2.AjaxCartSubtotal).find(":contains("+subtotal.replace(/,/g,"")+")").last().parent().find(".orichi-quantity-cart").length&&(o$(res.Setting2.AjaxCartSubtotal).find(":contains("+subtotal.replace(/,/g,"")+")").last().removeClass("money"),o$(res.Setting2.AjaxCartSubtotal).find(":contains("+subtotal.replace(/,/g,"")+")").last().addClass("orichi-quantity-line-through"),o$(res.Setting2.AjaxCartSubtotal).find(":contains("+subtotal.replace(/,/g,"")+")").last().css("text-decoration","line-through"),o$(res.Setting2.AjaxCartSubtotal).find(":contains("+subtotal.replace(/,/g,"")+")").last().after('<span  class="orichi-quantity-cart orichi-subtotal orichi-quantity-textdanger money orichi-money'+dateNow+'">'+Math.round(100*res.TotalPriceNew)+"</span>")),orShopID(24576427)&&(o$(res.Setting2.AjaxCartSubtotal).last().removeClass("money"),o$(res.Setting2.AjaxCartSubtotal).last().addClass("orichi-quantity-line-through"),o$(res.Setting2.AjaxCartSubtotal).last().css("text-decoration","line-through"),o$(res.Setting2.AjaxCartSubtotal).last().after('<span  class="orichi-quantity-cart orichi-subtotal orichi-quantity-textdanger money orichi-money'+dateNow+'">'+Math.round(100*res.TotalPriceNew)+"</span>")),orShopID(57551061182)&&!o$(res.Setting2.AjaxCartSubtotal).hasClass("orichi-quantity-line-through")&&(o$(res.Setting2.AjaxCartSubtotal).find(".orichi-subtotal").remove(),o$(res.Setting2.AjaxCartSubtotal).last().removeClass("money"),o$(res.Setting2.AjaxCartSubtotal).last().addClass("orichi-quantity-line-through"),o$(res.Setting2.AjaxCartSubtotal).last().css("text-decoration","line-through"),o$(res.Setting2.AjaxCartSubtotal).last().after('<span  class="orichi-quantity-cart orichi-subtotal orichi-quantity-textdanger money orichi-money'+dateNow+'">'+Math.round(100*res.TotalPriceNew)+"</span>")),orShopID(55358095445)&&(o$(res.Setting2.AjaxCartSubtotal).find(".orichi-subtotal").remove(),o$(res.Setting2.AjaxCartSubtotal).last().removeClass("money"),o$(res.Setting2.AjaxCartSubtotal).last().addClass("orichi-quantity-line-through"),o$(res.Setting2.AjaxCartSubtotal).last().css("text-decoration","line-through"),o$(res.Setting2.AjaxCartSubtotal).last().after('<span  class="orichi-quantity-cart orichi-subtotal orichi-quantity-textdanger money orichi-money'+dateNow+'">'+Math.round(100*res.TotalPriceNew)+"</span>")))):0==o$(CartSelector).find(":contains("+subtotal+")").last().parent().find(".orichi-quantity-cart").length&&(o$(CartSelector).find(":contains("+subtotal+")").last().removeClass("money"),o$(CartSelector).find(":contains("+subtotal+")").last().addClass("orichi-quantity-line-through"),o$(CartSelector).find(":contains("+subtotal+")").last().css("text-decoration","line-through"),o$(CartSelector).find(":contains("+subtotal+")").last().after('<span  class="orichi-quantity-cart orichi-subtotal orichi-quantity-textdanger money orichi-money'+dateNow+'">'+Math.round(100*res.TotalPriceNew)+"</span>"),orShopID(56606425171)&&(o$(CartSelector).find(".cart__subtotal").last().removeClass("money"),o$(CartSelector).find(".cart__subtotal").last().addClass("orichi-quantity-line-through"),o$(CartSelector).find(".cart__subtotal").last().css("text-decoration","line-through"),o$(CartSelector).find(".cart__subtotal").last().after('<span  class="orichi-quantity-cart orichi-subtotal orichi-quantity-textdanger money orichi-money'+dateNow+'">'+Math.round(100*res.TotalPriceNew)+"</span>"))),0==o$(CartSelector).find(".orichi-subtotal").length){var specificSubtotal=".cart-summary__subtotal .amount, .cart-subtotal--price, .totals-subtotal-value,.cart__total_price,.gt_cart-right .gt_cart-total .number_total, .subtotal .cart-total-right,.totals__subtotal-value,div[data-subtotal],.cart-foot span[data-cart-total],#CartDrawer .drawer__footer .ajaxcart__price,.atc-banner--cart-subtotal .atc-subtotal--price, .upcart-checkout-button.fs-checkout-btn";o$(CartSelector).find(specificSubtotal).length>0&&(o$(CartSelector).find(specificSubtotal).last().removeClass("money"),o$(CartSelector).find(specificSubtotal).last().addClass("orichi-quantity-line-through"),o$(CartSelector).find(specificSubtotal).last().css("text-decoration","line-through"),o$(CartSelector).find(specificSubtotal).last().after('<span  class="orichi-quantity-cart orichi-subtotal orichi-quantity-textdanger money orichi-money'+dateNow+'">'+Math.round(100*res.TotalPriceNew)+"</span>"))}var specificSubtotal2=".wcp-original-cart-total, .totals-subtotal-value,.cart__subtotal, modal-popup span[data-cart-total]:last";if(0==o$(specificSubtotal2).parent().parent().parent().find(".orichi-subtotal").length&&(o$(specificSubtotal2).last().removeClass("money"),o$(specificSubtotal2).last().addClass("orichi-quantity-line-through"),o$(specificSubtotal2).last().css("text-decoration","line-through"),o$(specificSubtotal2).last().after('<span  class="orichi-quantity-cart orichi-subtotal orichi-quantity-textdanger money orichi-money'+dateNow+'">'+Math.round(100*res.TotalPriceNew)+"</span>")),orShopID(64369033439)&&orichiQuantityIsCartPage&&(o$(CartSelector).find(".orichi-subtotal").length>0&&!o$(CartSelector).find(".orichi-subtotal").prev().hasClass("orichi-subtotal-clearboth")&&(o$(CartSelector).find(".orichi-subtotal-clearboth").remove(),o$(CartSelector).find(".orichi-subtotal").before('<div class="orichi-subtotal-clearboth" style="clear:both;"></div>')),o$(".summary .total_label").attr("colspan","4"),o$(".summary .price").attr("colspan","2")),orShopID(37996658825)&&(o$(".ymq_cart_total_price").html(ShopifyFormatMoney(100*res.TotalPrice,res.Currency)),o$(".ymq_cart_total_price").length>0&&(o$(".ymq_cart_total_price").last().removeClass("money"),o$(".ymq_cart_total_price").last().addClass("orichi-quantity-line-through"),o$(".ymq_cart_total_price").last().css("text-decoration","line-through"),o$(".ymq_cart_total_price").last().after('<span  class="orichi-quantity-cart orichi-subtotal orichi-quantity-textdanger money orichi-money'+dateNow+'">'+Math.round(100*res.TotalPriceNew)+"</span>"))),"true"==ordcGetPara("CA-SUBT-ADD")&&0==o$(".orichi-subtotal-saved").length){var textYouSaving="You're Saving",elementAppend=".orichi-subtotal";""!=ordcGetPara("CA-SUBT-ADD-Text")&&(textYouSaving=ordcGetPara("CA-SUBT-ADD-Text")),""!=ordcGetPara("CA-SUBT-ADD-Selector")&&(elementAppend=ordcGetPara("CA-SUBT-ADD-Selector")),o$(elementAppend).after(`<div class="orichi-subtotal-saved"><span class="orichi-subtotal-saved-title">${textYouSaving}:</span><span class="orichi-subtotal-saved-price  money orichi-money${dateNow}">${Math.round(100*(res.TotalPrice-res.TotalPriceNew))}</span></div>`)}if(""!=ordcGetPara("CA-SUBT-Percent"))var intervalSubPercentCount=0,intervalSubPercent=setInterval((function(){if(++intervalSubPercentCount>5&&clearInterval(intervalSubPercent),0==o$(".orichi-subtotal-percent").length){if(0!=res.TotalPriceNew&&res.TotalPriceNew<res.TotalPrice){var elementAppend=ordcGetPara("CA-SUBT-Percent"),percent=((res.TotalPrice-res.TotalPriceNew)/res.TotalPrice*100).toFixed(0);o$(elementAppend).append(`<div class="orichi-subtotal-percent"><span class="orichi-subtotal-percent-amount">${percent} %</span></div>`)}}else if(0!=res.TotalPriceNew&&res.TotalPriceNew<res.TotalPrice){var elementAppend=ordcGetPara("CA-SUBT-Percent"),percent=((res.TotalPrice-res.TotalPriceNew)/res.TotalPrice*100).toFixed(0);o$(".orichi-subtotal-percent-amount").html(percent+" %")}}),100);if(""!=ordcGetPara("CA-SUBT-Append")){let subSelector=ordcGetPara("CA-SUBT-Append"),orichiCountSubInterval=0;const subInterval=setInterval(()=>{orichiCountSubInterval++,o$(subSelector).each((i,e)=>{0==o$(e).parent().find(".orichi-subtotal").length&&(o$(e).removeClass("money"),o$(e).addClass("orichi-quantity-line-through"),o$(e).css("text-decoration","line-through"),o$(e).after('<span  class="orichi-quantity-cart orichi-subtotal orichi-quantity-textdanger money orichi-money'+dateNow+'">'+Math.round(100*res.TotalPriceNew)+"</span>"))}),o$(".orichi-money"+dateNow).each((function(index,element){"1"!=o$(element).attr("data-format")&&(o$(element).html(ShopifyFormatMoney(o$(element).html().split("<span></span>")[0],res.Currency)),o$(element).attr("data-format","1"))})),5===orichiCountSubInterval&&clearInterval(subInterval)},500)}if(""!=ordcGetPara("CA-SUBT-TextInBtn-Append")){let checkoutBtn=ordcGetPara("CA-SUBT-TextInBtn-Append");if(0==o$(checkoutBtn).find(".orichi-quantity-line-through").length){let textBtn=o$(checkoutBtn).html(),subTotalPrice=ShopifyFormatMoney(Math.round(100*res.TotalPrice),res.Currency),subTotalPriceNew=ShopifyFormatMoney(Math.round(100*res.TotalPriceNew),res.Currency);o$('.drawer__footer button[name="checkout"]').html(textBtn.replace(subTotalPrice,`<span class="money orichi-quantity-line-through">${subTotalPrice}</span><span class="money">${subTotalPriceNew}</span>`))}}if(OrichiQuantitySettingInfo.Setting.UseDiscountCodeOnCart&&!OrichiQuantitySettingInfo.Setting.UseDiscountCodeOnCheckoutPage){var textApply=OrichiQuantitySettingInfo.Setting2.TextApply,textAfterPercent="",textBaseon=OrichiQuantitySettingInfo.Setting2.TextBaseOn,textDiscountCode=OrichiQuantitySettingInfo.Setting2.TextDiscountCode,textDiscountCodeUnavailable=OrichiQuantitySettingInfo.Setting2.TextDiscountCodeNotAvailable,textHtmlDiscountCode='<div class="orichi-quantity-DiscountCode-area"><input type="text" class="orichi-quantity-DiscountCode '+ordcGetPara("CA-DC-INPUT-Class")+'" placeholder="'+textDiscountCode+'"><button type="button" class="orichi-buttonCheckDiscount btn '+ordcGetPara("CA-DC-Button-Class")+'" onclick="orichiCheckDiscountCode(this)">'+textApply+"</button></div>";if(orShopID(64369033439)&&orichiQuantityIsCartPage&&(textHtmlDiscountCode='<tr style="width: 100% !important;"><td colspan="4"></td><td colspan="2"><div class="orichi-quantity-DiscountCode-area" style="margin-bottom: 20px;" ><input type="text" onkeydown="(event) =>{debugger;  event.preventDefault();if(event.keyCode == 13) {debugger; orichiCheckDiscountCode(this);return false;}}" class="orichi-quantity-DiscountCode '+ordcGetPara("CA-DC-INPUT-Class")+'" placeholder="'+textDiscountCode+'"><button type="button" class="orichi-buttonCheckDiscount  btn btn--primary  '+ordcGetPara("CA-DC-Button-Class")+'" onclick="orichiCheckDiscountCode(this)">'+textApply+'</button></div><div style="clear:both;"></div></td></tr>'),orShopID(64369033439)&&!orichiQuantityIsCartPage&&(textHtmlDiscountCode='<div class="orichi-quantity-DiscountCode-area" style="margin-bottom: 20px;" ><input type="text" onkeydown="(event) =>{debugger;  event.preventDefault();if(event.keyCode == 13) {debugger; orichiCheckDiscountCode(this);return false;}}" class="orichi-quantity-DiscountCode '+ordcGetPara("CA-DC-INPUT-Class")+'" placeholder="'+textDiscountCode+'"><button type="button" class="orichi-buttonCheckDiscount  btn btn--primary  '+ordcGetPara("CA-DC-Button-Class")+'" onclick="orichiCheckDiscountCode(this)">'+textApply+'</button></div><div style="clear:both;"></div>'),""!=ordcGetPara("CP-DC-M-Selector")&&orichiQuantityIsCartPage){if(0==o$(ordcGetPara("CP-DC-M-Selector")).parent().find(".orichi-quantity-DiscountCode-area").length)switch(ordcGetPara("CP-DC-M-Position")){case"":o$(ordcGetPara("CP-DC-M-Selector")).append(textHtmlDiscountCode);break;case"before":o$(ordcGetPara("CP-DC-M-Selector")).before(textHtmlDiscountCode);break;case"after":o$(ordcGetPara("CP-DC-M-Selector")).after(textHtmlDiscountCode);break;case"append":o$(ordcGetPara("CP-DC-M-Selector")).append(textHtmlDiscountCode);break;case"prepend":o$(ordcGetPara("CP-DC-M-Selector")).prepend(textHtmlDiscountCode)}}else if(""==ordcGetPara("CA-DC-M-Selector")||orichiQuantityIsCartPage)0==o$(CartSelector).find(".orichi-quantity-DiscountCode").length&&(o$(CartSelector).find(".orichi-quantity-cart").length>0||o$(CartSelector).find(o$('a[href*="/products/"]')).length>0)&&o$(CartSelector).append('<div class="orichi-quantity-DiscountCode-area"><input type="text" class="orichi-quantity-DiscountCode '+ordcGetPara("CA-DC-INPUT-Class")+'" placeholder="'+textDiscountCode+'"><button type="button" class="orichi-buttonCheckDiscount btn '+ordcGetPara("CA-DC-Button-Class")+'" onclick="orichiCheckDiscountCode(this)">'+textApply+"</button></div>");else if(0==o$(ordcGetPara("CA-DC-M-Selector")).parent().find(".orichi-quantity-DiscountCode-area").length)switch(ordcGetPara("CA-DC-M-Position")){case"":o$(ordcGetPara("CA-DC-M-Selector")).append(textHtmlDiscountCode);break;case"before":o$(ordcGetPara("CA-DC-M-Selector")).before(textHtmlDiscountCode);break;case"after":o$(ordcGetPara("CA-DC-M-Selector")).after(textHtmlDiscountCode);break;case"append":o$(ordcGetPara("CA-DC-M-Selector")).append(textHtmlDiscountCode);break;case"prepend":o$(ordcGetPara("CA-DC-M-Selector")).prepend(textHtmlDiscountCode)}o$(".orichi-quantity-DiscountCode-area-nodiscount").remove()}}else if("1"==ordcGetPara("CA-DC-NoDiscount-Show")&&OrichiQuantitySettingInfo.Setting.UseDiscountCodeOnCart){var textApply=OrichiQuantitySettingInfo.Setting2.TextApply,textDiscountCode=OrichiQuantitySettingInfo.Setting2.TextDiscountCode,textHtmlDiscountCode='<div class="orichi-quantity-DiscountCode-area-nodiscount"><input type="text" class="orichi-quantity-DiscountCode '+ordcGetPara("CA-DC-INPUT-Class")+'" placeholder="'+textDiscountCode+'"><button type="button" class="orichi-buttonCheckDiscount btn '+ordcGetPara("CA-DC-Button-Class")+'" onclick="orichiCheckDiscountCodeNoDiscount(this)">'+textApply+"</button></div>";if(""!=ordcGetPara("CP-DC-M-Selector")&&orichiQuantityIsCartPage){if(0==o$(ordcGetPara("CP-DC-M-Selector")).parent().find(".orichi-quantity-DiscountCode-area-nodiscount").length)switch(ordcGetPara("CP-DC-M-Position")){case"":o$(ordcGetPara("CP-DC-M-Selector")).append(textHtmlDiscountCode);break;case"before":o$(ordcGetPara("CP-DC-M-Selector")).before(textHtmlDiscountCode);break;case"after":o$(ordcGetPara("CP-DC-M-Selector")).after(textHtmlDiscountCode);break;case"append":o$(ordcGetPara("CP-DC-M-Selector")).append(textHtmlDiscountCode);break;case"prepend":o$(ordcGetPara("CP-DC-M-Selector")).prepend(textHtmlDiscountCode)}}else if(""==ordcGetPara("CA-DC-M-Selector")||orichiQuantityIsCartPage)0==o$(".orichi-quantity-DiscountCode").length&&(o$(CartSelector).find(".orichi-quantity-cart").length>0||o$(CartSelector).find(o$('a[href*="/products/"]')).length>0)&&o$(CartSelector).append('<div class="orichi-quantity-DiscountCode-area-nodiscount"><input type="text" class="orichi-quantity-DiscountCode '+ordcGetPara("CA-DC-INPUT-Class")+'" placeholder="'+textDiscountCode+'"><button type="button" class="orichi-buttonCheckDiscount btn '+ordcGetPara("CA-DC-Button-Class")+'" onclick="orichiCheckDiscountCodeNoDiscount(this)">'+textApply+"</button></div>");else if(0==o$(ordcGetPara("CA-DC-M-Selector")).parent().find(".orichi-quantity-DiscountCode-area-nodiscount").length)switch(ordcGetPara("CA-DC-M-Position")){case"":o$(ordcGetPara("CA-DC-M-Selector")).append(textHtmlDiscountCode);break;case"before":o$(ordcGetPara("CA-DC-M-Selector")).before(textHtmlDiscountCode);break;case"after":o$(ordcGetPara("CA-DC-M-Selector")).after(textHtmlDiscountCode);break;case"append":o$(ordcGetPara("CA-DC-M-Selector")).append(textHtmlDiscountCode);break;case"prepend":o$(ordcGetPara("CA-DC-M-Selector")).prepend(textHtmlDiscountCode)}}o$(".orichi-money"+dateNow).each((function(index,element){"1"!=o$(element).attr("data-format")&&(o$(element).html(ShopifyFormatMoney(o$(element).html().split("<span></span>")[0],res.Currency)),o$(element).attr("data-format","1"))})),orShopID(65425965273)&&(o$(".cart-item__price .product-mobile-optionprice").css("text-decoration","unset"),o$(".orichi-quantity-cart-price").each((function(){o$(this).parent().parent().parent().find(".cart-item__price").append(o$(this)[0].outerHTML),o$(this).parent().parent().parent().find(".cart-item__price .product-mobile-optionprice").css("text-decoration","line-through")})));try{if((res.Setting.ShopID>9110||"1"==ordcGetPara("CA-ACB-Override"))&&(document.cookie="dynamic_checkout_shown_on_cart=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;",o$(".cart__dynamic-checkout-buttons,.additional-checkout-buttons").css("position","relative"),o$(".dynamic-checkout__content").parent().css("position","relative"),0==o$(".cart__dynamic-checkout-buttons .Orichi-dynamic-checkout-button,.additional-checkout-buttons .Orichi-dynamic-checkout-button,.dynamic-checkout__content .Orichi-dynamic-checkout-button").length&&(o$(".cart__dynamic-checkout-buttons").prepend('<div class="Orichi-dynamic-checkout-button" style="\n                        position: absolute !important;\n                        height: 100% !important;\n                        width: 100% !important;\n                        display: block !important;\n                        z-index: 999 !important;\n                        cursor: pointer !important;\n                        max-width: unset !important;\n                        background: transparent!important;\n                        color: transparent !important;\n                    "></div>'),o$(".additional-checkout-buttons").prepend('<div class="Orichi-dynamic-checkout-button" style="\n                        position: absolute !important;\n                        height: 100% !important;\n                        width: 100% !important;\n                        display: block !important;\n                        z-index: 999 !important;\n                        cursor: pointer !important;\n                        max-width: unset !important;\n                        background: transparent!important;\n                        color: transparent !important;\n                    "></div>'),o$(".dynamic-checkout__content").before('<div class="Orichi-dynamic-checkout-button" style="\n                        position: absolute !important;\n                        height: 100% !important;\n                        width: 100% !important;\n                        display: block !important;\n                        z-index: 999 !important;\n                        cursor: pointer !important;\n                        max-width: unset !important;\n                        background: transparent!important;\n                        color: transparent !important;\n                "></div>'))),""!=ordcGetPara("CA-ACB-Override-Selector")&&0==o$(ordcGetPara("CA-ACB-Override-Selector")).parent().find(".Orichi-dynamic-checkout-button").length&&(o$(ordcGetPara("CA-ACB-Override-Selector")).parent().css("position","relative"),o$(ordcGetPara("CA-ACB-Override-Selector")).before('<div class="Orichi-dynamic-checkout-button" style="\n                        position: absolute !important;\n                        height: 100% !important;\n                        width: 100% !important;\n                        display: block !important;\n                        z-index: 999 !important;\n                        cursor: pointer !important;\n                        max-width: unset !important;\n                        background: transparent!important;\n                        color: transparent !important;\n                    "></div>')),""!=ordcGetPara("CA-CB-Override-Selector")){if(o$(ordcGetPara("CA-CB-Override-Selector")).length>0&&0==o$(ordcGetPara("CA-CB-Override-Selector")).parent().find(".Orichi-override-checkout-button").length)try{var checkoutHtml=o$(ordcGetPara("CA-CB-Override-Selector"))[0].outerHTML;o$(ordcGetPara("CA-CB-Override-Selector")).replaceWith(`<div class="orichi-checkout-area" style="\n                            display: inline-block;\n                            position: relative;\n                            width: 100%;\n                        "><div class="Orichi-dynamic-checkout-button Orichi-override-checkout-button" onclick="OrichiCheckOutBound(this)" style="\n                                            position: absolute;\n                                            height: 100%;\n                                            width: 100%;\n                                            display: block;\n                                            z-index: 2;\n                                            cursor: pointer;\n                                            background: transparent!important;\n                                            color: transparent !important;\n                                        "></div>${checkoutHtml}</div>`)}catch(error){}if("1"==ordcGetPara("CA-CB-Override-Selector-Interval"))var intervalOverrideCB=setInterval(()=>{if(o$(ordcGetPara("CA-CB-Override-Selector")).length>0&&0==o$(ordcGetPara("CA-CB-Override-Selector")).parent().find(".Orichi-override-checkout-button").length){var checkoutHtml=o$(ordcGetPara("CA-CB-Override-Selector"))[0].outerHTML;o$(ordcGetPara("CA-CB-Override-Selector")).replaceWith(`<div class="orichi-checkout-area" style="\n                                display: inline-block;\n                                position: relative;\n                                width: 100%;\n                            "><div class="Orichi-dynamic-checkout-button Orichi-override-checkout-button" style="\n                                                position: absolute;\n                                                height: 100%;\n                                                width: 100%;\n                                                display: block;\n                                                z-index: 2;\n                                                cursor: pointer;\n                                                background: transparent!important;\n                                                color: transparent !important;\n                                            "></div>${checkoutHtml}</div>`)}},100)}orShopID(37996658825)&&o$(".cart--button-checkout").replaceWith('<div style="\n                    display: inline-block;\n                    position: relative;\n                "><div class="Orichi-dynamic-checkout-button Orichi-override-checkout-button" style="\n                                    position: absolute;\n                                    height: 100%;\n                                    width: 100%;\n                                    display: block;\n                                    z-index: 2;\n                                    cursor: pointer;\n                                    background: transparent!important;\n                                    color: transparent !important;\n                                "></div><input type="submit" name="checkout" class="btn cart--button-checkout" value="Check out" data-omnisend-checked="true"></div>'),orShopID(6961831)&&(o$(".cart-mini-actions-checkout").removeAttr("href"),o$(".cart-mini-actions-checkout").attr("onclick","OrichiCheckOutBound(this);"))}catch(error){}try{var orichiAbandonedCartToken=localStorage.getItem("orichi-discount-abandonedcart"),orichiAbandonedCartCheck=!1;null==orichiAbandonedCartToken?orichiAbandonedCartCheck=!0:orichiAbandonedCartToken!=OrichiQuantityDiscountResult.Token&&(orichiAbandonedCartCheck=!0),orichiQuantityGetCartCount>30&&(o$.ajax({url:OrichiQuantityRequestUrl+"/SaveGetCartAlert",data:{Domain:Shopify.shop,Number:orichiQuantityGetCartCount},type:"POST",success:function(res){},error:function(){}}),orichiQuantityGetCartCount=-1e4)}catch(error){}}}else{if(o$(OrichiQuantityButtonCheckOut).attr("disabled",!1),o$(OrichiQuantityButtonCheckOut).removeClass("orichi-quantity-button-disabled"),o$(OrichiQuantityButtonCheckOut).hasClass("OrichiDiscountLimitPopup")){if(o$(OrichiQuantityButtonCheckOut).removeClass("OrichiDiscountLimitPopup"),""!=OrichiOldCheckoutButtonText&&null!=OrichiOldCheckoutButtonText&&(o$(OrichiQuantityButtonCheckOut).attr("value",OrichiOldCheckoutButtonText),o$(OrichiQuantityButtonCheckOut).html(OrichiOldCheckoutButtonText),"1"==ordcGetPara("CA-CB-ManyReback")&&null!=OrichiOldCheckoutButtonsHtml))try{o$(OrichiQuantityButtonCheckOut).each((i,e)=>{o$(e).html(OrichiOldCheckoutButtonsHtml[i])})}catch(error){}o$(OrichiQuantityButtonCheckOut).attr("style",OrichiOldCheckoutButtonStyle)}orShopID(24576427)&&o$(".additional-checkout-buttons").show()}}function getCartInfo(){"use strict";return new Promise(resolve=>{OrichiQuantityGetCartInProcess=1,orichiQuantityGetCartCount++,o$.ajax({url:OrichiQuantityRequestUrl+"/GetCartInfo?shop="+Shopify.shop,data:{...OrichiQuantityCartInfo,ListItems:null},type:"POST",success:function(res){"1"!=ordcGetPara("CA-CB-Disable-Requesting")&&""==ordcGetPara("CA-CB-Disable-Changing")||o$(OrichiQuantityButtonCheckOut).last().parent().removeClass("orichi-quantity-prevent-pointer");try{OrichiQuantityLimitResult={ListLimitProduct:res.lstLimit,ListLimitVariant:res.lstVariants.filter(p=>null!=p.LimitVariant).map(p=>p.LimitVariant),ListLimitCollection:res.limitCollection},OrichiQuantityDiscountResult={Domain:Shopify.shop,Token:OrichiQuantityCartInfo.token,Discount:res.lstVariants.filter(p=>p.Price!=p.PriceNew).map(p=>({VariantID:p.Variant,ProductID:p.ProductCode,CampaignID:p.ID,CampaignName:p.CampaignName,Price:p.Price,PriceNew:p.PriceNew})),CreatedDate:Date.now(),Total:res.TotalPrice,TotalNew:res.TotalPriceNew,ListVariants:res.lstVariants.filter(p=>p.Price!=p.PriceNew).map(p=>p.Variant).join(",")}}catch(error){}res.lstVariants.forEach((function(element,index){if(0==element.PriceNew){var cartItem=OrichiQuantityCartInfo.ListItems.find(p=>p.product_id==element.ProductCode);null!=cartItem&&null!=cartItem&&null!=cartItem.discounts&&cartItem.discounts.length>0&&(element.Price=cartItem.final_price/100,res.TotalPrice=res.TotalPrice-(cartItem.price-cartItem.final_price)/100*cartItem.quantity,res.TotalPriceNew=res.TotalPriceNew-(cartItem.price-cartItem.final_price)/100*cartItem.quantity)}})),null!=OrichiQuantityCartInfo.DiscountShopify&&null!=OrichiQuantityCartInfo.DiscountShopify&&OrichiQuantityCartInfo.DiscountShopify.length>0&&("fixed_amount"==OrichiQuantityCartInfo.DiscountShopify[0].value_type&&(res.TotalPrice=res.TotalPrice-parseFloat(OrichiQuantityCartInfo.DiscountShopify[0].value),res.TotalPriceNew=res.TotalPriceNew-parseFloat(OrichiQuantityCartInfo.DiscountShopify[0].value)),"percentage"==OrichiQuantityCartInfo.DiscountShopify[0].value_type&&(res.TotalPrice=res.TotalPrice*(100-parseFloat(OrichiQuantityCartInfo.DiscountShopify[0].value))/100,res.TotalPriceNew=res.TotalPriceNew*(100-parseFloat(OrichiQuantityCartInfo.DiscountShopify[0].value))/100)),"1"==ordcGetPara("CA-PriceNew-Money-Round")&&res.lstVariants.forEach((function(element,index){1==element.PriceType&&(element.PriceNew=Math.round(element.Price*(100-element.PercentOrPrice))/100,element.OriginalPriceNew=Math.round(element.Price*(100-element.PercentOrPrice))/100,element.TotalNew=element.Quantity*Math.round(element.Price*(100-element.PercentOrPrice))/100,element.TotalSaved=element.Total-element.TotalNew)}));try{var listCapDiscount=[];if(res.lstVariants.forEach((function(element,index){if(element.ID>0){var checkCap=listCapDiscount.findIndex(p=>p.CampaignID==element.ID);checkCap<0?listCapDiscount.push({CampaignID:element.ID,CapDiscount:element.MaxDiscount,TotalInOrder:element.Quantity*(element.Price-element.PriceNew),ListLineItemIndex:[index]}):(listCapDiscount[checkCap].TotalInOrder+=element.Quantity*(element.Price-element.PriceNew),listCapDiscount[checkCap].ListLineItemIndex.push(index))}})),listCapDiscount.length>0)for(var i=0;i<listCapDiscount.length;i++)if(listCapDiscount[i].CapDiscount>0&&listCapDiscount[i].TotalInOrder>listCapDiscount[i].CapDiscount){for(var j=0;j<res.lstVariants.length;j++)listCapDiscount[i].ListLineItemIndex.includes(j)&&1!=res.lstVariants[j].IsCapDiscount&&(res.lstVariants[j].IsCapDiscount=!0);res.TotalPriceNew+=listCapDiscount[i].TotalInOrder-listCapDiscount[i].CapDiscount}}catch(e){}OrichiQuantityGetCartInProcess=0,OrichiQuantityGetCartErrorCount=0,resolve(res)},error:function(){"1"!=ordcGetPara("CA-CB-Disable-Requesting")&&""==ordcGetPara("CA-CB-Disable-Changing")||o$(OrichiQuantityButtonCheckOut).last().parent().removeClass("orichi-quantity-prevent-pointer"),console.log("Error when GetCartInfo."),OrichiQuantityGetCartInProcess=0,OrichiQuantityGetCartErrorCount++,resolve(null)}})})}async function OrichiCheckLimitRule(CartSelector){OrichiQuantityInProcess=1,OrichiQuantityTimeProcess=Date.now(),o$(OrichiQuantityButtonCheckOut).addClass("orichi-quantity-button-disabled"),orShopID(24576427)&&o$(".additional-checkout-buttons").hide(),o$(CartSelector).find(".orichi-quantity-cart").remove(),o$(CartSelector).find(".orichi-up-sale,.orichi-up-sell-wrapper").remove(),OrichiQuantityGetCartErrorCount<3&&null!=OrichiQuantityCartInfo&&OrichiQuantityCartInfo.Variants.length>0&&(null==OrichiQuantityListLimitPurchase||null==OrichiQuantityListLimitPurchase)?1==OrichiQuantityGetCartInProcess||(OrichiQuantityListLimitPurchase=await getCartInfo(),CheckLimitRuleInside(CartSelector),OrichiQuantityInProcess=0):(CheckLimitRuleInside(CartSelector),OrichiQuantityInProcess=0)}function orichiRemoveDiscountCode(e){o$(e).parent().remove(),o$("input.orichi-quantity-DiscountCode").val(""),o$(".orichi-subtotal").html(ShopifyFormatMoney(100*OrichiQuantityListLimitPurchase.TotalPriceNew,OrichiQuantityListLimitPurchase.Currency))}function orichiCheckDiscountCode(btnSelector){var formSelector=o$(btnSelector).parent();o$(formSelector).find(".orichi-quantity-discountNoti").remove();var PriceVariantNew=OrichiQuantityListLimitPurchase.lstVariants&&OrichiQuantityListLimitPurchase.lstVariants.length>0?OrichiQuantityListLimitPurchase.lstVariants.reduce((total,item)=>[...total,{ProductCode:item.ProductCode,TotalPriceNew:item.TotalNew,Variant:item.Variant,Quantity:item.Quantity}],[]):[];o$.ajax({url:OrichiQuantityRequestUrl+"/CheckDiscountCode",data:{...OrichiQuantityCartInfo,code:o$(formSelector).find(".orichi-quantity-DiscountCode").val(),shopid:__st.a,shop:Shopify.shop,TotalPriceNew:OrichiQuantityListLimitPurchase.TotalPriceNew,ApplyShopifyDiscountCode:OrichiQuantitySettingInfo.Setting.ApplyShopifyDiscountCode,PriceVariantNew:PriceVariantNew},type:"POST",success:function(res){var textApply=OrichiQuantitySettingInfo.Setting2.TextApply,textAfterPercent="",textBaseon=OrichiQuantitySettingInfo.Setting2.TextBaseOn,textDiscountCode=OrichiQuantitySettingInfo.Setting2.TextDiscountCode,textDiscountCodeUnavailable=OrichiQuantitySettingInfo.Setting2.TextDiscountCodeNotAvailable,priceTotal=OrichiQuantityListLimitPurchase.TotalPriceNew,htmlRemoveButton='<p onclick="orichiRemoveDiscountCode(this)"><span class="orichi-quantity_contentDiscountcode">X</span></p>';if("1"!=ordcGetPara("CA-DC-BtnRemove")&&(htmlRemoveButton=""),"1"==ordcGetPara("CA-ShopifyDiscount-NotAppliedOrichi")&&(priceTotal=OrichiQuantityListLimitPurchase.TotalPrice),res.IsSuccess)if("line_item"==res.Discount.TargetType)if("percentage"==res.Discount.DiscountType){o$(formSelector).find(".orichi-buttonCheckDiscount").after('<div class="orichi-quantity-discountNoti">'+htmlRemoveButton+'<p style="display: block;">'+res.Discount.Value+"%  </p><p>"+textBaseon+'<span class="orichi-quantity_contentDiscountcode">'+o$(formSelector).find(".orichi-quantity-DiscountCode").val()+"</span></p></div>");var totalPriceAppliedDiscount=100*priceTotal-100*res.DiscountPrice;o$(".orichi-subtotal").html(ShopifyFormatMoney(totalPriceAppliedDiscount,OrichiQuantityListLimitPurchase.Currency)),o$(".orichi-subtotal-saved-price").html(ShopifyFormatMoney(100*OrichiQuantityListLimitPurchase.TotalPrice-100*priceTotal+100*res.DiscountPrice,OrichiQuantityListLimitPurchase.Currency))}else{o$(formSelector).find(".orichi-buttonCheckDiscount").after('<div class="orichi-quantity-discountNoti">'+htmlRemoveButton+'<p style="display: block;">'+ShopifyFormatMoney(100*res.Discount.Value,OrichiQuantityListLimitPurchase.Currency)+"</p><p>"+textBaseon+'<span class="orichi-quantity_contentDiscountcode">'+o$(formSelector).find(".orichi-quantity-DiscountCode").val()+"</span></p></div>");var totalPriceAppliedDiscount=100*priceTotal-100*res.DiscountPrice;o$(".orichi-subtotal").html(ShopifyFormatMoney(totalPriceAppliedDiscount,OrichiQuantityListLimitPurchase.Currency)),o$(".orichi-subtotal-saved-price").html(ShopifyFormatMoney(100*OrichiQuantityListLimitPurchase.TotalPrice-100*priceTotal+100*res.DiscountPrice,OrichiQuantityListLimitPurchase.Currency))}else"shipping_line"==res.Discount.TargetType&&("percentage"==res.Discount.DiscountType?o$(formSelector).find(".orichi-buttonCheckDiscount").after('<div class="orichi-quantity-discountNoti">'+htmlRemoveButton+'<p style="display: block;">'+res.Discount.Value+"%  shipping fee</p><p>"+textBaseon+'<span class="orichi-quantity_contentDiscountcode">'+o$(formSelector).find(".orichi-quantity-DiscountCode").val()+"</span></p></div>"):o$(formSelector).find(".orichi-buttonCheckDiscount").after('<div class="orichi-quantity-discountNoti">'+htmlRemoveButton+'<p style="display: block;">'+ShopifyFormatMoney(100*res.Discount.Value,OrichiQuantityListLimitPurchase.Currency)+"  shipping fee</p><p>"+textBaseon+'<span class="orichi-quantity_contentDiscountcode">'+o$(formSelector).find(".orichi-quantity-DiscountCode").val()+"</span></p></div>"));else o$(formSelector).find(".orichi-buttonCheckDiscount").after('<span class="orichi-quantity-discountNoti orichi-quantity-textdanger">'+textDiscountCodeUnavailable+"</span>")}})}function orichiCheckDiscountCodeNoDiscount(btnSelector){var formSelector=o$(btnSelector).parent(),code=o$(formSelector).find(".orichi-quantity-DiscountCode").val();window.location.href="/discount/"+code}async function orichiCartInterval(){if(0==OrichiQuantityInProcess||Date.now()-OrichiQuantityTimeProcess>1e4){var checkOrichiQuantityCartInfoUndefined=null==OrichiQuantityCartInfo,checkHasShopifyDiscount=!1;let arrCheck=await getVariants();(orShopID(52499873959)||orShopID(56124080189))&&(arrCheck.Prices=arrCheck.FinalPrices);var changeCart=!1;try{changeCart=null==OrichiQuantityCartInfo||JSON.stringify({DiscountShopify:arrCheck.DiscountShopify,Variants:arrCheck.Variants,Quantities:arrCheck.Quantities,customerEmail:arrCheck.customerEmail})!=JSON.stringify({DiscountShopify:OrichiQuantityCartInfo.DiscountShopify,Variants:OrichiQuantityCartInfo.Variants,Quantities:OrichiQuantityCartInfo.Quantities,customerEmail:OrichiQuantityCartInfo.customerEmail})}catch(error){}if(OrichiQuantityCartInfo=arrCheck,OrichiQuantityHasUpsell=!1,changeCart){o$(".orichi-limit-text-custom").remove(),o$(".orichi-quantity-line-through").each((function(index,element){o$(element).removeClass("orichi-quantity-line-through"),o$(element).removeAttr("style")})),"1"==ordcGetPara("CA-CB-Disable-Requesting")&&o$(OrichiQuantityButtonCheckOut).last().parent().addClass("orichi-quantity-prevent-pointer"),OrichiQuantityListLimitPurchase=void 0,OrichiQuantityListLimitPurchase=OrichiQuantityCartInfo.Variants.length>0?await getCartInfo():{lstVariants:[],Total:0,TotalPrice:0,TotalPriceNew:0,Currency:"{{amount}}",lstLimit:[],limitCollection:[],discountOntotal:null};try{OrichiQuantityCartInfo.ListItems.filter(p=>null!=p.discounts&&p.discounts.length>0).length>0&&(checkHasShopifyDiscount=!0),null!=OrichiQuantityCartInfo.DiscountShopify&&OrichiQuantityCartInfo.DiscountShopify.length>0&&(checkHasShopifyDiscount=!0)}catch(e){}orShopID(62134386882)&&(orichiQuantityCountCheckLimit=0)}o$(OrichiQuantityFormSelector).each((function(index,element){(changeCart||0==o$(element).find("*").find(".orichi-quantity-cart").length&&OrichiQuantityHasRule&&!o$(element).hasClass("OrichiChecked"))&&(o$(element).addClass("OrichiChecked"),void 0!==jQuery("a").getPath?OrichiCheckLimitRule(o$(element).getPath()):OrichiCheckLimitRule(element)),"1"==ordcGetPara("CA-ReCheck-Limit-InValid")&&OrichiQuantityHasLimit&&o$(OrichiQuantityButtonCheckOut).length>0&&!o$(OrichiQuantityButtonCheckOut).hasClass("OrichiDiscountLimitPopup")&&OrichiCheckLimitRule(element),"1"==ordcGetPara("CA-ReCheck-Rule-NoSub")&&OrichiQuantityHasRule&&0==o$(".orichi-subtotal").length&&OrichiCheckLimitRule(element),"1"==ordcGetPara("CA-ReCheck-Rule-NoPrice")&&OrichiQuantityHasRule&&0==o$(".orichi-quantity-cart-price").length&&OrichiCheckLimitRule(element),"1"==ordcGetPara("CA-ReCheck-Rule-NoTextD")&&OrichiQuantityHasRule&&o$(element).hasClass("OrichiChecked")&&0==o$(element).find(".orichi-notification-ajaxcart").length&&OrichiCheckLimitRule(element),"1"==ordcGetPara("CA-ReCheck-Upsell-NoText")&&OrichiQuantityHasUpsell&&0==o$(".orichi-up-sell").length&&OrichiCheckLimitRule(element),"true"==ordcGetPara("Pro-QC-S")&&changeCart&&o$(orichiQuantityInputQuantity).change(),orShopID(43464229017)&&"slidecarthq"==o$(element).attr("id")&&OrichiQuantityHasRule&&o$(element).hasClass("OrichiChecked")&&0==o$(element).find(".orichi-notification-ajaxcart").length&&OrichiCheckLimitRule(element),OrichiQuantityHasRule&&0==o$(".orichi-quantity-cart").length&&OrichiCheckLimitRule(element),OrichiQuantityHasLimit&&0==o$(".OrichiDiscountLimitPopup").length&&o$(OrichiQuantityButtonCheckOut).length>0&&OrichiCheckLimitRule(element),OrichiQuantityHasLimit&&o$("#wof_checkout_btn").length>0&&!o$("#wof_checkout_btn").hasClass("OrichiDiscountLimitPopup")&&OrichiCheckLimitRule(element),orShopID(62134386882)&&(!OrichiQuantityHasRule&&o$("#rebuy-cart").length>0&&0==o$("#rebuy-cart .orichi-up-sale").length||OrichiQuantityHasRule&&o$("#rebuy-cart").length>0&&(0==o$("#rebuy-cart .orichi-up-sale").length||0==o$("#rebuy-cart .orichi-subtotal").length||0==o$("#rebuy-cart .orichi-notification-ajaxcart").length))&&(orichiQuantityCountCheckLimit++,OrichiCheckLimitRule(element)),orShopID(65454211288)&&OrichiQuantityHasRule&&!o$(".totals__subtotal-value").hasClass("orichi-quantity-line-through")&&o$(".orichi-subtotal").length>0&&o$(".totals__subtotal-value").addClass("orichi-quantity-line-through"),checkHasShopifyDiscount&&(o$(".orichi-quantity-DiscountCode-area").hide(),o$(".cart-item__discounted-prices").each((function(){o$(this).find(".orichi-quantity-cart-price").length>0&&(o$(this).find("s.cart-item__old-price").css("text-decoration","none"),o$(this).find("dd.price--end").css("text-decoration","line-through"))}))),orShopID(65425965273)&&(OrichiQuantityHasRule||o$(".orichi-subtotal").remove(),changeCart&&o$(".orichi-subtotal").remove(),OrichiQuantityHasRule&&0==o$(".orichi-subtotal").length&&OrichiCheckLimitRule(element)),orShopID(30259740717)&&o$(OrichiQuantityButtonCheckOut).hasClass("orichi-quantity-button-disabled")&&(o$(OrichiQuantityButtonCheckOut).removeAttr("href"),o$(OrichiQuantityButtonCheckOut).removeAttr("data-ocu-checkout")),orShopID(56919916592)&&0==o$(".cart-summary__buttons .Orichi-checkout-button").length&&(o$('.cart-form .cart-summary__buttons [name="checkout"]').hide(),o$('.cart-form .cart-summary__buttons [name="checkout"]').after('<button type="button" class="btn wide Orichi-checkout-button">\n                <span class="button-text">Checkout</span>\n                <span class="loading-spinner"></span>\n              </button>')),orShopID(56919916592)&&0==o$(".cart-buttons .Orichi-checkout-button").length&&(o$('.cart-buttons [name="checkout"]').hide(),o$('.cart-buttons [name="checkout"]').after('<button class="checkout-button checkout-button--lower Orichi-checkout-button" type="button">Checkout</button>')),orShopID(62134386882)&&(OrichiQuantityHasRule?(o$(".rebuy-cart__flyout-item-price .orichi-quantity-cart-price").each((function(){o$(this).parent().find(".rebuy-money").addClass("orichi-hidden")})),o$(".rebuy-cart__flyout-subtotal .orichi-subtotal").each((function(){o$(this).parent().find(".rebuy-cart__flyout-subtotal-amount").addClass("orichi-hidden")})),o$(".rebuy-cart__flyout-item-price").each((function(){0==o$(this).find(".orichi-quantity-cart-price").length&&o$(this).find(".orichi-hidden").each((function(){o$(this).removeClass("orichi-hidden")}))})),o$(".rebuy-cart__flyout-subtotal").each((function(){0==o$(this).find(".orichi-subtotal").length&&o$(this).find(".orichi-hidden").each((function(){o$(this).removeClass("orichi-hidden")}))}))):o$(".orichi-hidden").each((function(){o$(this).removeClass("orichi-hidden")})))}))}}function orichiCartAjaxInit(){var check=0;o$.ajax({url:OrichiQuantityRequestUrl+"/GetSettingInfo",data:{id:__st.a,shop:Shopify.shop,languageCode:orichiQuantitylanguageCode},type:"POST",success:function(res){null==res.Setting.LimitOrderBackgroundColorButtonOK&&(res.Setting.LimitOrderBackgroundColorButtonOK=res.Setting.LimitOrderBackgroundColorButtonOk,res.Setting.LimitOrderTextColorButtonOK=res.Setting.LimitOrderTextColorButtonOK,res.Setting.ShopID=res.Setting.ShopId,res.Setting.LimitOrderTextButtonOK=res.Setting.LimitOrderTextButtonOk),OrichiQuantitySettingInfo=res;try{orichiQuantityParameter=res.Parameter.reduce((obj,item)=>Object.assign(obj,{[item.Type]:item.Value}),{})}catch(error){}if(res.Setting.ShopID>28458&&(OrichiQuantityRequestUrl="https://discount.orichicommerce.com/Customer"),"1"==ordcGetPara("Var-APIUrl-SetOld")&&(OrichiQuantityRequestUrl="https://discount.orichi.info/Customer"),null!=res.Setting&&res.Setting.Active){if(o$("body").append("<style>"+res.Setting.CustomCssCart+"</style>"),o$("body").append("<script>"+res.Setting.CustomJsCart+"<\/script>"),0==o$(".orichiWrapperPop").length&&(""==ordcGetPara("CA-CF-Modal-HideBtn")?o$("body").append('<div class="orichiWrapperPop" style="display: none;"><div class="orichiPopupHeader">'+res.Setting.PopupLimitOrderIsNotValid+'</div><hr/><div class="orichiPopupBody"></div><hr/><div class="orichiPopupFooter"><a onclick="OrichiDiscountHideModal()" class="orichiPopupDismiss">'+res.Setting.LimitOrderTextButtonOK+'</a></div></div><div class="orichiBackgroundOver"  style="display: none;"></div>'):o$("body").append('<div class="orichiWrapperPop" style="display: none;"><div class="orichiPopupHeader">'+res.Setting.PopupLimitOrderIsNotValid+'</div><hr/><div class="orichiPopupBody"></div><hr/><div class="orichiPopupFooter"><button type="button" onclick="OrichiDiscountHideModal()" class="orichiPopupDismiss">'+res.Setting.LimitOrderTextButtonOK+'</button></div></div><div class="orichiBackgroundOver"  style="display: none;"></div>')),""!=ordcGetPara("CA-Curr-Set")&&(orichiShopifyCurrencyRate=ordcGetPara("CA-Curr-Set")),""!=ordcGetPara("CA-CF-A-Selector")&&(OrichiQuantityFormSelector+=","+ordcGetPara("CA-CF-A-Selector")),""!=ordcGetPara("CA-CF-R-Selector")&&(OrichiQuantityFormSelector=ordcGetPara("CA-CF-R-Selector")),""!=ordcGetPara("CA-CB-A-Selector")&&(OrichiQuantityButtonCheckOut+=","+ordcGetPara("CA-CB-A-Selector")),""!=ordcGetPara("CA-CB-R-Selector")&&(OrichiQuantityButtonCheckOut=ordcGetPara("CA-CB-R-Selector")),"cart"!=__st.p&&""!=ordcGetPara("CA-CB-R-SelectorIframe")&&setInterval((function(){$(ordcGetPara("CA-CB-R-SelectorIframe")).contents().find(ordcGetPara("CA-CB-R-SelectorIframe-Button")).length>0&&(OrichiQuantityButtonCheckOut=$(ordcGetPara("CA-CB-R-SelectorIframe")).contents().find(ordcGetPara("CA-CB-R-SelectorIframe-Button")))}),100),"1"==ordcGetPara("Sys-Request-Url")&&(OrichiQuantityRequestUrl="/apps/orichi-discount/Customer"),""!=ordcGetPara("All-Campaign-Append-Selector")){var camAppendSec=ordcGetPara("All-Campaign-Append-Selector"),camAppendId=ordcGetPara("All-Campaign-Append-Id"),camAppendProductId=ordcGetPara("All-Campaign-Append-ProductId");82319409469==__st.a&&null!=typeof product_id&&__st.pageurl.indexOf("/apps/")>0&&(camAppendProductId=product_id),o$(camAppendSec).append('<div class="orichiCampaignCustom" data-productid="'+camAppendProductId+'" data-campaignid="'+camAppendId+'"></div>'),OrichiCustomCampaignInit()}if("1"==ordcGetPara("CA-CB-RemoveLoading")&&setInterval((function(){o$(OrichiQuantityButtonCheckOut).hasClass("orichi-quantity-button-disabled")&&(o$(OrichiQuantityButtonCheckOut).attr("disabled",!1),o$(OrichiQuantityButtonCheckOut).removeClass("btn--loading"))}),100),""!=ordcGetPara("CA-CB-Disable-Changing")){let orichiQuantityDisableChangingSelector=ordcGetPara("CA-CB-Disable-Changing");o$(document).on("click",orichiQuantityDisableChangingSelector,(function(e){o$(OrichiQuantityButtonCheckOut).last().parent().addClass("orichi-quantity-prevent-pointer"),setTimeout(()=>{o$(OrichiQuantityButtonCheckOut).last().parent().removeClass("orichi-quantity-prevent-pointer")},2e3)}))}if(""!=ordcGetPara("CA-Note-Submit")){let orichiNoteSelector=ordcGetPara("CA-Note-Submit");o$(document).on("change focusout blur",orichiNoteSelector,(function(e){jQuery.post("/cart/update.js",{note:o$(orichiNoteSelector).val()})}))}if(""!=ordcGetPara("CA-LineItem-CheckDiscount")&&ordcCheckItemDiscount(ordcGetPara("CA-LineItem-CheckDiscount")),(res.Setting.ShopID>orichiQuantityShopID160||"1"==ordcGetPara("CA-CC-NoInterval"))&&""==ordcGetPara("CA-CC-Interval")){orichiCartInterval();try{var cartI=function(){try{let orichiCountInterval=0;const orichiintervalId=setInterval(()=>{orichiCountInterval++,orichiCartInterval(),4===orichiCountInterval&&clearInterval(orichiintervalId)},500)}catch(w){}},q=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(){this.addEventListener("loadend",(function(){this._url&&this._url.search(/cart.*js|cart\/add|cart\/change/)>=0&&"GET"!=(null==this._method?"":this._method).toUpperCase()&&cartI()})),q.apply(this,arguments)}}catch(s){}try{var cartI2=function(){try{let orichiCountInterval=0;const orichiintervalId=setInterval(()=>{orichiCountInterval++,orichiCartInterval(),4===orichiCountInterval&&clearInterval(orichiintervalId)},500)}catch(w){}},t=fetch;if(fetch=function(e,o){var r=!1;e&&"function"==typeof e.search&&(e.search(/cart.*js|cart\/add|cart\/change/)>=0||e.search("/api/2023-07/graphql.json")>=0)&&e.search("ba_request")<0&&o&&("POST"==(null==o.method?"":o.method).toUpperCase()||"PUT"==(null==o.method?"":o.method).toUpperCase())&&(console.log("caught a fetch cart event",e,o),r=!0);var n=t(e,o);return n.then((function(){r&&(orichiCartInterval(),cartI2())})),n},"undefined"!=typeof ShopifyAPI&&null!=ShopifyAPI.changeItem&&ShopifyAPI.changeItem.toString().indexOf("orichiCartInterval")<0){var z=ShopifyAPI.changeItem;ShopifyAPI.changeItem=function(line,quantity,callback){z(line,quantity,callback);try{setTimeout((function(){orichiCartInterval()}),500)}catch(error){}}}}catch(A){console.log(A),console.log("error catching cart fetch")}if(""!=ordcGetPara("CA-CF-CheckL-Click")){var CheckLClickSelector=ordcGetPara("CA-CF-CheckL-Click");o$(document).on("click",CheckLClickSelector,(function(e){let orichiCountInterval=0;const orichiintervalCheckLClick=setInterval(()=>{orichiCountInterval++,o$(OrichiQuantityFormSelector).each((function(index,element){OrichiCheckLimitRule(element)})),10===orichiCountInterval&&clearInterval(orichiintervalCheckLClick)},100)}))}if(""!=ordcGetPara("CA-CF-CheckL-Change")){var CheckLChangeSelector=ordcGetPara("CA-CF-CheckL-Change");o$(document).on("change",CheckLChangeSelector,(function(e){let orichiCheckLChangeCountInterval=0;const orichiintervalCheckLChange=setInterval(()=>{orichiCheckLChangeCountInterval++,o$(OrichiQuantityFormSelector).each((function(index,element){OrichiCheckLimitRule(element)})),5===orichiCheckLChangeCountInterval&&clearInterval(orichiintervalCheckLChange)},200)}))}if(""!=ordcGetPara("CA-CB-Disable-Clicking")){var CheckDisableClickingSelector=ordcGetPara("CA-CB-Disable-Clicking");o$(document).on("click",CheckDisableClickingSelector,(function(e){o$(OrichiQuantityButtonCheckOut).each((function(index,element){o$(element).parent().parent().addClass("orichi-quantity-prevent-pointer")})),setTimeout(()=>{o$(OrichiQuantityButtonCheckOut).each((function(index,element){o$(element).parent().parent().removeClass("orichi-quantity-prevent-pointer")}))},1e3)})).on("keyup",CheckDisableClickingSelector,(function(e){o$(OrichiQuantityButtonCheckOut).each((function(index,element){o$(element).parent().parent().addClass("orichi-quantity-prevent-pointer")})),setTimeout(()=>{o$(OrichiQuantityButtonCheckOut).each((function(index,element){o$(element).parent().parent().removeClass("orichi-quantity-prevent-pointer")}))},1e3)}))}if("true"==ordcGetPara("CA-CF-New-Check"))var timer1=setInterval((function(){o$(OrichiQuantityFormSelector).each((function(index,element){o$(element).hasClass("OrichiChecked")||(o$(element).addClass("OrichiChecked"),OrichiCheckLimitRule(element))}))}),100);if("true"==ordcGetPara("CA-CFAny-New-Check"))var timer2=setInterval((function(){0==o$(".orichi-quantity-cart-price").length&&0==o$(".orichi-subtotal").length&&o$(OrichiQuantityFormSelector).each((function(index,element){OrichiCheckLimitRule(element)}))}),100);if("true"==ordcGetPara("CA-SUBTT-New-Check")||"1"==ordcGetPara("CA-ReCheck-Rule-NoSub"))var timer3=setInterval((function(){o$(".orichi-quantity-cart-price").length>0&&0==o$(".orichi-subtotal").length&&o$(OrichiQuantityFormSelector).each((function(index,element){OrichiCheckLimitRule(element)}))}),100);if("true"==ordcGetPara("CA-PriceItem-New-Check"))var timer4=setInterval((function(){0==o$(".orichi-quantity-cart-price").length&&o$(".orichi-subtotal").length>0&&o$(OrichiQuantityFormSelector).each((function(index,element){OrichiCheckLimitRule(element)}))}),100);if(""!=ordcGetPara("CA-PriceItem-New-Check-Selector"))var timer4=setInterval((function(){let selector=ordcGetPara("CA-PriceItem-New-Check-Selector");0==o$(selector).find(".orichi-quantity-cart-price").length&&o$(selector).find(".orichi-subtotal").length>0&&OrichiCheckLimitRule(element)}),100);if("true"==ordcGetPara("CA-CF-Limit-CheckInterval"))var timer5=setInterval((function(){OrichiQuantityHasLimit&&0==o$(".OrichiDiscountLimitPopup").length&&o$(OrichiQuantityFormSelector).each((function(index,element){OrichiCheckLimitRule(element)}))}),50);if("1"==ordcGetPara("CA-CF-LimitCB-CheckInterval"))var timer7=setInterval((function(){OrichiQuantityHasLimit&&o$(OrichiQuantityButtonCheckOut).each((function(index,element){o$(this).hasClass("OrichiDiscountLimitPopup")||OrichiCheckLimitRule(element)}))}),50);if("1"==ordcGetPara("CA-CF-Discount-CheckInterval"))var timer5=setInterval((function(){!OrichiQuantityHasRule&&o$(".orichi-quantity-cart").length>0&&(o$(".orichi-quantity-cart").remove(),o$(".orichi-limit-text-custom").remove(),o$(".orichi-quantity-line-through").each((function(index,element){o$(element).removeClass("orichi-quantity-line-through"),o$(element).removeAttr("style")})))}),1e3)}else{var timer=setInterval((function(){0==check&&o$(OrichiQuantityFormSelector).length>0&&(check=1,clearInterval(timer),orichiCartInterval(),setInterval((async function(){orichiCartInterval()}),1e3))}),20);if("1"==ordcGetPara("CA-CF-LimitCB-CheckInterval"))var timer7=setInterval((function(){OrichiQuantityHasLimit&&o$(OrichiQuantityButtonCheckOut).each((function(index,element){o$(this).hasClass("OrichiDiscountLimitPopup")||OrichiCheckLimitRule(element)}))}),50)}if("1.0"==orichiShopifyCurrencyRate&&null!=res.DiscountTag&&null!=res.DiscountTag&&2!=res.Setting.PlanNumber&&["collection","product","home","searchresults"].indexOf(__st.p)>=0&&void 0!==orichiCheckProductLabel&&(orichiCheckProductLabel(),orichiCheckDiscountRange(),"1"==ordcGetPara("Col-ProductTagRange-SupportAjaxLoad-New"))){let orichiCheckProductTagRangeAjaxInterval=0;const orichiintervalProductTagRangeAjax=setInterval((function(){orichiCheckProductTagRangeAjaxInterval++,orichiCheckProductLabel(),orichiCheckDiscountRange(),100==orichiCheckProductTagRangeAjaxInterval&&clearInterval(orichiintervalProductTagRangeAjax)}),3e3)}if(""==ordcGetPara("CA-CB-NoEvent")&&(o$(document).on("click",OrichiQuantityButtonCheckOut,(function(e){var checkBuunto;if(""==ordcGetPara("CA-CB-NotPreventDefault")&&e.preventDefault(),orShopID(43464229017)&&e.stopPropagation(),orShopID(56599871581)||orShopID(45956006042))null!=window.Buunto.datePicker.checkErrors&&((checkBuunto=window.Buunto.datePicker.checkErrors())?o$(this).removeClass("btn--loading"):OrichiCheckOutBound(e));else if(orShopID(59633795269)){var checkBuunto;if(null!=window.Buunto.datePicker.checkErrors)(checkBuunto=window.Buunto.datePicker.checkErrors())?alert("Please select a date before checking out."):OrichiCheckOutBound(e)}else orShopID(2747513)&&!orichiQuantityIsCartPage?o$(OrichiQuantityButtonCheckOut).hasClass("OrichiDiscountLimitPopup")||OrichiCheckOutBound(e):orShopID(6728351828)?o$('[name="agree_checkbox"]:checked').length>0?o$(OrichiQuantityButtonCheckOut).hasClass("OrichiDiscountLimitPopup")?OrichiDiscountShowModal(OrichiDiscountPopupContent,!0):OrichiCheckOutBound(e):o$(".hdt-cart-checkbox").addClass("is-uncheck"):o$(OrichiQuantityButtonCheckOut).hasClass("OrichiDiscountLimitPopup")?OrichiDiscountShowModal(OrichiDiscountPopupContent,!0):OrichiCheckOutBound(e);if(orShopID(43464229017))return!1})),document.addEventListener("click",(function(e){if(!(orShopID(2747513)||orShopID(43464229017)||orShopID(52499873959)||orShopID(56124080189)||orShopID(50893291690))){if(e.target.matches(OrichiQuantityButtonBuyNow))return""==ordcGetPara("CA-CB-NotPreventDefault")&&e.preventDefault(),void OrichiBuyItNowRedirect();if(orShopID(64385777919)&&"string"==typeof OrichiQuantityButtonCheckOut&&e.target.matches(OrichiQuantityButtonCheckOut))o$(OrichiQuantityButtonCheckOut).hasClass("OrichiDiscountLimitPopup")?OrichiDiscountShowModal(OrichiDiscountPopupContent,!0):"handleFloCheckoutBtn()"==o$(e.target).attr("onclick")&&null!=handleFloCheckoutBtn?handleFloCheckoutBtn():OrichiCheckOutBound(e);else if("string"==typeof OrichiQuantityButtonCheckOut&&e.target.matches(OrichiQuantityButtonCheckOut)&&56599871581!=__st.a){var checkBuunto;if(""==ordcGetPara("CA-CB-NotPreventDefault")&&e.preventDefault(),orShopID(56599871581)||orShopID(45956006042)){if(null!=window.Buunto.datePicker.checkErrors)window.Buunto.datePicker.checkErrors()?o$(this).removeClass("btn--loading"):OrichiCheckOutBound(e)}else orShopID(6728351828)?o$('[name="agree_checkbox"]:checked').length>0?o$(OrichiQuantityButtonCheckOut).hasClass("OrichiDiscountLimitPopup")?OrichiDiscountShowModal(OrichiDiscountPopupContent,!0):OrichiCheckOutBound(e):o$(".hdt-cart-checkbox").addClass("is-uncheck"):o$(OrichiQuantityButtonCheckOut).hasClass("OrichiDiscountLimitPopup")?""!=OrichiDiscountPopupContent&&OrichiDiscountShowModal(OrichiDiscountPopupContent,!0):OrichiCheckOutBound(e)}null!=o$(e.target)&&o$(e.target).hasClass("cart__ctas")&&o$(OrichiQuantityButtonCheckOut).hasClass("OrichiDiscountLimitPopup")&&""!=OrichiDiscountPopupContent&&OrichiDiscountShowModal(OrichiDiscountPopupContent,!0);try{orShopID(56877875223)||orShopID(56775999639)||o$(e.target)[0]!==o$(OrichiQuantityButtonCheckOut).parent()[0]&&o$(e.target)[0]!==o$(OrichiQuantityButtonCheckOut).parent().parent()[0]&&o$(e.target)[0]!==o$(OrichiQuantityButtonCheckOut).parent().parent().parent()[0]&&o$(e.target)[0]!==o$(OrichiQuantityButtonCheckOut).parent().parent().parent().parent()[0]||""!=OrichiDiscountPopupContent&&OrichiDiscountShowModal(OrichiDiscountPopupContent,!0)}catch(error){}}}))),o$(document).on("click",OrichiQuantityButtonBuyNow,(function(e){""==ordcGetPara("CA-CB-NotPreventDefault")&&(e.preventDefault(),e.stopPropagation()),OrichiBuyItNowRedirect()})),orShopID(43464229017)&&setInterval((function(){o$('#slidecart-checkout-form [name="checkout"]').length>0&&0==o$("#slidecart-checkout-form .Orichi-dynamic-checkout-button").length&&o$('#slidecart-checkout-form [name="checkout"]').after('<button type="button" class="button full Orichi-dynamic-checkout-button" style="">Jetzt sicher zu Kasse</button>'),o$('#slidecart-checkout-form [name="checkout"]').hide()}),10),"1"==ordcGetPara("CA-BN-Override")&&setInterval((function(){o$(OrichiQuantityButtonBuyNow).length>0&&0==o$(OrichiQuantityButtonBuyNow).first().parent().find(".Orichi-dynamic-checkout-button").length&&(o$(OrichiQuantityButtonBuyNow).first().css("position","relative"),o$(OrichiQuantityButtonBuyNow).first().prepend('<div class="Orichi-dynamic-checkout-button" style="\n                            position: absolute;\n                            height: 100%;\n                            width: 100%;\n                            display: block;\n                            z-index: 2;\n                            cursor: pointer;\n                            background: transparent!important;\n                            color: transparent !important;\n                        "></div>'))}),100),""!=ordcGetPara("Pro-BN-Override")){var proBuyNowSelector=ordcGetPara("Pro-BN-Override");setInterval((function(){o$(proBuyNowSelector).length>0&&0==o$(proBuyNowSelector).first().parent().find(".orichi-buynow").length&&(o$(proBuyNowSelector).first().css("position","relative"),o$(proBuyNowSelector).first().prepend('<div class="orichi-buynow" style="\n                            position: absolute;\n                            height: 100%;\n                            width: 100%;\n                            display: block;\n                            z-index: 2;\n                            cursor: pointer;\n                            background: transparent!important;\n                            color: transparent !important;\n                        "></div>'))}),100)}}}}),window.location.href.indexOf("?a=orichi")>=0&&alert("Development mode.")}function OrichiCheckOutBound(e){try{OrichiQuantityCheckoutInProcessCount++,(0==OrichiQuantityCheckoutInProcess||OrichiQuantityCheckoutInProcessCount>2)&&(OrichiQuantityCheckoutInProcess=1,window.Zapiet&&window.ZapietCachedSettings?Zapiet.Widget&&Zapiet.Widget.checkoutEnabled&&!Zapiet.Widget.checkoutEnabled()?ZapietEvent.fire("checkout_error","Please select a date/time"):OrichiCheckOut(e):""!=ordcGetPara("CA-CB-3Party")?o$(ordcGetPara("CA-CB-3Party")).find(e.target).length>0||OrichiCheckOut(e):""!=ordcGetPara("CA-CB-CheckTerm")&&"rale-checkbox"==ordcGetPara("CA-CB-CheckTerm")&&(o$(e).parent().find(".rale-checkout--invisible").length>0||o$(e.target).parent().find(".rale-checkout--invisible").length>0)?alert("Please agree to the terms and conditions before making a purchase!"):OrichiCheckOut(e))}catch(error){OrichiCheckOut(e)}}async function OrichiCheckOut(e){if("vikings-of-valhalla-shop.myshopify.com"==Shopify.shop&&null==OrichiQuantityListLimitPurchase&&(OrichiQuantityListLimitPurchase=await getCartInfo()),null==OrichiQuantityListLimitPurchase||null==OrichiQuantityListLimitPurchase.lstVariants||OrichiQuantityListLimitPurchase.TotalPrice==OrichiQuantityListLimitPurchase.TotalPriceNew||"1.0"!=orichiShopifyCurrencyRate){if(OrichiQuantityCheckoutInProcess=0,"vikings-of-valhalla-shop.myshopify.com"==Shopify.shop&&null==OrichiQuantityListLimitPurchase)return;return"1"==ordcGetPara("CA-CB-NoDiscount-Submit")?void o$(OrichiQuantityButtonCheckOut).submit():orShopID(36070359178)?void(window.location.href=window.location.origin+Shopify.routes.root+"checkout"):"false"==ordcGetPara("CA-CO-LAN")?void(window.location.href=window.location.origin+"/checkout"):"true"==ordcGetPara("CA-CO-LAN")||OrichiQuantitySettingInfo.Setting.ShopID>orichiQuantityShopID160?void(window.location.href=window.location.origin+"/checkout?locale="+Shopify.locale):void(window.location.href=window.location.origin+"/checkout")}{var lstPriceNew=OrichiQuantityListLimitPurchase.lstVariants.map(a=>a.PriceNew.toFixed(2)),lstPrice=OrichiQuantityListLimitPurchase.lstVariants.map(a=>a.Price),freeshipping=!1,discountShopifyTitle="",discountShopifyType="",discountShopifyValue="";if(null!=Shopify.currency&&null!=Shopify.currency.rate&&"1.0"!=orichiShopifyCurrencyRate&&(lstPriceNew=OrichiQuantityListLimitPurchase.lstVariants.map(a=>a.OriginalPriceNew),lstPrice=OrichiQuantityListLimitPurchase.lstVariants.map(a=>a.OriginalPrice)),"1"==ordcGetPara("CA-ShopifyDiscount-Combine")){lstPriceNew=[],lstPrice=OrichiQuantityListLimitPurchase.lstVariants.map(a=>a.OriginalPrice);for(let index=0;index<OrichiQuantityListLimitPurchase.lstVariants.length;index++)OrichiQuantityListLimitPurchase.lstVariants[index].Price<OrichiQuantityListLimitPurchase.lstVariants[index].OriginalPrice?(lstPriceNew.push(OrichiQuantityListLimitPurchase.lstVariants[index].Price),OrichiQuantityListLimitPurchase.lstVariants[index].CampaignName="Shopify discount"):lstPriceNew.push(OrichiQuantityListLimitPurchase.lstVariants[index].PriceNew)}var discountCode="";try{discountCode=o$(".orichi-quantity-DiscountCode").filter((i,e)=>""!=e.value).length>0?o$(".orichi-quantity-DiscountCode").filter((i,e)=>""!=e.value)[0].value:""}catch(error){}""==ordcGetPara("CA-ShopifyDCAuto-StopCombine")&&null!=OrichiQuantityCartInfo.DiscountShopify&&null!=OrichiQuantityCartInfo.DiscountShopify&&OrichiQuantityCartInfo.DiscountShopify.length>0&&(discountShopifyTitle=OrichiQuantityCartInfo.DiscountShopify[0].title,discountShopifyType=OrichiQuantityCartInfo.DiscountShopify[0].value_type,discountShopifyValue=OrichiQuantityCartInfo.DiscountShopify[0].value),""!=ordcGetPara("CA-Note-Set")&&(OrichiQuantityCartInfo.Note=o$(ordcGetPara("CA-Note-Set")).val()),"1"==ordcGetPara("CA-ShopifyDiscount-NotAppliedOrichi")&&""!=discountCode&&(lstPriceNew=lstPriceNew.map(p=>0));let pathnameCheckoutCart="/CheckOutCart?shop="+Shopify.shop,urlCheckoutCart=`${OrichiQuantityRequestUrlOld}${pathnameCheckoutCart}`;const shopApplyCheckOutCart2WithParameter=ordcGetPara("CA-ShopifyDiscount-CheckOutCart2");""!==shopApplyCheckOutCart2WithParameter&&"https://discount.orichicommerce.com/Customer"!=OrichiQuantityRequestUrl&&(pathnameCheckoutCart="/CheckOutCart2?shop="+Shopify.shop);const{UseDiscountCodeOnCheckoutPage:UseDiscountCodeOnCheckoutPage}=window.OrichiQuantitySettingInfo.Setting;if(("codonqua.myshopify.com"==Shopify.shop||"demo-peter-1.myshopify.com"==Shopify.shop||UseDiscountCodeOnCheckoutPage||shopApplyCheckOutCart2WithParameter&&""!==shopApplyCheckOutCart2WithParameter)&&(urlCheckoutCart=`${OrichiQuantityRequestUrl}${pathnameCheckoutCart}`,discountCode=""),orShopID(69615583468)){if(OrichiQuantityListLimitPurchase.lstVariants)for(let i=0;i<OrichiQuantityListLimitPurchase.lstVariants.length;i++)OrichiQuantityListLimitPurchase.lstVariants[i].ID>0&&(OrichiQuantityListLimitPurchase.lstVariants[i].Properties=(""==OrichiQuantityListLimitPurchase.lstVariants[i].Properties?"":OrichiQuantityListLimitPurchase.lstVariants[i].Properties+"???")+`_qq_discount_amount|||${Math.abs(OrichiQuantityListLimitPurchase.lstVariants[i].PercentOrPrice)}???_qq_discount_type|||fixed_amount`);OrichiQuantityListLimitPurchase.TotalPrice>OrichiQuantityListLimitPurchase.TotalPriceNew&&(OrichiQuantityCartInfo.Attributes=(""==OrichiQuantityCartInfo.Attributes?"":OrichiQuantityCartInfo.Attributes+"???")+`__qq_discount_amount|||${OrichiQuantityListLimitPurchase.TotalPrice-OrichiQuantityListLimitPurchase.TotalPriceNew}???__qq_discount_type|||fixed_amount???__qq_discount_reason|||${OrichiQuantityCartInfo.Note}`)}var PriceVariantNew=OrichiQuantityListLimitPurchase.lstVariants&&OrichiQuantityListLimitPurchase.lstVariants.length>0?OrichiQuantityListLimitPurchase.lstVariants.reduce((total,item)=>[...total,{ProductCode:item.ProductCode,TotalPriceNew:item.TotalNew,Variant:item.Variant,Quantity:item.Quantity}],[]):[];o$.ajax({url:urlCheckoutCart,data:{CampaignID:OrichiQuantityListLimitPurchase.lstVariants.map(a=>a.ID),CampaignName:OrichiQuantityListLimitPurchase.lstVariants.map(a=>null==a.CampaignName?"":a.CampaignName),Variant:OrichiQuantityListLimitPurchase.lstVariants.map(a=>a.Variant),ProductID:OrichiQuantityListLimitPurchase.lstVariants.map(a=>a.ProductCode),Quantity:OrichiQuantityListLimitPurchase.lstVariants.map(a=>a.Quantity),PriceType:OrichiQuantityListLimitPurchase.lstVariants.map(a=>a.PriceType),PercentOrPrice:OrichiQuantityListLimitPurchase.lstVariants.map(a=>a.PercentOrPrice),Grams:OrichiQuantityCartInfo.Grams,Price:lstPrice,PriceNew:lstPriceNew,shopid:__st.a,shop:Shopify.shop,Note:OrichiQuantityCartInfo.Note,DiscountShopifyTitle:discountShopifyTitle,DiscountShopifyType:discountShopifyType,DiscountShopifyValue:discountShopifyValue,DiscountCode:discountCode,Properties:OrichiQuantityListLimitPurchase.lstVariants.map(a=>a.Properties),TotalPrice:OrichiQuantityListLimitPurchase.TotalPrice,Attributes:null==OrichiQuantityCartInfo?"":OrichiQuantityCartInfo.Attributes,freeshipping:!1,DiscountOnTotal:OrichiQuantityListLimitPurchase.discountOntotal,CapDiscount:OrichiQuantityListLimitPurchase.lstVariants.map(a=>a.MaxDiscount),PriceVariantNew:PriceVariantNew,ApplyShopifyDiscountCode:OrichiQuantitySettingInfo.Setting.ApplyShopifyDiscountCode,TotalPriceNew:OrichiQuantityListLimitPurchase.TotalPriceNew},type:"POST",success:function(res){if(OrichiQuantityCheckoutInProcess=0,null!=res&&""!=res){try{orichiQuantityCheckoutCart||(orichiQuantityCheckoutCart=!0,null!=OrichiQuantityListLimitPurchase.discountOntotal?o$.ajax({url:OrichiQuantityRequestUrl+"/SetView?shop="+Shopify.shop,type:"POST",data:{campaignID:[OrichiQuantityListLimitPurchase.discountOntotal.ID],shop:Shopify.shop,isViewProduct:!1,isViewCart:!1,isViewCheckout:!0},success:function(res){},error:function(xhr,ajaxOptions,thrownError){console.log(thrownError)}}):o$.ajax({url:OrichiQuantityRequestUrl+"/SetView?shop="+Shopify.shop,type:"POST",data:{campaignID:OrichiQuantityListLimitPurchase.lstVariants.filter(p=>p.ID>1).map(p=>p.ID),shop:Shopify.shop,isViewProduct:!1,isViewCart:!1,isViewCheckout:!0},success:function(res){},error:function(xhr,ajaxOptions,thrownError){console.log(thrownError)}}))}catch(err){console.log(err)}return orShopID(58558775470)&&""!=discountCode?void setTimeout(()=>{window.location.replace(res)},1e3):"false"==ordcGetPara("CA-CO-LAN")?void window.location.replace(res):(("true"==ordcGetPara("CA-CO-LAN")||OrichiQuantitySettingInfo.Setting.ShopID>orichiQuantityShopID160)&&(res+="?locale="+Shopify.locale),void window.location.replace(res))}return"1"==ordcGetPara("CA-CB-NoDiscount-Submit")?void o$(OrichiQuantityButtonCheckOut).submit():orShopID(36070359178)?void(window.location.href=window.location.origin+Shopify.routes.root+"checkout"):void(window.location.href=window.location.origin+Shopify.routes.root+"/checkout")},error:function(xhr,ajaxOptions,thrownError){return navigator.userAgent.toLocaleLowerCase().indexOf("firefox")>=0&&""==thrownError?void(OrichiQuantityCheckoutInProcess=0):(OrichiQuantityCheckoutInProcess=0,"1"==ordcGetPara("CA-CB-NoDiscount-Submit")?void o$(OrichiQuantityButtonCheckOut).submit():orShopID(36070359178)?void(window.location.href=window.location.origin+Shopify.routes.root+"checkout"):void(window.location.href=window.location.origin+"/checkout"))}})}}function OrichiBuyItNowRedirect(){var quantity=null==o$(".quantity #quantity").val()?o$('input[name="quantity"]').val():o$(".quantity #quantity").val(),variantObj=meta.product.variants.find(p=>p.id==o$('[name="id"]').val());null==variantObj&&(variantObj=meta.product.variants[0]);var isClearCart=!1,para=[];para.push("updates["+variantObj.id+"]="+quantity),para.length>0&&(jQuery.post("/cart/update.js",para.join("&")),setTimeout((function(){window.location.href=window.location.origin+"/cart"}),500))}function orichiCheckProductLabel(){if(o$("#orichi-col-handle").length>0||"1"==ordcGetPara("Home-ProductLabel-Active")&&"home"==__st.p||"1"==ordcGetPara("Search-ProductLabel-Active")&&"searchresults"==__st.p||"1"==ordcGetPara("Pro-ProductLabel-Active")&&"product"==__st.p){var listHandle=[],listHandleElement=[],listProductHandle=o$("#orichi-col-handle").length>0?o$("#orichi-col-handle").val().split(","):[],listProductId=o$("#orichi-col-id").length>0?o$("#orichi-col-id").val().split(","):[],listProductPrice=o$("#orichi-col-price").length>0?o$("#orichi-col-price").val().split(","):[],aElementSelector='a[href*="/products/"]',imgElementSelector='.rimage__image,.product-grid-image img,img[src*="/products/"],img[srcset*="/products/"]:first,.grid__image-ratio[data-bgset],.featured-slider__slide-image,.product--image, .grid-view-item__image, .product-card__image, .card__inner .media img';""!=ordcGetPara("Col-ProductLabel-ImgSel")&&(imgElementSelector+=","+ordcGetPara("Col-ProductLabel-ImgSel")),""!=ordcGetPara("Col-ProductLabel-aSel")&&(aElementSelector=ordcGetPara("Col-ProductLabel-aSel")),("1"==ordcGetPara("Home-ProductLabel-Active")&&"home"==__st.p||"1"==ordcGetPara("Search-ProductLabel-Active")&&"searchresults"==__st.p)&&(listProductHandle=[],listProductId=[],o$(".productitem [data-product-compare-data]").each((function(){if(0==o$(this).find(".orichi-productlabel-checked").length){var dataJson=JSON.parse(o$(this).html());null!=gsCollectionProducts[dataJson.handle]&&(listProductHandle.push(dataJson.handle),listProductId.push(gsCollectionProducts[dataJson.handle].productId))}})),o$(".productListing .product-item[data-json-product]").each((function(){if(0==o$(this).find(".orichi-productlabel-checked").length){var dataJson=JSON.parse(o$(this).attr("data-json-product"));listProductHandle.push(dataJson.handle),listProductId.push(dataJson.id)}})),o$(".orichi-productitem .orichi-productitem-json").each((function(){if(0==o$(this).find(".orichi-productlabel-checked").length){var dataJson=JSON.parse(o$(this).html());listProductHandle.push(dataJson.handle),listProductId.push(dataJson.id)}}))),"1"==ordcGetPara("Pro-Recommend-ProductLabel-Active")&&"product"==__st.p&&(listProductHandle=[],listProductId=[],o$(".product-grid .grid__item").each((function(){if(0==o$(this).find(".orichi-productlabel-checked").length)try{var handle=o$(this).find("a.grid-item__link").attr("href").match(/(?:\/products\/).*/)[0],id=o$(this).attr("data-product-id");listProductHandle.push(handle),listProductId.push(id),listProductPrice.push(0)}catch(error){}}))),o$(aElementSelector).each((function(){if(!o$(this).hasClass("orichi-productlabel-checked"))for(var count=5,target=o$(this);count>0;){if(o$(target).find(imgElementSelector).length>0){var handle=null!=o$(this).attr("href").split("/products/")[1]?o$(this).attr("href").split("/products/")[1].split("?")[0]:"";if(""!=handle){listHandle.push(handle);var targetElement=o$(target).find(imgElementSelector);orShopID(53025308858)&&(targetElement=o$(target).find(imgElementSelector).parent().parent()),listHandleElement.push(targetElement)}o$(this).addClass("orichi-productlabel-checked");break}target=o$(target).parent(),count--}})),(listHandle.length>0&&meta.products&&meta.products.length>0||"1"==ordcGetPara("Home-ProductLabel-Active")&&listHandle.length>0||"1"==ordcGetPara("Pro-ProductLabel-Active")&&listHandle.length>0||"1"==ordcGetPara("Search-ProductLabel-Active")&&listHandle.length>0)&&(orichiQuantityGetCartCount++,o$.ajax({url:OrichiQuantityRequestUrl+"/GetCollectionInfoByHandle",data:{products:listProductId,shopid:__st.a,shop:Shopify.shop,customerEmail:o$(".OrichiCustomerEmail").val(),customerTags:o$(".OrichiCustomerTags").val()},type:"POST",success:function(res){orichiQuantityCollectionRes=res,""!=ordcGetPara("CA-MF-R")&&(res.Currency=res.Currency.replace(ordcGetPara("CA-MF-R"),"")),""!=ordcGetPara("CA-MF-C")&&(res.Currency=ordcGetPara("CA-MF-C"));var currency=res.Currency;if(currency.indexOf("<span")<0&&(currency=res.Currency?res.Currency.split(" ")[0]:""),null!=res.Setting&&res.Setting.Active&&2!=res.Setting.PlanNumber&&null!=res.DiscountTag&&null!=res.DiscountTag.TagMessage){var iconSvg=orichiGetSvgIcon(res.DiscountTag),position="";switch(res.DiscountTag.TagPosition){case 1:position="top: 0px;bottom: unset;left: 0px;right: unset; padding: 10px;";break;case 2:position="top: 0px;bottom: unset;left: unset;right: 0px; padding: 10px;";break;case 3:position="top: unset;bottom: 0px;left: 0px;right: unset; padding: 10px;";break;case 4:position="top: unset;bottom: 0px;left: unset;right: 0px; padding: 10px;";break;default:position="top: 0px;bottom: unset;left: 0px;right: unset; padding: 10px;"}if(4==res.DiscountTag.TypeOfTag)switch(res.DiscountTag.TagPosition){case 1:case 2:position+="transform: none;";break;case 3:position="top: unset;bottom: 0px;left: 0px;right: unset; padding: 5px;transform: rotate(270deg);";break;case 4:position="top: unset;bottom: 0px;left: unset;right: 0px; padding: 5px;transform: rotate(90deg);";break;default:position+="transform: none;"}for(var element=`<div class="orichiDiscountTag" style="\n                                        position: absolute;\n                                        ${position}\n                                        z-index: 2;\n                                        ">${iconSvg}</div>`,i=0;i<listHandleElement.length;i++){var colIndex=listProductHandle.indexOf(listHandle[i]);colIndex<0&&(colIndex=listProductHandle.indexOf(decodeURI(listHandle[i])));var productCode=listProductId[colIndex],productPrice=listProductPrice[colIndex],rule=res.Rules.find(p=>null!=p&&p.ProductCode==productCode);if(null!=rule&&null!=rule){var textPercentPrice="",textPercentPriceMin="";switch(rule.PriceType){case 1:textPercentPrice=rule.PercentOrPrice+"%";break;case 2:case 3:case 4:textPercentPrice=ShopifyFormatMoney(100*rule.PercentOrPrice,currency)}switch(rule.PriceType){case 1:textPercentPriceMin=rule.PercentOrPriceMax+"%";break;case 2:case 3:case 4:textPercentPriceMin=ShopifyFormatMoney(100*rule.PercentOrPriceMax,currency)}var original_price=productPrice,discount_price=0;switch(rule.PriceType){case 1:discount_price=original_price-original_price*rule.PercentOrPrice/100;break;case 2:discount_price=original_price-100*rule.PercentOrPrice;break;case 3:discount_price=100*rule.PercentOrPrice;break;case 4:discount_price=original_price-rule.PercentOrPrice/Math.ceil(rule.Quantity/original_price)*100}var element2=element.replace("{PercentOrPrice}",textPercentPrice).replace("{Quantity}",rule.Quantity).replace("{PercentOrPriceMin}",textPercentPriceMin).replace("{QuantityMin}",rule.QuantityMax);element2=element2.replace(/{DiscountPrice}/g,ShopifyFormatMoney(discount_price,res.Currency)).replace(/{OriginalPrice}/g,ShopifyFormatMoney(original_price,res.Currency)).replace(/{OriginalPriceStrike}/g,`<span style="text-decoration: line-through;">${ShopifyFormatMoney(original_price,res.Currency)}</span>`);for(var count=5,target=o$(listHandleElement[i]),isAppended=!1;count>0;){if("relative"==o$(target).css("position")){o$(target).append(element2),isAppended=!0;break}target=o$(target).parent(),count--}}}}}}))}}function orichiCheckDiscountRange(){if(o$("#orichi-col-handle").length>0||"1"==ordcGetPara("Home-ProductLabel-Active")&&"home"==__st.p||"1"==ordcGetPara("Search-ProductLabel-Active")&&"searchresults"==__st.p){var listHandle=[],listProductHandle=o$("#orichi-col-handle").length>0?o$("#orichi-col-handle").val().split(","):[],listProductId=o$("#orichi-col-id").length>0?o$("#orichi-col-id").val().split(","):[],listProductPrice=o$("#orichi-col-price").length>0?o$("#orichi-col-price").val().split(","):[],priceElementSelector=".price,.grid-product__price,.product-item--price, .price-list",productListSelector='a[href*="/products/"]';""!=ordcGetPara("Col-ProductList-Selector")&&(productListSelector=ordcGetPara("Col-ProductList-Selector")),""!=ordcGetPara("Col-PriceRange-PriceSel")&&(priceElementSelector+=","+ordcGetPara("Col-PriceRange-PriceSel")),""!=ordcGetPara("Col-PriceRange-PriceSel-Reset")&&(priceElementSelector=ordcGetPara("Col-PriceRange-PriceSel-Reset")),("1"==ordcGetPara("Home-ProductLabel-Active")&&"home"==__st.p||"1"==ordcGetPara("Col-PriceRange-ProductInfo-Reset")||"1"==ordcGetPara("Search-ProductLabel-Active")&&"searchresults"==__st.p)&&(listProductHandle=[],listProductId=[],listProductPrice=[],o$(".productitem [data-product-compare-data]").each((function(){if(0==o$(this).find(".orichi-discountrange-checked").length){var dataJson=JSON.parse(o$(this).html());null!=gsCollectionProducts[dataJson.handle]&&(listProductHandle.push(dataJson.handle),listProductId.push(gsCollectionProducts[dataJson.handle].productId))}})),o$(".productListing .product-item[data-json-product]").each((function(){if(0==o$(this).find(".orichi-discountrange-checked").length){var dataJson=JSON.parse(o$(this).attr("data-json-product"));listProductHandle.push(dataJson.handle),listProductId.push(dataJson.id),listProductPrice.push(dataJson.price)}if("1"==ordcGetPara("Col-ProductRange-ReCheck")&&o$(this).find(".orichiDiscountTag").length>0&&0==o$(this).find(".orichiDiscountRange").length){o$(this).find(".orichi-discountrange-checked").removeClass("orichi-discountrange-checked");var dataJson=JSON.parse(o$(this).attr("data-json-product"));listProductHandle.push(dataJson.handle),listProductId.push(dataJson.id),listProductPrice.push(dataJson.price)}})),o$(".orichi-productitem .orichi-productitem-json").each((function(){if(0==o$(this).find(".orichi-productlabel-checked").length){var dataJson=JSON.parse(o$(this).html());listProductHandle.push(dataJson.handle),listProductId.push(dataJson.id),listProductPrice.push(dataJson.price)}})),o$("grid-slider .grid__item product-card, #CollectionProductGrid .grid__item product-card").each((function(){if(0==o$(this).find(".orichi-discountrange-checked").length){listProductHandle.push(o$(this).attr("data-product-url").split("/").pop().split("?")[0]),listProductId.push(o$(this).attr("data-product-id"));var dataJson=JSON.parse(o$(this).attr("data-current_variant"));listProductPrice.push(dataJson.price)}})),__st.p),o$(productListSelector).each((function(){if(!o$(this).hasClass("orichi-discountrange-checked"))for(var $target=o$(this),check=!1,count=7;count>0;){if($target.find(priceElementSelector).length>0){var handle=null!=o$(this).attr("href").split("/products/")[1]?o$(this).attr("href").split("/products/")[1].split("?")[0]:"";""!=handle&&$target.find(priceElementSelector).length<=listProductId.length-1&&listHandle.push({handle:handle,ele:$target.find(priceElementSelector).first()}),o$(this).addClass("orichi-discountrange-checked");break}$target=$target.parent(),count--}})),listHandle.length>0&&(orichiQuantityGetCartCount++,o$.ajax({url:OrichiQuantityRequestUrl+"/GetCollectionRangeInfoByHandle",data:{products:listProductId,shopid:__st.a,shop:Shopify.shop,customerEmail:o$(".OrichiCustomerEmail").val(),customerTags:o$(".OrichiCustomerTags").val(),languageCode:orichiQuantitylanguageCode},type:"POST",success:function(res){null!=res.Setting&&res.Setting.Active&&2!=res.Setting.PlanNumber&&res.Rules&&""!==res.Setting.TextDiscountRange&&(""!=ordcGetPara("CA-MF-R")&&(res.Currency=res.Currency.replace(ordcGetPara("CA-MF-R"),"")),""!=ordcGetPara("CA-MF-C")&&(res.Currency=ordcGetPara("CA-MF-C")),listHandle.forEach((item,i)=>{var colIndex=listProductHandle.indexOf(item.handle);colIndex<0&&(colIndex=listProductHandle.indexOf(decodeURI(item.handle)));var productCode=listProductId[colIndex],productPrice=listProductPrice[colIndex],obj=res.Rules.find(p=>null!=p&&p.ProductCode==productCode);if(obj&&0==item.ele.find(".orichiDiscountRange").length){var priceElement=item.ele;priceElement.find(".price-item").length>0&&(priceElement=priceElement.find(".price-item").first());var original_price=productPrice,min_price=0;switch(obj.PriceType){case 1:min_price=original_price-original_price*obj.PercentOrPrice/100;break;case 2:min_price=original_price-100*obj.PercentOrPrice;break;case 3:min_price=100*obj.PercentOrPrice;break;case 4:min_price=original_price-obj.PercentOrPrice/Math.ceil(obj.Quantity/original_price)*100}if(min_price<=original_price&&min_price>0){var text=res.Setting.TextDiscountRange?res.Setting.TextDiscountRange:"From {min_price} to {original_price}";text=text.replace(/{min_price}/g,ShopifyFormatMoney(min_price,res.Currency)).replace(/{original_price}/g,ShopifyFormatMoney(original_price,res.Currency)).replace(/{original_price_strike_through}/g,`<span style="text-decoration: line-through;">${ShopifyFormatMoney(original_price,res.Currency)}</span>`),item.ele.html(`<span class="orichiDiscountRange">${text}</span>`),res.Setting.TextColorDiscountRange&&item.ele.css("color",res.Setting.TextColorDiscountRange)}}}))}}))}}function orichiGetSvgIcon(setting){setting.Text=setting.TagMessage,setting.TextSplit=(null==setting.TagMessage?"":setting.TagMessage).split(" ").filter(e=>""!==e);const calculatedTagSize=Number(setting.TagSize)+Number(setting.TagBorderSize),height=calculatedTagSize/2;switch(setting.TypeOfTag){case 1:return`<svg width=${calculatedTagSize} height=${height} viewBox="0 0 ${calculatedTagSize} ${height}" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t<rect y="0.5" width="${setting.TagSize}" height="${height}" rx=${setting.TagCornerRadius} fill=${setting.TagBackgroundColor} stroke=${setting.TagBorderColor} stroke-width=${setting.TagBorderSize} />\n\t\t\t\t\t${1==setting.TextSplit.length?`<text dx="14" dy="19" font-size=${setting.TagFontSize} fill=${setting.TagTextColor}>${setting.Text}</text>`:`<text dx="6" dy="19" font-size=${setting.TagFontSize} fill=${setting.TagTextColor}>${setting.Text}</text>`}\n\t\t\t\t</svg>`;case 2:return`<svg width=${setting.TagSize} height=${setting.TagSize} viewBox="0 0 41 42" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t<path d="M18.8209 1.09464C19.609 -0.12324 21.391 -0.12324 22.1791 1.09464L24.4842 4.65671C24.9986 5.45152 25.9997 5.77682 26.883 5.43613L30.8417 3.90928C32.1951 3.38725 33.6367 4.43463 33.5585 5.88316L33.3297 10.1199C33.2786 11.0652 33.8973 11.9169 34.8122 12.1604L38.9123 13.252C40.3141 13.6252 40.8647 15.3199 39.95 16.4458L37.2746 19.7389C36.6776 20.4737 36.6776 21.5263 37.2746 22.2611L39.95 25.5542C40.8647 26.6801 40.3141 28.3748 38.9123 28.748L34.8122 29.8396C33.8973 30.0831 33.2786 30.9348 33.3297 31.8801L33.5585 36.1168C33.6367 37.5654 32.1951 38.6127 30.8417 38.0907L26.883 36.5639C25.9997 36.2232 24.9986 36.5485 24.4842 37.3433L22.1791 40.9054C21.391 42.1232 19.609 42.1232 18.8209 40.9054L16.5158 37.3433C16.0014 36.5485 15.0003 36.2232 14.117 36.5639L10.1583 38.0907C8.80486 38.6127 7.36328 37.5654 7.44151 36.1168L7.67035 31.8801C7.72141 30.9348 7.10266 30.0831 6.18781 29.8396L2.08774 28.748C0.685924 28.3748 0.135286 26.6801 1.05001 25.5542L3.72542 22.2611C4.32238 21.5263 4.32238 20.4737 3.72542 19.7389L1.05001 16.4458C0.135286 15.3199 0.685924 13.6252 2.08774 13.252L6.18781 12.1604C7.10266 11.9169 7.72141 11.0652 7.67035 10.1199L7.44151 5.88316C7.36328 4.43463 8.80486 3.38725 10.1583 3.90928L14.117 5.43613C15.0003 5.77682 16.0014 5.45152 16.5158 4.65671L18.8209 1.09464Z" rx=${setting.TagCornerRadius} fill=${setting.TagBackgroundColor} stroke=${setting.TagBorderColor} stroke-width=${setting.TagBorderSize} />\n\t\t\t\t\t${1==setting.TextSplit.length?`<text dx="11" dy="24" font-size=${setting.TagFontSize} fill=${setting.TagTextColor}>${setting.Text}</text>`:setting.TextSplit.map((text,index)=>`<text dx="11" dy=${0===index?20:18*(index+.7)} font-size=${setting.TagFontSize} fill=${setting.TagTextColor}>${text}</text>`)}\n\t\t\t\t</svg>`;case 3:return`<svg width=${setting.TagSize} height=${setting.TagSize} viewBox="0 0 47 44" fill="none" xmlns="http://www.w3.org/2000/svg" >\n\t\t\t\t\t<path d="M43.7582 24.4821C44.0782 24.2527 44.3456 23.9573 44.5425 23.6157C44.7394 23.274 44.8613 22.8941 44.9 22.5012L46.4073 6.84506C46.4733 6.15934 46.2808 5.47335 45.8678 4.92236C45.4548 4.37137 44.8513 3.99535 44.1762 3.86849L28.1751 0.872128C27.8014 0.80737 27.4187 0.818349 27.0495 0.904382C26.6803 0.990414 26.3321 1.14978 26.0254 1.37308L2.05018 19.3999C1.4949 19.8176 1.11901 20.4319 0.998697 21.1181C0.878388 21.8043 1.02267 22.5111 1.40229 23.0952L13.7703 42.273C13.971 42.5849 14.2325 42.8528 14.539 43.0606C14.8456 43.2684 15.1908 43.4118 15.5539 43.482C15.917 43.5523 16.2904 43.548 16.6516 43.4695C17.0128 43.3909 17.3543 43.2396 17.6555 43.0249L43.7582 24.4821ZM40.4246 8.86766C40.2268 8.54577 40.1291 8.17216 40.144 7.79457C40.1589 7.41699 40.2856 7.0526 40.508 6.74795C40.7304 6.44331 41.0384 6.21225 41.3926 6.08431C41.7467 5.95638 42.131 5.93739 42.4963 6.02976C42.8616 6.12212 43.1913 6.32166 43.4433 6.60286C43.6953 6.88405 43.8581 7.23413 43.9109 7.60837C43.9637 7.98261 43.9041 8.364 43.7398 8.70378C43.5754 9.04357 43.3138 9.32632 42.9883 9.51591C42.5603 9.7706 42.0494 9.84576 41.5661 9.7251C41.0827 9.60444 40.666 9.29768 40.406 8.87124L40.4246 8.86766Z" rx=${setting.TagCornerRadius} fill=${setting.TagBackgroundColor} stroke=${setting.TagBorderColor} stroke-width=${setting.TagBorderSize} />\n\t\t\t\t\t${1==setting.TextSplit.length?`<text dx="13" dy="25" font-size=${setting.TagFontSize} fill=${setting.TagTextColor}>${setting.Text}</text>`:setting.TextSplit.map((text,index)=>`<text dx="16" dy=${0===index?20:18*(index+.7)} font-size=${setting.TagFontSize} fill=${setting.TagTextColor}>${text}</text>`)}\n\t\t\t\t</svg>`;case 4:var transform=3==setting.TagPosition?"translate(32,-3) rotate(90)":4==setting.TagPosition?"translate(0,30) rotate(-90)":"none";return`<svg width=${setting.TagSize} height=${setting.TagSize} viewBox="0 0 31 37" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t<path d="M0 0.5H31V34.2244C31 35.921 29.0204 36.847 27.7181 35.7596L17.218 26.9918C16.0917 26.0513 14.4504 26.0635 13.3382 27.0207L3.30463 35.6559C2.00808 36.7718 0 35.8506 0 34.14V0.5Z" rx=${setting.TagCornerRadius} fill=${setting.TagBackgroundColor} stroke=${setting.TagBorderColor} stroke-width=${setting.TagBorderSize} />\n\n\t\t\t\t\t${1==setting.TextSplit.length?`<text dx="6" dy="18" font-size=${setting.TagFontSize} fill=${setting.TagTextColor} transform="${transform}">${setting.Text}</text>`:setting.TextSplit.map((text,index)=>`<text dx="6" dy=${0===index?14:15*(index+.7)} font-size=${setting.TagFontSize} fill=${setting.TagTextColor} transform="${transform}">${text}</text>`)}\n\n\t\t\t\t</svg>`}}function ordcGetPara(type){var res="";try{try{if(null!=orichiQuantityParameter["Para-Theme"]&&""!=orichiQuantityParameter["Para-Theme"]){let arrTheme=orichiQuantityParameter["Para-Theme"].split(",");for(let index=0;index<arrTheme.length;index++){let arrItem=arrTheme[index].split(":");if(arrItem[0]==Shopify.theme.name){type=arrItem[1]+type;break}}}}catch(error){}void 0!==orichiQuantityParameter&&null!=orichiQuantityParameter&&null!=orichiQuantityParameter[type]&&(res=orichiQuantityParameter[type])}catch(error){}return res}function OrichiCustomCampaignInit(){var campaigns=[],products=[];o$(".orichiCampaignCustom").each((function(i,e){if(!o$(this).hasClass("orichiCampainCustom-checked")){var campaignid=o$(this).attr("data-campaignid"),productid=o$(this).attr("data-productid");""!=campaignid&&""!=productid&&(campaigns.push(campaignid),products.push(productid))}})),campaigns.length>0&&products.length>0&&(orichiQuantityGetCartCount++,o$.ajax({url:OrichiQuantityRequestUrl+"/GetCustomCampaignInfo",data:{id:products,campaignid:campaigns,shopid:__st.a,shop:Shopify.shop,customerEmail:o$(".OrichiCustomerEmail").val(),customerTags:o$(".OrichiCustomerTags").val(),languageCode:orichiQuantitylanguageCode},type:"POST",success:function(res2){if(null!=res2.Setting&&res2.Setting.Active){var index=0;o$(".orichiCampaignCustom").each((function(i,e){if(!o$(this).hasClass("orichiCampainCustom-checked")){o$(this).addClass("orichiCampainCustom-checked");var campaignid=o$(this).attr("data-campaignid"),productid=o$(this).attr("data-productid");if(""!=campaignid&&""!=productid){var currentElement=this,res={Rule:res2.Rule[index],Limit:res2.Limit[index],Setting:res2.Setting,Setting2:res2.Setting2,Currency:res2.Currency,Price:res2.Price[index]};if(82319409469==__st.a&&null!=product_variant_map&&__st.pageurl.indexOf("/apps/")>0&&product_variant_map.length>0&&(res.Price=product_variant_map[0].price/100),void 0!==meta.product&&(res.Price=meta.product.variants[0].price/100),0==res.Price&&""!=ordcGetPara("Pro-DT-CustomCode-Price"))try{res.Price=parseFloat(ordcGetPara("Pro-DT-CustomCode-Price"))}catch(error){}index++,""!=ordcGetPara("CA-MF-R")&&(res.Currency=res.Currency.replace(ordcGetPara("CA-MF-R"),"")),""!=ordcGetPara("CA-MF-C")&&(res.Currency=ordcGetPara("CA-MF-C"));var texthtml="",textLimitPurchase="",objQuantityBreak={};switch(res.Setting.LayoutInProductPage){case 1:texthtml=(objQuantityBreak=OrichiRenderQuantityBreakTableHorizontal(res)).htmlTable;break;case 3:texthtml=(objQuantityBreak=OrichiRenderQuantityBreakCard(res)).htmlTable;break;case 4:texthtml=(objQuantityBreak=OrichiRenderQuantityBreakTableVertical(res)).htmlTable}if(1==res.Setting.LayoutInProductPage||4==res.Setting.LayoutInProductPage){var objHaloween=RenderSectionHeloween(res);null!=objHaloween&&objHaloween.isRender&&(texthtml=texthtml.replaceAll("<table",objHaloween.htmlStart).replaceAll("</table>",objHaloween.htmlEnd),o$("head").append(`<style>${orichiHaloweenCss()}</style>`))}if(texthtml+=objQuantityBreak.pTag,null!=res.Limit){var titleLimitStyle=`font-size:  ${res.Setting2.FontSizeTitlePurchaseLimit}px; color:  ${res.Setting2.TextColorTitlePurchaseLimit};`,headerLimitStyle=`font-size:  ${res.Setting2.FontSizeLimitTable}px; color:  ${res.Setting2.TextColorLimitTable}; background-color:  ${res.Setting2.BackgroundColorLimitTable}; border: 1px solid;`,rowLimitStyle=`font-size:  ${res.Setting2.FontSizeLimitTable}px; color:  ${res.Setting2.TextColorTitlePurchaseLimit}; border: 1px solid;`;textLimitPurchase=null!=res.Limit&&0==res.Limit.LimitType&&res.Limit.IsLimitPurchaseWholeProduct?`<h2 style="${titleLimitStyle}" > ${null==res.Setting2.TextPurchaseLimit?"":res.Setting2.TextPurchaseLimit} </h2><table><thead><tr><td style="${headerLimitStyle}"> ${null==res.Setting2.TextMinimum?"":res.Setting2.TextMinimum}</td><td style="${headerLimitStyle}"> ${null==res.Setting2.TextMaximum?"":res.Setting2.TextMaximum}</td></tr></thead><tbody><tr><td style="${rowLimitStyle}">${res.Limit.Min}</td><td style="${rowLimitStyle}">${0==res.Limit.Max?"Unlimited":res.Limit.Max}</td></tr></tbody></table>`:""}o$(this).html('<div class="orichi-Rule">'+texthtml+'</div><div  class="orichi-Limit">'+textLimitPurchase+"</div>"),o$(".orichi-money").each((function(index,element){"1"!=o$(element).attr("data-format")&&(o$(element).html(ShopifyFormatMoney(o$(element).html(),res.Currency)),o$(element).attr("data-format","1"))}))}}}))}}}))}function orShopID(id){try{return __st.a==id}catch(error){return!1}}function ordcCheckItemDiscount(ele){setInterval(()=>{OrichiQuantityListLimitPurchase&&OrichiQuantityListLimitPurchase.lstVariants.forEach((element,index)=>{var itemSelector=ele.replace("{variant}",element.Variant).replace("{variant}",element.Variant);0==element.ID&&(o$(itemSelector).find(".orichi-quantity-cart").length>0||o$(itemSelector).find(".orichi-quantity-line-through").length>0)&&(o$(itemSelector).find(".orichi-quantity-cart").remove(),o$(itemSelector).find(".orichi-quantity-line-through").css("text-decoration",""),o$(itemSelector).find(".orichi-quantity-line-through").removeClass("orichi-quantity-line-through"))})},1e3)}"demo-peter-1.myshopify.com"!=Shopify.shop&&"cat-amazing.myshopify.com"!=Shopify.shop||(OrichiQuantityRequestUrl="https://discount.orichicommerce.com/Customer"),"undefined"!=typeof orichiDiscountSettingData&&orichiDiscountSettingData.setting&&orichiDiscountSettingData.setting.ShopId>=22922&&(OrichiQuantityRequestUrl="https://discount.orichicommerce.com/Customer"),orichiCartAjaxInit(),OrichiCustomCampaignInit();